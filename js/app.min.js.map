{"version":3,"sources":["app.js"],"names":["email_test","input","test","value","sliders","document","querySelectorAll","index","length","slider","classList","contains","slider_items","children","add","slider_content","innerHTML","slider_wrapper","createElement","appendChild","sliderScroll","sliders_bild_callback","params","sliderHero","Swiper","slidesPerView","spaceBetween","speed","autoHeight","pagination","el","clickable","navigation","nextEl","prevEl","on","lazyImageReady","ibg","sliderProducts","watchSlidesVisibility","loop","breakpoints","sliderStocks","sliderScrollItems","sliderScrollItem","sliderScrollBar","querySelector","observer","observeParents","direction","freeMode","scrollbar","draggable","snapOnRelease","mousewheel","releaseOnEdges","updateSize","ua","window","navigator","userAgent","msie","indexOf","isMobile","Android","match","BlackBerry","iOS","Opera","Windows","any","isIE","testWebP","callback","webP","Image","onload","onerror","height","src","i","getAttribute","style","backgroundImage","support","addEventListener","setTimeout","unlock","location","hash","hsh","replace","popup_open","_goto","iconMenu","delay","menuBody","e","body_lock","toggle","menu_close","remove","body_lock_remove","body_lock_add","body","lock_padding","paddingRight","innerWidth","offsetWidth","title","txt_words","split","new_title","txt_word","len","it","substr","tabs","tab","tabs_items","tabs_blocks","tabs_item","preventDefault","spollers","spollersGo","spollerCLick","spoller","target","closest","curent_spollers","_slideUp","nextElementSibling","_slideToggle","spollersInit","spollerMax","cssText","removeEventListener","spollersShowActive","gallery","gallery_init","lightGallery","counter","selector","download","search_in_list","li","parentNode","filter","toUpperCase","item","txtValue","textContent","innerText","display","digi","str","toString","digi_animate","el_to","parseInt","digi_animate_value","start","end","duration","obj","range","stepTime","Math","abs","floor","max","timer","endTime","Date","getTime","run","now","remaining","round","clearInterval","setInterval","popup_link","popups","popup_close","video","curent_popup","history","pushState","bodyUnlock","popup","href","popup_close_icon","code","transitionProperty","transitionDuration","offsetHeight","overflow","paddingTop","paddingBottom","marginTop","marginBottom","removeProperty","_slideDown","getComputedStyle","_wrap","wrapper","insertBefore","_removeClasses","class_name","console","log","_is_hidden","offsetParent","moreBlocks","moreBlock","items","isScrollStart","itemsMore","itemsContent","itemsView","setSize","type","resultHeight","itemsContentHeight","itemsContentStartHeight","isScrollEnd","getPropertyValue","allRatings","setRatingActiveWidth","activeRatingValue","ratingActive","ratingActiveWidth","width","animate","timing","draw","performance","requestAnimationFrame","time","timeFraction","progress","makeEaseOut","makeEaseInOut","quad","pow","circ","sin","acos","send","event","php","returnValue","req","XMLHttpRequest","open","status","json","JSON","parse","this","response","result","alert","FormData","forEach","Element","prototype","css","node","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","help","async","getMoreQuestions","targetElem","fetch","ok","text","insertAdjacentHTML","previousElementSibling","favourites","favouriteCurrent","colorSchemes","colorScheme","tabLinks","tabsContent","sidebar","tabLink","tabId","tabContent","userbarItems","hideAllUserbarPopups","userbarPopup","itemsWrapper","emptyMessage","getUserBarInfo","activePopup","userbarItem","itemId","searchInput","headerMenu","searchBlock","searchIcon","clearInputIcon","searchHideIcon","searchList","hoverTexts","hoverTextActive","currentHeight","forms","form_submit","form","form_validate","formAction","trim","formMethod","message","ajax","formData","method","form_clean","form_error","error","form_req","form_validate_input","input_g_value","em","form_add_error","form_remove_error","checked","input_error","removeChild","input_error_text","inputs","checkboxes","selects","select","select_default_value","select_item","viewPass","element","setAttribute","getElementsByTagName","selects_init","select_init","selects_close","select_body_options","select_parent","select_modifikator","select_selected_option","select_items","select_options","select_selected_text","select_type","select_type_content","select_get_options","select_actions","original","selectTitle","select_input","selectMultiItems","selectedOptions","originalOptions","selectedOptionsText","selectedOption","removeAttribute","selectOptionText","push","selectItemActions","select_option","select_option_value","select_option_text","select_search","hasAttribute","select_options_content","select_search_text","selects_update_all","inputs_init","input_placeholder_add","input_focus_add","Inputmask","clearIncomplete","clearMaskOnLostFocus","onincomplete","input_clear_mask","mask","placeholder","input_focus_remove","calendarItem","datepicker","customDays","customMonths","overlayButton","overlayPlaceholder","startDay","formatter","date","instance","toLocaleDateString","onSelect","dataFrom","dataTo","setMin","setMax","inputmask","quantityButtons","quantityButton","priceSlider","textFrom","textTo","setPriceValues","priceStartValue","priceEndValue","priceStart","priceEnd","noUiSlider","set","create","connect","tooltips","wNumb","decimals","prefix","min","currentScroll","scr_body","scr_blocks","scr_items","scr_fix_block","scr_min_height","scrolling","scrolling_full","scrollDirection","scroll_scroll","src_value","pageYOffset","header","block","block_offset","offset","top","block_height","innerHeight","scr_item","scr_item_offset","scr_item_height","scr_item_point","scroll_load_item","scroll_lazy","fix_block","custom_scroll_line","window_height","content_height","scr_procent","custom_scroll_line_height","transform","lazy_src","lazy_srcset","getElementById","map","scrParallax","scrProcent","blockHeight","prlxItems","prlxItem","prlxItemValue","dataset","prlx","disableScroll","full_scroll","swiperScrolls","swiperScroll","getPrevBlockPos","current_block_prev","viewport_height","current_block_prev_height","block_pos","current_block","current_block_pos","current_block_height","current_block_next","keyCode","deltaX","deltaY","full_scroll_to_sector","enableScroll","pos","scr_pause","appVersion","full_scroll_pagestart","full_scroll_pageend","link","blocks","block_name","target_block_class","old_current_link","block_item","current_links","goto_links","goto_link","target_block","options","speedAsDuration","easing","SmoothScroll","animateScroll","rect","getBoundingClientRect","scrollLeft","pageXOffset","documentElement","scrollTop","left","passive","onwheel","onmousewheel","ontouchmove","onkeydown","preventDefaultForScrollKeys","scr_value","window_width","header_height","block_width","gotoRelative","custom_scroll","custom_scroll_content_height","custom_cursor_height","new_pos","scroll_animate","DynamicAdapt","init","_this","daClassname","nodes","dataArray","da","parent","destination","breakpoint","place","indexInParent","arraySort","mediaQueries","Array","call","self","media","mediaSplit","String","matchMedia","mediaBreakpoint","addListener","mediaHandler","moveTo","moveBack","insertAdjacentElement","undefined","array","slice","arr","sort","a","b"],"mappings":"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","file":"app.min.js","sourcesContent":["function email_test(input) {\r\n\treturn !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n}\r\n//BildSlider\r\nlet sliders = document.querySelectorAll('._swiper');\r\nif (sliders) {\r\n\tfor (let index = 0; index < sliders.length; index++) {\r\n\t\tlet slider = sliders[index];\r\n\t\tif (!slider.classList.contains('swiper-bild')) {\r\n\t\t\tlet slider_items = slider.children;\r\n\t\t\tif (slider_items) {\r\n\t\t\t\tfor (let index = 0; index < slider_items.length; index++) {\r\n\t\t\t\t\tlet el = slider_items[index];\r\n\t\t\t\t\tel.classList.add('swiper-slide');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet slider_content = slider.innerHTML;\r\n\t\t\tlet slider_wrapper = document.createElement('div');\r\n\t\t\tslider_wrapper.classList.add('swiper-wrapper');\r\n\t\t\tslider_wrapper.innerHTML = slider_content;\r\n\t\t\tslider.innerHTML = '';\r\n\t\t\tslider.appendChild(slider_wrapper);\r\n\t\t\tslider.classList.add('swiper-bild');\r\n\r\n\t\t\tif (slider.classList.contains('_swiper_scroll')) {\r\n\t\t\t\tlet sliderScroll = document.createElement('div');\r\n\t\t\t\tsliderScroll.classList.add('swiper-scrollbar');\r\n\t\t\t\tslider.appendChild(sliderScroll);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (slider.classList.contains('_gallery')) {\r\n\t\t\t//slider.data('lightGallery').destroy(true);\r\n\t\t}\r\n\t}\r\n\tsliders_bild_callback();\r\n}\r\n\r\nfunction sliders_bild_callback(params) {}\r\n\r\nlet sliderHero = new Swiper('.hero__slider', {\r\n\tslidesPerView: 1,\r\n\tspaceBetween: 10,\r\n\tspeed: 800,\r\n\tautoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\t//loop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\tpagination: {\r\n\t\tel: '.hero__bullets',\r\n\t\tclickable: true,\r\n\t},\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\t/*\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tautoHeight: true,\r\n\t\t},\r\n\t\t768: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t992: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\t*/\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderProducts = new Swiper('.top-sales__products', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 30,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.top-sales__arrow_right',\r\n\t\tprevEl: '.top-sales__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2.5,\r\n\t\t\tspaceBetween: 16\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderStocks = new Swiper('.stocks__items', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 24,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.stocks__arrow_right',\r\n\t\tprevEl: '.stocks__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1.3,\r\n\t\t\tspaceBetween: 8\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t991.98: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t// 1268: {\r\n\t\t// \tslidesPerView: 4,\r\n\t\t// \tspaceBetween: 30,\r\n\t\t// },\r\n\t\t1388: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t}\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\n\r\n\r\n//==========================Слайдер с Прогресс баром==============================================================================================================================\r\n\r\n\r\nfunction sliders_bild_callback(params) { }\r\n\r\nlet sliderScrollItems = document.querySelectorAll('._swiper_scroll');\r\nif (sliderScrollItems.length > 0) {\r\n\tfor (let index = 0; index < sliderScrollItems.length; index++) {\r\n\t\tconst sliderScrollItem = sliderScrollItems[index];\r\n\t\tconst sliderScrollBar = sliderScrollItem.querySelector('.swiper-scrollbar');\r\n\t\tconst sliderScroll = new Swiper(sliderScrollItem, {\r\n\t\t\tobserver: true,\r\n\t\t\tobserveParents: true,\r\n\t\t\tdirection: 'vertical',\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tfreeMode: true,\r\n\t\t\tscrollbar: {\r\n\t\t\t\tel: sliderScrollBar,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tsnapOnRelease: false\r\n\t\t\t},\r\n\t\t\tmousewheel: {\r\n\t\t\t\treleaseOnEdges: true,\r\n\t\t\t},\r\n\t\t});\r\n\t\tsliderScroll.scrollbar.updateSize();\r\n\t}\r\n}\r\n\r\n\r\n// //Слайдер с добавлением фракций\r\n// let sliderOurSpaces;\r\n// let allSlides = document.querySelector('._fraction__all'); //Находим блок с счетчиком общего количества фракций\r\n// let allCurrentSlide = document.querySelector('._fraction__current'); //Находим блок с счетчиком текущего номера фракции\r\n// const allSlidesCounter = document.querySelectorAll('.gallery__link').length; //Вычесляем общее количество слайдов\r\n\r\n// sliderOurSpaces = new Swiper('.gallery__slider', {\r\n// \tobserver: true,\r\n// \tobserveParents: true,\r\n// \tslidesPerView: 3,\r\n// \tspaceBetween: 30,\r\n// \twatchSlidesVisibility: true,\r\n// \tspeed: 800,\r\n// \tloop: true,\r\n// \t//preloadImages: false,\r\n// \t//lazy: true,\r\n// \t// Dotts\r\n// \tnavigation: {\r\n// \t\tnextEl: '.header-our-spaces__arrow_right',\r\n// \t\tprevEl: '.header-our-spaces__arrow_left',\r\n// \t},\r\n// \tpagination: {\r\n// \t\tel: '.slider-our-spaces__progress',\r\n// \t\ttype: 'progressbar',\r\n// \t},\r\n// \tbreakpoints: {\r\n// \t\t// when window width is >= 320px\r\n// \t\t320: {\r\n// \t\t\tslidesPerView: 1.1,\r\n// \t\t\tspaceBetween: 15,\r\n// \t\t\t//autoHeight: true,\r\n// \t\t},\r\n// \t\t// when window width is >= 480px\r\n// \t\t550: {\r\n// \t\t\tslidesPerView: 2,\r\n// \t\t\tspaceBetween: 30\r\n// \t\t},\r\n// \t\t// when window width is >= 640px\r\n// \t\t992: {\r\n// \t\t\tslidesPerView: 3,\r\n// \t\t\tspaceBetween: 30\r\n// \t\t}\r\n// \t},\r\n// \ton: {\r\n// \t\tlazyImageReady: function () {\r\n// \t\t\tibg();\r\n// \t\t},\r\n// \t\tinit: function (slider) {\r\n// \t\t\tallSlides.innerHTML = setZeroFormat(allSlidesCounter);\r\n// \t\t},\r\n// \t\tslideChange: function (slider) {\r\n// \t\t\tlet currentSlide = ++slider.realIndex;\r\n// \t\t\tallCurrentSlide.innerHTML = setZeroFormat(currentSlide);\r\n// \t\t},\r\n// \t}\r\n// });\r\n\r\n// function setZeroFormat(item) {\r\n// \tlet result = item >= 10 ? item : \"0\" + item;\r\n// \treturn result;\r\n// }\r\n//Стили под прогресс бар можно найти в ui.scss\r\n\r\n\r\n//===========================Одновременно несколько слайдеров у каждого рабоает пагинация и фракции (для корректной работы нужно одинаковое количество слайдов, controls и tabs)=============================================================================================================================\r\n// const sliderBlocks = document.querySelectorAll('.slider-our-spaces__block'); //Находим все слайдеры (в этом примере каждый слайдер в оболочке находится, соответсвенно мы ищем оболочку по факту)\r\n// function initOurFacilitiesSlider() {\r\n\r\n// \tif (sliderBlocks.length > 0) {\r\n// \t\tsliderBlocks.forEach((sliderBlock, index) => {\r\n// \t\t\tsliderBlock.classList.add('_show'); //Открываем все блоки для правильного считавания информации swipera\r\n// \t\t\tconst slider = sliderBlock.querySelector('.slider-our-spaces__slider'); //Находим внутри оболочки сам слайдер (тот на который мы вешаем класс swiper)\r\n// \t\t\tconst allFraction = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('._fraction__all'); //Получаем общее кол-во фракций у текущего слайдера\r\n// \t\t\tconst currentFraction = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('._fraction__current'); //Получаем текущий номер фракций у текущего слайдера\r\n// \t\t\tconst currentIndexPagination = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('.slider-our-spaces__progress'); //Получаем текущий индекс пагинации\r\n// \t\t\tconst allSlides = slider.querySelectorAll('.slider-our-spaces__slide').length; //Получаем общее колличество слайдов у текущего слайдера\r\n// \t\t\tconst sliderItem = new Swiper(slider, {\r\n// \t\t\t\tobserver: true,\r\n// \t\t\t\tobserveParents: true,\r\n// \t\t\t\tslidesPerView: 1,\r\n// \t\t\t\tspaceBetween: 0,\r\n// \t\t\t\t//watchSlidesVisibility: true,\r\n// \t\t\t\tspeed: 800,\r\n// \t\t\t\tloop: true,\r\n// \t\t\t\tpagination: {\r\n// \t\t\t\t\tel: currentIndexPagination, //Подставляем найденое выше значение\r\n// \t\t\t\t\ttype: 'progressbar',\r\n// \t\t\t\t},\r\n// \t\t\t\ton: {\r\n// \t\t\t\t\tlazyImageReady: function () {\r\n// \t\t\t\t\t\tibg();\r\n// \t\t\t\t\t},\r\n// \t\t\t\t\tinit: function () {\r\n// \t\t\t\t\t\tallFraction.innerHTML = setZeroFormat(allSlides);\r\n// \t\t\t\t\t},\r\n// \t\t\t\t\tslideChange: function (sl) {\r\n// \t\t\t\t\t\tlet currentSlide = ++sl.realIndex;\r\n// \t\t\t\t\t\tcurrentFraction.innerHTML = setZeroFormat(currentSlide);\r\n// \t\t\t\t\t},\r\n// \t\t\t\t}\r\n// \t\t\t});\r\n// \t\t\tsliderBlock.classList.remove('_show'); //После инициализации слайдера скрываем от показа все блоки\r\n// \t\t});\r\n// \t}\r\n// }\r\n// initOurFacilitiesSlider();\r\n\r\n// const tabsWrapper = document.querySelector('.slider-our-spaces__tabs'); //Находим оболочку с табами\r\n\r\n// //Вешаем прослушку на клик по табам\r\n// tabsWrapper.addEventListener(\"click\", function (e) {\r\n// \tconst targetElement = e.target; //Получаем индекс обьекта по которому нажали именно\r\n// \tif (targetElement.classList.contains('tabs-slider-our-spaces__item')) { //Проверяем что нажали именно по табу\r\n// \t\tconst tabsElements = Array.from(document.querySelectorAll('.tabs-slider-our-spaces__item')); //Получаем коллекцию всех табов и переделываем их в массив с помощью Array.from\r\n// \t\ttabsElements.forEach(item => item.classList.remove('_active')); //Убираем у всех табов класс\r\n// \t\ttargetElement.classList.add('_active'); //Добавлем класс только нажатому\r\n\r\n// \t\tconst index = tabsElements.findIndex(item => item.classList.contains('_active')); //Находим нужный таб с классом active\r\n\r\n// \t\tconst slidersControls = document.querySelectorAll('.controls-slider-our-spaces__item');\r\n// \t\tslidersControls.forEach(item => item.classList.remove('_active'));\r\n\r\n// \t\tsliderBlocks.forEach(item => item.classList.remove('_active')); //Убираем у всех слайдеров класс active\r\n\r\n// \t\tslidersControls[index].classList.add('_active');\r\n// \t\tsliderBlocks[index].classList.add('_active'); //Добавлем только нужному слайдеру класс active\r\n// \t}\r\n// });\r\n\r\n\r\n\r\n\r\n\r\n// //========================================================================================================================================================\r\n// function setZeroFormat(item) {\r\n// \tlet result = item >= 10 ? item : \"0\" + item;\r\n// \treturn result;\r\n// }\r\n\r\n\r\n\r\nvar ua = window.navigator.userAgent;\r\nvar msie = ua.indexOf(\"MSIE \");\r\nvar isMobile = {\r\n\tAndroid: function () {\r\n\t\treturn navigator.userAgent.match(/Android/i);\r\n\t},\r\n\tBlackBerry: function () {\r\n\t\treturn navigator.userAgent.match(/BlackBerry/i);\r\n\t},\r\n\tiOS: function () {\r\n\t\treturn navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n\t},\r\n\tOpera: function () {\r\n\t\treturn navigator.userAgent.match(/Opera Mini/i);\r\n\t},\r\n\tWindows: function () {\r\n\t\treturn navigator.userAgent.match(/IEMobile/i);\r\n\t},\r\n\tany: function () {\r\n\t\treturn (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n\t}\r\n};\r\n\r\nfunction isIE() {\r\n\tua = navigator.userAgent;\r\n\tvar is_ie = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n\treturn is_ie;\r\n}\r\nif (isIE()) {\r\n\tdocument.querySelector('html').classList.add('ie');\r\n}\r\nif (isMobile.any()) {\r\n\tdocument.querySelector('html').classList.add('_touch');\r\n}\r\n\r\nfunction testWebP(callback) {\r\n\tvar webP = new Image();\r\n\twebP.onload = webP.onerror = function () {\r\n\t\tcallback(webP.height == 2);\r\n\t};\r\n\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\ntestWebP(function (support) {\r\n\tif (support === true) {\r\n\t\tdocument.querySelector('html').classList.add('_webp');\r\n\t} else {\r\n\t\tdocument.querySelector('html').classList.add('_no-webp');\r\n\t}\r\n});\r\n\r\nfunction ibg() {\r\n\tif (isIE()) {\r\n\t\tlet ibg = document.querySelectorAll(\"._ibg\");\r\n\t\tfor (var i = 0; i < ibg.length; i++) {\r\n\t\t\tif (ibg[i].querySelector('img') && ibg[i].querySelector('img').getAttribute('src') != null) {\r\n\t\t\t\tibg[i].style.backgroundImage = 'url(' + ibg[i].querySelector('img').getAttribute('src') + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nibg();\r\n\r\nwindow.addEventListener(\"load\", function () {\r\n\tif (document.querySelector('.wrapper')) {\r\n\t\tsetTimeout(function () {\r\n\t\t\tdocument.querySelector('.wrapper').classList.add('_loaded');\r\n\t\t}, 0);\r\n\t}\r\n});\r\n\r\nlet unlock = true;\r\n\r\n//=================\r\n//ActionsOnHash\r\nif (location.hash) {\r\n\tconst hsh = location.hash.replace('#', '');\r\n\tif (document.querySelector('.popup_' + hsh)) {\r\n\t\tpopup_open(hsh);\r\n\t} else if (document.querySelector('div.' + hsh)) {\r\n\t\t_goto(document.querySelector('.' + hsh), 500, '');\r\n\t}\r\n}\r\n//=================\r\n//Menu\r\nlet iconMenu = document.querySelector(\".icon-menu\");\r\nif (iconMenu != null) {\r\n\tlet delay = 500;\r\n\tlet menuBody = document.querySelector(\".menu__body\");\r\n\ticonMenu.addEventListener(\"click\", function (e) {\r\n\t\tif (unlock) {\r\n\t\t\tbody_lock(delay);\r\n\t\t\ticonMenu.classList.toggle(\"_active\");\r\n\t\t\tmenuBody.classList.toggle(\"_active\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\nfunction menu_close() {\r\n\tlet iconMenu = document.querySelector(\".icon-menu\");\r\n\tlet menuBody = document.querySelector(\".menu__body\");\r\n\ticonMenu.classList.remove(\"_active\");\r\n\tmenuBody.classList.remove(\"_active\");\r\n}\r\n//=================\r\n//BodyLock\r\nfunction body_lock(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (body.classList.contains('_lock')) {\r\n\t\tbody_lock_remove(delay);\r\n\t} else {\r\n\t\tbody_lock_add(delay);\r\n\t}\r\n}\r\n\r\nfunction body_lock_remove(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (unlock) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tsetTimeout(() => {\r\n\t\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\t\tconst el = lock_padding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t\tbody.style.paddingRight = '0px';\r\n\t\t\tbody.classList.remove(\"_lock\");\r\n\t\t}, delay);\r\n\r\n\t\tunlock = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tunlock = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\n\r\nfunction body_lock_add(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (unlock) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\tconst el = lock_padding[index];\r\n\t\t\tel.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\t}\r\n\t\tbody.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\tbody.classList.add(\"_lock\");\r\n\r\n\t\tunlock = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tunlock = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\n//=================\r\n// LettersAnimation\r\nlet title = document.querySelectorAll('._letter-animation');\r\nif (title) {\r\n\tfor (let index = 0; index < title.length; index++) {\r\n\t\tlet el = title[index];\r\n\t\tlet txt = el.innerHTML;\r\n\t\tlet txt_words = txt.replace('  ', ' ').split(' ');\r\n\t\tlet new_title = '';\r\n\t\tfor (let index = 0; index < txt_words.length; index++) {\r\n\t\t\tlet txt_word = txt_words[index];\r\n\t\t\tlet len = txt_word.length;\r\n\t\t\tnew_title = new_title + '<p>';\r\n\t\t\tfor (let index = 0; index < len; index++) {\r\n\t\t\t\tlet it = txt_word.substr(index, 1);\r\n\t\t\t\tif (it == ' ') {\r\n\t\t\t\t\tit = '&nbsp;';\r\n\t\t\t\t}\r\n\t\t\t\tnew_title = new_title + '<span>' + it + '</span>';\r\n\t\t\t}\r\n\t\t\tel.innerHTML = new_title;\r\n\t\t\tnew_title = new_title + '&nbsp;</p>';\r\n\t\t}\r\n\t}\r\n}\r\n//=================\r\n//Tabs\r\nlet tabs = document.querySelectorAll(\"._tabs\");\r\nfor (let index = 0; index < tabs.length; index++) {\r\n\tlet tab = tabs[index];\r\n\tlet tabs_items = tab.querySelectorAll(\"._tabs-item\");\r\n\tlet tabs_blocks = tab.querySelectorAll(\"._tabs-block\");\r\n\tfor (let index = 0; index < tabs_items.length; index++) {\r\n\t\tlet tabs_item = tabs_items[index];\r\n\t\ttabs_item.addEventListener(\"click\", function (e) {\r\n\t\t\tfor (let index = 0; index < tabs_items.length; index++) {\r\n\t\t\t\tlet tabs_item = tabs_items[index];\r\n\t\t\t\ttabs_item.classList.remove('_active');\r\n\t\t\t\ttabs_blocks[index].classList.remove('_active');\r\n\t\t\t}\r\n\t\t\ttabs_item.classList.add('_active');\r\n\t\t\ttabs_blocks[index].classList.add('_active');\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\n//=================\r\n//Spollers\r\nlet spollers = document.querySelectorAll(\"._spoller\");\r\nlet spollersGo = true;\r\nif (spollers.length > 0) {\r\n\r\n\tfunction spollerCLick(e) {\r\n\t\tconst spoller = e.target.classList.contains('_spoller') ? e.target : e.target.closest('._spoller');\r\n\t\tif (spollersGo) {\r\n\t\t\tspollersGo = false;\r\n\r\n\t\t\tif (spoller.closest('._spollers').classList.contains('_one')) {\r\n\t\t\t\tlet curent_spollers = spoller.closest('._spollers').querySelectorAll('._spoller');\r\n\t\t\t\tfor (let i = 0; i < curent_spollers.length; i++) {\r\n\t\t\t\t\tlet el = curent_spollers[i];\r\n\t\t\t\t\tif (el != spoller) {\r\n\t\t\t\t\t\tel.classList.remove('_active');\r\n\t\t\t\t\t\t_slideUp(el.nextElementSibling);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tspoller.classList.toggle('_active');\r\n\t\t\t_slideToggle(spoller.nextElementSibling);\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tspollersGo = true;\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spollersInit() {\r\n\t\tfor (let index = 0; index < spollers.length; index++) {\r\n\t\t\tconst spoller = spollers[index];\r\n\t\t\tlet spollerMax = spoller.getAttribute('data-max');\r\n\r\n\t\t\tif (spollerMax && window.innerWidth > spollerMax) {\r\n\t\t\t\tif (spoller.classList.contains('_init')) {\r\n\t\t\t\t\tspoller.classList.remove('_active');\r\n\t\t\t\t\tspoller.classList.remove('_init');\r\n\t\t\t\t\tspoller.nextElementSibling.style.cssText = '';\r\n\t\t\t\t\tspoller.removeEventListener(\"click\", spollerCLick);\r\n\t\t\t\t}\r\n\t\t\t} else if (!spoller.classList.contains('_init')) {\r\n\t\t\t\tspoller.classList.add('_init');\r\n\t\t\t\tspoller.addEventListener(\"click\", spollerCLick);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spollersShowActive() {\r\n\t\tfor (let index = 0; index < spollers.length; index++) {\r\n\t\t\tconst spoller = spollers[index];\r\n\t\t\tif (spoller.classList.contains('_active')) {\r\n\t\t\t\t_slideToggle(spoller.nextElementSibling);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\twindow.addEventListener(\"resize\", spollersInit);\r\n\r\n\tsetTimeout(function () {\r\n\t\tspollersShowActive();\r\n\t\tspollersInit();\r\n\t}, 0);\r\n}\r\n//=================\r\n//Gallery\r\nlet gallery = document.querySelectorAll('._gallery');\r\nif (gallery) {\r\n\tgallery_init();\r\n}\r\n\r\nfunction gallery_init() {\r\n\tfor (let index = 0; index < gallery.length; index++) {\r\n\t\tconst el = gallery[index];\r\n\t\tlightGallery(el, {\r\n\t\t\tcounter: false,\r\n\t\t\tselector: 'a',\r\n\t\t\tdownload: false\r\n\t\t});\r\n\t}\r\n}\r\n//=================\r\n//SearchInList\r\nfunction search_in_list(input) {\r\n\tlet ul = input.parentNode.querySelector('ul')\r\n\tlet li = ul.querySelectorAll('li');\r\n\tlet filter = input.value.toUpperCase();\r\n\r\n\tfor (i = 0; i < li.length; i++) {\r\n\t\tlet el = li[i];\r\n\t\tlet item = el;\r\n\t\ttxtValue = item.textContent || item.innerText;\r\n\t\tif (txtValue.toUpperCase().indexOf(filter) > -1) {\r\n\t\t\tel.style.display = \"\";\r\n\t\t} else {\r\n\t\t\tel.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n}\r\n//=================\r\n//DigiFormat\r\nfunction digi(str) {\r\n\tvar r = str.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, \"$1 \");\r\n\treturn r;\r\n}\r\n//=================\r\n//DiGiAnimate\r\nfunction digi_animate(digi_animate) {\r\n\tif (digi_animate.length > 0) {\r\n\t\tfor (let index = 0; index < digi_animate.length; index++) {\r\n\t\t\tconst el = digi_animate[index];\r\n\t\t\tconst el_to = parseInt(el.innerHTML.replace(' ', ''));\r\n\t\t\tif (!el.classList.contains('_done')) {\r\n\t\t\t\tdigi_animate_value(el, 0, el_to, 1500);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction digi_animate_value(el, start, end, duration) {\r\n\tvar obj = el;\r\n\tvar range = end - start;\r\n\t// no timer shorter than 50ms (not really visible any way)\r\n\tvar minTimer = 50;\r\n\t// calc step time to show all interediate values\r\n\tvar stepTime = Math.abs(Math.floor(duration / range));\r\n\r\n\t// never go below minTimer\r\n\tstepTime = Math.max(stepTime, minTimer);\r\n\r\n\t// get current time and calculate desired end time\r\n\tvar startTime = new Date().getTime();\r\n\tvar endTime = startTime + duration;\r\n\tvar timer;\r\n\r\n\tfunction run() {\r\n\t\tvar now = new Date().getTime();\r\n\t\tvar remaining = Math.max((endTime - now) / duration, 0);\r\n\t\tvar value = Math.round(end - (remaining * range));\r\n\t\tobj.innerHTML = digi(value);\r\n\t\tif (value == end) {\r\n\t\t\tclearInterval(timer);\r\n\t\t}\r\n\t}\r\n\r\n\ttimer = setInterval(run, stepTime);\r\n\trun();\r\n\r\n\tel.classList.add('_done');\r\n}\r\n//=================\r\n//Popups\r\nlet popup_link = document.querySelectorAll('._popup-link');\r\nlet popups = document.querySelectorAll('.popup');\r\nfor (let index = 0; index < popup_link.length; index++) {\r\n\tconst el = popup_link[index];\r\n\tel.addEventListener('click', function (e) {\r\n\t\tif (unlock) {\r\n\t\t\tlet item = el.getAttribute('href').replace('#', '');\r\n\t\t\tlet video = el.getAttribute('data-video');\r\n\t\t\tpopup_open(item, video);\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t})\r\n}\r\nfor (let index = 0; index < popups.length; index++) {\r\n\tconst popup = popups[index];\r\n\tpopup.addEventListener(\"click\", function (e) {\r\n\t\tif (!e.target.closest('.popup__body')) {\r\n\t\t\tpopup_close(e.target.closest('.popup'));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction popup_open(item, video = '') {\r\n\tlet activePopup = document.querySelectorAll('.popup._active');\r\n\tif (activePopup.length > 0) {\r\n\t\tpopup_close('', false);\r\n\t}\r\n\tlet curent_popup = document.querySelector('.popup_' + item);\r\n\tif (curent_popup && unlock) {\r\n\t\tif (video != '' && video != null) {\r\n\t\t\tlet popup_video = document.querySelector('.popup_video');\r\n\t\t\tpopup_video.querySelector('.popup__video').innerHTML = '<iframe src=\"https://www.youtube.com/embed/' + video + '?autoplay=1\"  allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>';\r\n\t\t}\r\n\t\tif (!document.querySelector('.menu__body._active')) {\r\n\t\t\tbody_lock_add(500);\r\n\t\t}\r\n\t\tcurent_popup.classList.add('_active');\r\n\t\thistory.pushState('', '', '#' + item);\r\n\t}\r\n}\r\n\r\nfunction popup_close(item, bodyUnlock = true) {\r\n\tif (unlock) {\r\n\t\tif (!item) {\r\n\t\t\tfor (let index = 0; index < popups.length; index++) {\r\n\t\t\t\tconst popup = popups[index];\r\n\t\t\t\tlet video = popup.querySelector('.popup__video');\r\n\t\t\t\tif (video) {\r\n\t\t\t\t\tvideo.innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t\tpopup.classList.remove('_active');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet video = item.querySelector('.popup__video');\r\n\t\t\tif (video) {\r\n\t\t\t\tvideo.innerHTML = '';\r\n\t\t\t}\r\n\t\t\titem.classList.remove('_active');\r\n\t\t}\r\n\t\tif (!document.querySelector('.menu__body._active') && bodyUnlock) {\r\n\t\t\tbody_lock_remove(500);\r\n\t\t}\r\n\t\thistory.pushState('', '', window.location.href.split('#')[0]);\r\n\t}\r\n}\r\nlet popup_close_icon = document.querySelectorAll('.popup__close,._popup-close');\r\nif (popup_close_icon) {\r\n\tfor (let index = 0; index < popup_close_icon.length; index++) {\r\n\t\tconst el = popup_close_icon[index];\r\n\t\tel.addEventListener('click', function () {\r\n\t\t\tpopup_close(el.closest('.popup'));\r\n\t\t})\r\n\t}\r\n}\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (e.code === 'Escape') {\r\n\t\tpopup_close();\r\n\t}\r\n});\r\n\r\n//=================\r\n//SlideToggle\r\nlet _slideUp = (target, duration = 500) => {\r\n\ttarget.style.transitionProperty = 'height, margin, padding';\r\n\ttarget.style.transitionDuration = duration + 'ms';\r\n\ttarget.style.height = target.offsetHeight + 'px';\r\n\ttarget.offsetHeight;\r\n\ttarget.style.overflow = 'hidden';\r\n\ttarget.style.height = 0;\r\n\ttarget.style.paddingTop = 0;\r\n\ttarget.style.paddingBottom = 0;\r\n\ttarget.style.marginTop = 0;\r\n\ttarget.style.marginBottom = 0;\r\n\twindow.setTimeout(() => {\r\n\t\ttarget.style.display = 'none';\r\n\t\ttarget.style.removeProperty('height');\r\n\t\ttarget.style.removeProperty('padding-top');\r\n\t\ttarget.style.removeProperty('padding-bottom');\r\n\t\ttarget.style.removeProperty('margin-top');\r\n\t\ttarget.style.removeProperty('margin-bottom');\r\n\t\ttarget.style.removeProperty('overflow');\r\n\t\ttarget.style.removeProperty('transition-duration');\r\n\t\ttarget.style.removeProperty('transition-property');\r\n\t\ttarget.classList.remove('_slide');\r\n\t}, duration);\r\n}\r\nlet _slideDown = (target, duration = 500) => {\r\n\ttarget.style.removeProperty('display');\r\n\tlet display = window.getComputedStyle(target).display;\r\n\tif (display === 'none')\r\n\t\tdisplay = 'block';\r\n\r\n\ttarget.style.display = display;\r\n\tlet height = target.offsetHeight;\r\n\ttarget.style.overflow = 'hidden';\r\n\ttarget.style.height = 0;\r\n\ttarget.style.paddingTop = 0;\r\n\ttarget.style.paddingBottom = 0;\r\n\ttarget.style.marginTop = 0;\r\n\ttarget.style.marginBottom = 0;\r\n\ttarget.offsetHeight;\r\n\ttarget.style.transitionProperty = \"height, margin, padding\";\r\n\ttarget.style.transitionDuration = duration + 'ms';\r\n\ttarget.style.height = height + 'px';\r\n\ttarget.style.removeProperty('padding-top');\r\n\ttarget.style.removeProperty('padding-bottom');\r\n\ttarget.style.removeProperty('margin-top');\r\n\ttarget.style.removeProperty('margin-bottom');\r\n\twindow.setTimeout(() => {\r\n\t\ttarget.style.removeProperty('height');\r\n\t\ttarget.style.removeProperty('overflow');\r\n\t\ttarget.style.removeProperty('transition-duration');\r\n\t\ttarget.style.removeProperty('transition-property');\r\n\t\ttarget.classList.remove('_slide');\r\n\t}, duration);\r\n}\r\nlet _slideToggle = (target, duration = 500) => {\r\n\tif (!target.classList.contains('_slide')) {\r\n\t\ttarget.classList.add('_slide');\r\n\t\tif (window.getComputedStyle(target).display === 'none') {\r\n\t\t\treturn _slideDown(target, duration);\r\n\t\t} else {\r\n\t\t\treturn _slideUp(target, duration);\r\n\t\t}\r\n\t}\r\n}\r\n//========================================\r\n//Wrap\r\nfunction _wrap(el, wrapper) {\r\n\tel.parentNode.insertBefore(wrapper, el);\r\n\twrapper.appendChild(el);\r\n}\r\n//========================================\r\n//RemoveClasses\r\nfunction _removeClasses(el, class_name) {\r\n\tconsole.log(class_name);\r\n\tfor (var i = 0; i < el.length; i++) {\r\n\t\tel[i].classList.remove(class_name);\r\n\t}\r\n}\r\n//========================================\r\n//IsHidden\r\nfunction _is_hidden(el) {\r\n\treturn (el.offsetParent === null)\r\n}\r\n// ShowMore Beta ========================\r\nlet moreBlocks = document.querySelectorAll('._more-block');\r\nif (moreBlocks.length > 0) {\r\n\tlet wrapper = document.querySelector('.wrapper');\r\n\tfor (let index = 0; index < moreBlocks.length; index++) {\r\n\t\tconst moreBlock = moreBlocks[index];\r\n\t\tlet items = moreBlock.querySelectorAll('._more-item');\r\n\t\tif (items.length > 0) {\r\n\t\t\tlet itemsMore = moreBlock.querySelector('._more-link');\r\n\t\t\tlet itemsContent = moreBlock.querySelector('._more-content');\r\n\t\t\tlet itemsView = itemsContent.getAttribute('data-view');\r\n\t\t\tif (getComputedStyle(itemsContent).getPropertyValue(\"transition-duration\") === '0s') {\r\n\t\t\t\titemsContent.style.cssText = \"transition-duration: 1ms\";\r\n\t\t\t}\r\n\t\t\titemsMore.addEventListener(\"click\", function (e) {\r\n\t\t\t\tif (itemsMore.classList.contains('_active')) {\r\n\t\t\t\t\tsetSize();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSize('start');\r\n\t\t\t\t}\r\n\t\t\t\titemsMore.classList.toggle('_active');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\tlet isScrollStart;\r\n\r\n\t\t\tfunction setSize(type) {\r\n\t\t\t\tlet resultHeight;\r\n\t\t\t\tlet itemsContentHeight = 0;\r\n\t\t\t\tlet itemsContentStartHeight = 0;\r\n\r\n\t\t\t\tfor (let index = 0; index < items.length; index++) {\r\n\t\t\t\t\tif (index < itemsView) {\r\n\t\t\t\t\t\titemsContentHeight += items[index].offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\titemsContentStartHeight += items[index].offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t\tresultHeight = (type === 'start') ? itemsContentStartHeight : itemsContentHeight;\r\n\t\t\t\tisScrollStart = window.innerWidth - wrapper.offsetWidth;\r\n\t\t\t\titemsContent.style.height = `${resultHeight}px`;\r\n\t\t\t}\r\n\r\n\t\t\titemsContent.addEventListener(\"transitionend\", updateSize, false);\r\n\r\n\t\t\tfunction updateSize() {\r\n\t\t\t\tlet isScrollEnd = window.innerWidth - wrapper.offsetWidth;\r\n\t\t\t\tif (isScrollStart === 0 && isScrollEnd > 0 || isScrollStart > 0 && isScrollEnd === 0) {\r\n\t\t\t\t\tif (itemsMore.classList.contains('_active')) {\r\n\t\t\t\t\t\tsetSize('start');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetSize();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twindow.addEventListener(\"resize\", function (e) {\r\n\t\t\t\tif (!itemsMore.classList.contains('_active')) {\r\n\t\t\t\t\tsetSize();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSize('start');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetSize();\r\n\t\t}\r\n\t}\r\n}\r\n//==RATING======================================\r\n// const ratings = document.querySelectorAll('.rating');\r\n// if (ratings.length > 0) {\r\n// \tinitRatings();\r\n// }\r\n// // Основная функция\r\n// function initRatings() {\r\n// \tlet ratingActive, ratingValue;\r\n// \t// \"Бегаем\" по всем рейтингам на странице\r\n// \tfor (let index = 0; index < ratings.length; index++) {\r\n// \t\tconst rating = ratings[index];\r\n// \t\tinitRating(rating);\r\n// \t}\r\n\r\n// \t// Инициализируем конкретный рейтинг\r\n// \tfunction initRating(rating) {\r\n// \t\tinitRatingVars(rating);\r\n\r\n// \t\tsetRatingActiveWidth();\r\n\r\n// \t\tif (rating.classList.contains('rating_set')) {\r\n// \t\t\tsetRating(rating);\r\n// \t\t}\r\n// \t}\r\n\r\n// \t// Инициализайция переменных\r\n// \tfunction initRatingVars(rating) {\r\n// \t\tratingActive = rating.querySelector('.rating__active');\r\n// \t\tratingValue = rating.querySelector('.rating__value');\r\n// \t}\r\n// \t// Изменяем ширину активных звезд\r\n// \tfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\r\n// \t\tconst ratingActiveWidth = index / 0.05;\r\n// \t\tratingActive.style.width = `${ratingActiveWidth}%`;\r\n// \t}\r\n// \t// Возможность указать оценку \r\n// \tfunction setRating(rating) {\r\n// \t\tconst ratingItems = rating.querySelectorAll('.rating__item');\r\n// \t\tfor (let index = 0; index < ratingItems.length; index++) {\r\n// \t\t\tconst ratingItem = ratingItems[index];\r\n// \t\t\tratingItem.addEventListener(\"mouseenter\", function (e) {\r\n// \t\t\t\t// Обновление переменных\r\n// \t\t\t\tinitRatingVars(rating);\r\n// \t\t\t\t// Обновление активных звезд\r\n// \t\t\t\tsetRatingActiveWidth(ratingItem.value);\r\n// \t\t\t});\r\n// \t\t\tratingItem.addEventListener(\"mouseleave\", function (e) {\r\n// \t\t\t\t// Обновление активных звезд\r\n// \t\t\t\tsetRatingActiveWidth();\r\n// \t\t\t});\r\n// \t\t\tratingItem.addEventListener(\"click\", function (e) {\r\n// \t\t\t\t// Обновление переменных\r\n// \t\t\t\tinitRatingVars(rating);\r\n\r\n// \t\t\t\tif (rating.dataset.ajax) {\r\n// \t\t\t\t\t// \"Отправить\" на сервер\r\n// \t\t\t\t\tsetRatingValue(ratingItem.value, rating);\r\n// \t\t\t\t} else {\r\n// \t\t\t\t\t// Отобразить указанную оцнку\r\n// \t\t\t\t\tratingValue.innerHTML = index + 1;\r\n// \t\t\t\t\tsetRatingActiveWidth();\r\n// \t\t\t\t}\r\n// \t\t\t});\r\n// \t\t}\r\n// \t}\r\n\r\n// \tasync function setRatingValue(value, rating) {\r\n// \t\tif (!rating.classList.contains('rating_sending')) {\r\n// \t\t\trating.classList.add('rating_sending');\r\n\r\n// \t\t\t// Отправика данных (value) на сервер\r\n// \t\t\tlet response = await fetch('rating.json', {\r\n// \t\t\t\tmethod: 'GET',\r\n\r\n// \t\t\t\t//body: JSON.stringify({\r\n// \t\t\t\t//\tuserRating: value\r\n// \t\t\t\t//}),\r\n// \t\t\t\t//headers: {\r\n// \t\t\t\t//\t'content-type': 'application/json'\r\n// \t\t\t\t//}\r\n\r\n// \t\t\t});\r\n// \t\t\tif (response.ok) {\r\n// \t\t\t\tconst result = await response.json();\r\n\r\n// \t\t\t\t// Получаем новый рейтинг\r\n// \t\t\t\tconst newRating = result.newRating;\r\n\r\n// \t\t\t\t// Вывод нового среднего результата\r\n// \t\t\t\tratingValue.innerHTML = newRating;\r\n\r\n// \t\t\t\t// Обновление активных звезд\r\n// \t\t\t\tsetRatingActiveWidth();\r\n\r\n// \t\t\t\trating.classList.remove('rating_sending');\r\n// \t\t\t} else {\r\n// \t\t\t\talert(\"Ошибка\");\r\n\r\n// \t\t\t\trating.classList.remove('rating_sending');\r\n// \t\t\t}\r\n// \t\t}\r\n// \t}\r\n// }\r\n//=====================Rating================================\r\n//Изменяем ширину активных звезд\r\nlet allRatings = document.querySelectorAll('.rating__active');\r\n\r\nif (allRatings.length > 0) {\r\n\tallRatings.forEach(ratingActive => {\r\n\t\t// let ratingValue = ratingActive.querySelector('.rating__value');\r\n\t\tlet activeRatingValue = ratingActive.closest('.rating').querySelector('.rating__value').innerHTML;\r\n\t\t// let ratingValue = ratingActive.innerHTML;\r\n\t\tsetRatingActiveWidth(activeRatingValue, ratingActive);\r\n\t});\r\n}\r\n\r\nfunction setRatingActiveWidth(activeRatingValue, ratingActive) {\r\n\tconst ratingActiveWidth = activeRatingValue / 0.05;\r\n\tratingActive.style.width = `${ratingActiveWidth}%`;\r\n}\r\n//========================================\r\n//Animate\r\nfunction animate({\r\n\ttiming,\r\n\tdraw,\r\n\tduration\r\n}) {\r\n\tlet start = performance.now();\r\n\trequestAnimationFrame(function animate(time) {\r\n\t\t// timeFraction изменяется от 0 до 1\r\n\t\tlet timeFraction = (time - start) / duration;\r\n\t\tif (timeFraction > 1) timeFraction = 1;\r\n\r\n\t\t// вычисление текущего состояния анимации\r\n\t\tlet progress = timing(timeFraction);\r\n\r\n\t\tdraw(progress); // отрисовать её\r\n\r\n\t\tif (timeFraction < 1) {\r\n\t\t\trequestAnimationFrame(animate);\r\n\t\t}\r\n\r\n\t});\r\n}\r\n\r\nfunction makeEaseOut(timing) {\r\n\treturn function (timeFraction) {\r\n\t\treturn 1 - timing(1 - timeFraction);\r\n\t}\r\n}\r\n\r\nfunction makeEaseInOut(timing) {\r\n\treturn function (timeFraction) {\r\n\t\tif (timeFraction < .5)\r\n\t\t\treturn timing(2 * timeFraction) / 2;\r\n\t\telse\r\n\t\t\treturn (2 - timing(2 * (1 - timeFraction))) / 2;\r\n\t}\r\n}\r\n\r\nfunction quad(timeFraction) {\r\n\treturn Math.pow(timeFraction, 2)\r\n}\r\n\r\nfunction circ(timeFraction) {\r\n\treturn 1 - Math.sin(Math.acos(timeFraction));\r\n}\r\n/*\r\nanimate({\r\n\tduration: 1000,\r\n\ttiming: makeEaseOut(quad),\r\n\tdraw(progress) {\r\n\t\twindow.scroll(0, start_position + 400 * progress);\r\n\t}\r\n});*/\r\n\r\n//Полифилы\r\n(function () {\r\n\t// проверяем поддержку\r\n\tif (!Element.prototype.closest) {\r\n\t\t// реализуем\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\t// проверяем поддержку\r\n\tif (!Element.prototype.matches) {\r\n\t\t// определяем свойство\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();\r\n\r\n//Sender form\r\n//========================================================================================================================================================\r\n// Отправка данных на сервер\r\nfunction send(event, php) {\r\n\tconsole.log(\"Отправка запроса\");\r\n\tevent.preventDefault ? event.preventDefault() : event.returnValue = false;\r\n\tvar req = new XMLHttpRequest();\r\n\treq.open('POST', php, true);\r\n\treq.onload = function () {\r\n\t\tif (req.status >= 200 && req.status < 400) {\r\n\t\t\tjson = JSON.parse(this.response); // Ебанный internet explorer 11\r\n\t\t\tconsole.log(json);\r\n\r\n\t\t\t// ЗДЕСЬ УКАЗЫВАЕМ ДЕЙСТВИЯ В СЛУЧАЕ УСПЕХА ИЛИ НЕУДАЧИ\r\n\t\t\tif (json.result == \"success\") {\r\n\t\t\t\t// Если сообщение отправлено\r\n\t\t\t\talert(\"Сообщение отправлено\");\r\n\t\t\t} else {\r\n\t\t\t\t// Если произошла ошибка\r\n\t\t\t\talert(\"Ошибка. Сообщение не отправлено\");\r\n\t\t\t}\r\n\t\t\t// Если не удалось связаться с php файлом\r\n\t\t} else {\r\n\t\t\talert(\"Ошибка сервера. Номер: \" + req.status);\r\n\t\t}\r\n\t};\r\n\r\n\t// Если не удалось отправить запрос. Стоит блок на хостинге\r\n\treq.onerror = function () {\r\n\t\talert(\"Ошибка отправки запроса\");\r\n\t};\r\n\treq.send(new FormData(event.target));\r\n}\r\n\r\n\r\n//========================================================================================================================================================\r\n//По клику на стрелочку открывает дополнительный скрытый текст (плавность slideToggle)\r\n\r\nconst help = document.querySelector('.help'); //Находим обьекты открытые для показа (по которым мы нажимаем и выезжает скрытый текст ) \r\nif (help) {\r\n\thelp.addEventListener(\"click\", function (e) {\r\n\t\tconst targetElem = e.target;\r\n\t\tif (targetElem.classList.contains('help__link')) { //Проверяем если у нажатого обьекта есть ссылка для открытия скрытого контента\r\n\t\t\t_slideToggle(targetElem.previousElementSibling, 500); //вызываем функцию \"_slideToggle\" которая отвечает за плавность открытия/закрытия скрытого текста и передаем ей обьект который следует анимировать (в данном случае - это предыдущий обьект перед .help__link) и время анимации.\r\n\t\t\ttargetElem.classList.toggle('_active'); //Вешаем класс на ссылку для анимирования стрелочки\r\n\t\t\te.preventDefault(); //Сбрысываем стандартное поведение у ссылки.\r\n\t\t}\r\n\t\tif (targetElem.classList.contains('help__more')) { //Если у нажатого обьекта есть нужный нам класс, то...\r\n\t\t\tif (!targetElem.classList.contains('_loading')) { //Проверяем если нет \"страховочного\" класса\r\n\t\t\t\ttargetElem.classList.add('_loading'); //Вешаем класс, для страховки от нескольких вызовов\r\n\t\t\t\tgetMoreQuestions(targetElem); //Вызываем функцию и передаем нажатый элемент.\r\n\t\t\t}\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//=====================Отправка данных AJAX================================\r\n\r\nasync function getMoreQuestions(targetElem) {\r\n\tconst response = await fetch('data/faq.html'); //Находим файл на сервере с нужными данными\r\n\tif (response.ok) {\r\n\t\tconst text = await response.text(); //полученые данные из файла добавляем в константу\r\n\t\tconst helpItems = document.querySelector('.help__items'); //Находим нужный блок, куда планируем вставлять данные\r\n\t\thelpItems.insertAdjacentHTML('beforeend', text); //Вставляем в нужный нам блок данные из файла\r\n\t\ttargetElem.classList.remove('_loading'); //убираем класс\r\n\t} else {\r\n\t\talert('Что-то пошло не так...');\r\n\t}\r\n}\r\n//========================================================================================================================================================\r\n\r\n//=====================Add to favorites================================\r\nlet favourites = document.querySelectorAll('._favourites');\r\nif (favourites.length > 0) {\r\n\tfavourites.forEach(favouriteCurrent => {\r\n\t\tfavouriteCurrent.addEventListener(\"click\", function (e) {\r\n\t\t\tfavouriteCurrent.classList.toggle('_active');\r\n\t\t});\r\n\t});\r\n}\r\n//=====================Choose color scheme for product================================\r\nlet colorSchemes = document.querySelectorAll('.color-scheme-product');\r\n\r\nif (colorSchemes.length > 0) {\r\n\tcolorSchemes.forEach(colorScheme => {\r\n\t\tcolorScheme.addEventListener(\"click\", function (e) {\r\n\t\t\tlet parentBlock = colorScheme.closest('.product__colors');\r\n\t\t\tlet colorSchemesActive = parentBlock.querySelectorAll('.color-scheme-product');\r\n\t\t\t_removeClasses(colorSchemesActive, '_active');\r\n\t\t\tcolorScheme.classList.add('_active');\r\n\t\t});\r\n\t});\r\n}\r\n\r\n//=====================Header nav tabs================================\r\n\r\nlet tabLinks = document.querySelectorAll('._tab-link');\r\nlet tabsContent = document.querySelectorAll('._tab-content');\r\nlet sidebar = document.querySelector('.sidebar');\r\n\r\nif (tabLinks.length > 0 && !isMobile.any()) {\r\n\ttabLinks.forEach(tabLink => {\r\n\t\ttabLink.addEventListener(\"click\", function (e) {\r\n\r\n\t\t\tlet tabId = tabLink.getAttribute('data-id');\r\n\t\t\tlet tabContent = document.querySelector('._tab-content[data-id=\"' + tabId + '\"]');\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (!tabLink.classList.contains('_active')) {\r\n\t\t\t\t_removeClasses(tabLinks, '_active');\r\n\t\t\t\t_removeClasses(tabsContent, '_active');\r\n\r\n\t\t\t\ttabLink.classList.add('_active');\r\n\r\n\t\t\t\tif (tabContent) {\r\n\t\t\t\t\ttabContent.classList.add('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tdocument.querySelector('.sidebar__item').classList.add('_active');\r\n\t\t\t\t\tdocument.querySelector('.sidebar__content').classList.add('_active');\r\n\t\t\t\t\tsidebar.classList.add('_lock');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('menu__link') && !tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tsidebar.classList.remove('_lock');\r\n\t\t\t\t}\r\n\t\t\t\t// body_lock();\r\n\r\n\t\t\t} else {\r\n\t\t\t\ttabLink.classList.remove('_active');\r\n\t\t\t\tif (tabContent) {\r\n\t\t\t\t\ttabContent.classList.remove('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tdocument.querySelector('.sidebar__item').classList.remove('_active');\r\n\t\t\t\t\tdocument.querySelector('.sidebar__content').classList.remove('_active');\r\n\t\t\t\t\tsidebar.classList.remove('_lock');\r\n\t\t\t\t}\r\n\t\t\t\t// body_lock_remove();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n//=====================Show UserBar Info================================\r\n\r\nlet userbarItems = document.querySelectorAll('.user-bar__item');\r\n\r\nuserbarItems.forEach(userbarItem => {\r\n\tlet itemId = userbarItem.getAttribute('data-id');\r\n\tlet activePopup = document.querySelector('.user-bar__popup[data-id=\"' + itemId + '\"]');\r\n\r\n\tuserbarItem.addEventListener(\"mouseenter\", function (e) {\r\n\t\tif (activePopup) {\r\n\t\t\thideAllUserbarPopups();\r\n\t\t\tgetUserBarInfo(activePopup);\r\n\r\n\t\t\tactivePopup.classList.add('_active');\r\n\t\t\tactivePopup.classList.add('_show');\r\n\r\n\t\t\tactivePopup.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\tactivePopup.classList.remove('_show');\r\n\t\t\t})\r\n\r\n\t\t\tactivePopup.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\t\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\t\t\tactivePopup.classList.remove('_active');\r\n\t\t\t\titemsWrapper.classList.remove('_active');\r\n\t\t\t\temptyMessage.classList.remove('_active');\r\n\r\n\t\t\t});\r\n\r\n\t\t\tuserbarItem.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tif (!activePopup.classList.contains('_show')) {\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\t\t\t\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\t\t\t\t\tactivePopup.classList.remove('_active');\r\n\t\t\t\t\t\titemsWrapper.classList.remove('_active');\r\n\t\t\t\t\t\temptyMessage.classList.remove('_active');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, 500);\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n});\r\n\r\nfunction hideAllUserbarPopups(params) {\r\n\tlet userbarPopups = document.querySelectorAll('.user-bar__popup');\r\n\r\n\tuserbarPopups.forEach(userbarPopup => {\r\n\t\tlet itemsWrapper = userbarPopup.querySelector('.mini-cart__items');\r\n\t\tlet emptyMessage = userbarPopup.querySelector('.mini-cart__empty');\r\n\t\tuserbarPopup.classList.remove('_active');\r\n\t\titemsWrapper.classList.remove('_active');\r\n\t\temptyMessage.classList.remove('_active');\r\n\t});\r\n}\r\n\r\nfunction getUserBarInfo(activePopup) {\r\n\tlet itemsToShow = activePopup.querySelectorAll('.mini-cart__item');\r\n\tlet itemsLenght = itemsToShow.length;\r\n\r\n\tif (itemsLenght > 0) {\r\n\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\titemsWrapper.classList.add('_active');\r\n\t} else {\r\n\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\temptyMessage.classList.add('_active');\r\n\t}\r\n}\r\n\r\nlet searchInput = document.querySelector('.user-bar__input');\r\nlet headerMenu = document.querySelector('.main-header__menu');\r\nlet searchBlock = document.querySelector('.user-bar__item_search');\r\nlet searchIcon = document.querySelector('.user-bar__icon svg');\r\nlet clearInputIcon = document.querySelector('.user-bar__clear-input-btn');\r\nlet searchHideIcon = document.querySelector('.user-bar__hide-search');\r\nlet searchList = document.querySelector('.user-bar__search-list');\r\n\r\nsearchBlock.addEventListener(\"click\", function (e) {\r\n\tif (e.target.contains(searchIcon)) {\r\n\t\tsearchInput.classList.add('_active');\r\n\t\theaderMenu.classList.add('hidden');\r\n\t\tsearchBlock.classList.add('_active');\r\n\t}\r\n\tif (e.target.contains(clearInputIcon)) {\r\n\t\tsearchInput.value = \"\";\r\n\t\tconsole.log('cleared');\r\n\t}\r\n\r\n\tsearchInput.addEventListener('input', function (e) {\r\n\t\tconsole.log('show');\r\n\t\tsearchList.classList.add('_show');\r\n\t});\r\n\r\n\tif (e.target.contains(searchHideIcon)) {\r\n\t\tsearchInput.classList.remove('_active');\r\n\t\theaderMenu.classList.remove('hidden');\r\n\t\tsearchBlock.classList.remove('_active');\r\n\t\tsearchList.classList.remove('_show');\r\n\t}\r\n\t\r\n\r\n\tif (isMobile.any()) {\r\n\t\tsearchInput.addEventListener('blur', function (e) {\r\n\t\t\tsearchInput.classList.remove('_active');\r\n\t\t\theaderMenu.classList.remove('hidden');\r\n\t\t\tsearchBlock.classList.remove('_active');\r\n\t\t\tsearchList.classList.remove('_show');\r\n\t\t\tsearchInput.value = \"\";\r\n\t\t});\r\n\t\t}\r\n}); \r\n\r\n\r\n//=====================================================\r\n//Скрипт находит карточки категорий и вычесляет описание большого размера, которые могут поломать верстку и установливает для них высоту. \r\n\r\nlet hoverTexts =document.querySelectorAll('.category__text-hover p');\r\n\r\nhoverTexts.forEach(hoverTextActive => {\r\n\tlet currentHeight = hoverTextActive.offsetHeight;\r\n\r\n\tif (currentHeight > 100 && currentHeight < 130) {\r\n\t\thoverTextActive.parentNode.classList.add('_medium');\r\n\t}\r\n\r\n\tif (currentHeight > 150) {\r\n\t\thoverTextActive.parentNode.classList.add('_large');;\r\n\t}\r\n});\r\n\r\n//let btn = document.querySelectorAll('button[type=\"submit\"],input[type=\"submit\"]');\r\nlet forms = document.querySelectorAll('form');\r\nif (forms.length > 0) {\r\n\tfor (let index = 0; index < forms.length; index++) {\r\n\t\tconst el = forms[index];\r\n\t\tel.addEventListener('submit', form_submit);\r\n\t}\r\n}\r\nasync function form_submit(e) {\r\n\tlet btn = e.target;\r\n\tlet form = btn.closest('form');\r\n\tlet error = form_validate(form);\r\n\tif (error == 0) {\r\n\t\tlet formAction = form.getAttribute('action') ? form.getAttribute('action').trim() : '#';\r\n\t\tlet formMethod = form.getAttribute('method') ? form.getAttribute('method').trim() : 'GET';\r\n\t\tconst message = form.getAttribute('data-message');\r\n\t\tconst ajax = form.getAttribute('data-ajax');\r\n\t\tconst test = form.getAttribute('data-test');\r\n\r\n\t\t//SendForm\r\n\t\tif (ajax) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet formData = new FormData(form);\r\n\t\t\tform.classList.add('_sending');\r\n\t\t\tlet response = await fetch(formAction, {\r\n\t\t\t\tmethod: formMethod,\r\n\t\t\t\tbody: formData\r\n\t\t\t});\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tlet result = await response.json();\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t\tif (message) {\r\n\t\t\t\t\tpopup_open(message + '-message');\r\n\t\t\t\t}\r\n\t\t\t\tform_clean(form);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Ошибка\");\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If test\r\n\t\tif (test) {\r\n\t\t\te.preventDefault();\r\n\t\t\tpopup_open(message + '-message');\r\n\t\t\tform_clean(form);\r\n\t\t}\r\n\t} else {\r\n\t\tlet form_error = form.querySelectorAll('._error');\r\n\t\tif (form_error && form.classList.contains('_goto-error')) {\r\n\t\t\t_goto(form_error[0], 1000, 50);\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t}\r\n}\r\nfunction form_validate(form) {\r\n\tlet error = 0;\r\n\tlet form_req = form.querySelectorAll('._req');\r\n\tif (form_req.length > 0) {\r\n\t\tfor (let index = 0; index < form_req.length; index++) {\r\n\t\t\tconst el = form_req[index];\r\n\t\t\tif (!_is_hidden(el)) {\r\n\t\t\t\terror += form_validate_input(el);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn error;\r\n}\r\nfunction form_validate_input(input) {\r\n\tlet error = 0;\r\n\tlet input_g_value = input.getAttribute('data-value');\r\n\r\n\tif (input.getAttribute(\"name\") == \"email\" || input.classList.contains(\"_email\")) {\r\n\t\tif (input.value != input_g_value) {\r\n\t\t\tlet em = input.value.replace(\" \", \"\");\r\n\t\t\tinput.value = em;\r\n\t\t}\r\n\t\tif (email_test(input) || input.value == input_g_value) {\r\n\t\t\tform_add_error(input);\r\n\t\t\terror++;\r\n\t\t} else {\r\n\t\t\tform_remove_error(input);\r\n\t\t}\r\n\t} else if (input.getAttribute(\"type\") == \"checkbox\" && input.checked == false) {\r\n\t\tform_add_error(input);\r\n\t\terror++;\r\n\t} else {\r\n\t\tif (input.value == '' || input.value == input_g_value) {\r\n\t\t\tform_add_error(input);\r\n\t\t\terror++;\r\n\t\t} else {\r\n\t\t\tform_remove_error(input);\r\n\t\t}\r\n\t}\r\n\treturn error;\r\n}\r\nfunction form_add_error(input) {\r\n\tinput.classList.add('_error');\r\n\tinput.parentElement.classList.add('_error');\r\n\r\n\tlet input_error = input.parentElement.querySelector('.form__error');\r\n\tif (input_error) {\r\n\t\tinput.parentElement.removeChild(input_error);\r\n\t}\r\n\tlet input_error_text = input.getAttribute('data-error');\r\n\tif (input_error_text && input_error_text != '') {\r\n\t\tinput.parentElement.insertAdjacentHTML('beforeend', '<div class=\"form__error\">' + input_error_text + '</div>');\r\n\t}\r\n}\r\nfunction form_remove_error(input) {\r\n\tinput.classList.remove('_error');\r\n\tinput.parentElement.classList.remove('_error');\r\n\r\n\tlet input_error = input.parentElement.querySelector('.form__error');\r\n\tif (input_error) {\r\n\t\tinput.parentElement.removeChild(input_error);\r\n\t}\r\n}\r\nfunction form_clean(form) {\r\n\tlet inputs = form.querySelectorAll('input,textarea');\r\n\tfor (let index = 0; index < inputs.length; index++) {\r\n\t\tconst el = inputs[index];\r\n\t\tel.parentElement.classList.remove('_focus');\r\n\t\tel.classList.remove('_focus');\r\n\t\tel.value = el.getAttribute('data-value');\r\n\t}\r\n\tlet checkboxes = form.querySelectorAll('.checkbox__input');\r\n\tif (checkboxes.length > 0) {\r\n\t\tfor (let index = 0; index < checkboxes.length; index++) {\r\n\t\t\tconst checkbox = checkboxes[index];\r\n\t\t\tcheckbox.checked = false;\r\n\t\t}\r\n\t}\r\n\tlet selects = form.querySelectorAll('select');\r\n\tif (selects.length > 0) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tconst select_default_value = select.getAttribute('data-default');\r\n\t\t\tselect.value = select_default_value;\r\n\t\t\tselect_item(select);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet viewPass = document.querySelectorAll('.form__viewpass');\r\nfor (let index = 0; index < viewPass.length; index++) {\r\n\tconst element = viewPass[index];\r\n\telement.addEventListener(\"click\", function (e) {\r\n\t\tif (element.classList.contains('_active')) {\r\n\t\t\telement.parentElement.querySelector('input').setAttribute(\"type\", \"password\");\r\n\t\t} else {\r\n\t\t\telement.parentElement.querySelector('input').setAttribute(\"type\", \"text\");\r\n\t\t}\r\n\t\telement.classList.toggle('_active');\r\n\t});\r\n}\r\n\r\n//Select\r\nlet selects = document.getElementsByTagName('select');\r\nif (selects.length > 0) {\r\n\tselects_init();\r\n}\r\nfunction selects_init() {\r\n\tfor (let index = 0; index < selects.length; index++) {\r\n\t\tconst select = selects[index];\r\n\t\tselect_init(select);\r\n\t}\r\n\t//select_callback();\r\n\tdocument.addEventListener('click', function (e) {\r\n\t\tselects_close(e);\r\n\t});\r\n\tdocument.addEventListener('keydown', function (e) {\r\n\t\tif (e.code === 'Escape') {\r\n\t\t\tselects_close(e);\r\n\t\t}\r\n\t});\r\n}\r\nfunction selects_close(e) {\r\n\tconst selects = document.querySelectorAll('.select');\r\n\tif (!e.target.closest('.select') && !e.target.classList.contains('_option')) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tconst select_body_options = select.querySelector('.select__options');\r\n\t\t\tselect.classList.remove('_active');\r\n\t\t\t_slideUp(select_body_options, 100);\r\n\t\t}\r\n\t}\r\n}\r\nfunction select_init(select) {\r\n\tconst select_parent = select.parentElement;\r\n\tconst select_modifikator = select.getAttribute('class');\r\n\tconst select_selected_option = select.querySelector('option:checked');\r\n\tselect.setAttribute('data-default', select_selected_option.value);\r\n\tselect.style.display = 'none';\r\n\r\n\tselect_parent.insertAdjacentHTML('beforeend', '<div class=\"select select_' + select_modifikator + '\"></div>');\r\n\r\n\tlet new_select = select.parentElement.querySelector('.select');\r\n\tnew_select.appendChild(select);\r\n\tselect_item(select);\r\n}\r\nfunction select_item(select) {\r\n\tconst select_parent = select.parentElement;\r\n\tconst select_items = select_parent.querySelector('.select__item');\r\n\tconst select_options = select.querySelectorAll('option');\r\n\tconst select_selected_option = select.querySelector('option:checked');\r\n\tconst select_selected_text = select_selected_option.text;\r\n\tconst select_type = select.getAttribute('data-type');\r\n\r\n\tif (select_items) {\r\n\t\tselect_items.remove();\r\n\t}\r\n\r\n\tlet select_type_content = '';\r\n\tif (select_type == 'input') {\r\n\t\tselect_type_content = '<div class=\"select__value icon-select-arrow\"><input autocomplete=\"off\" type=\"text\" name=\"form[]\" value=\"' + select_selected_text + '\" data-error=\"Ошибка\" data-value=\"' + select_selected_text + '\" class=\"select__input\"></div>';\r\n\t} else {\r\n\t\tselect_type_content = '<div class=\"select__value icon-select-arrow\"><span>' + select_selected_text + '</span></div>';\r\n\t}\r\n\r\n\tselect_parent.insertAdjacentHTML('beforeend',\r\n\t\t'<div class=\"select__item\">' +\r\n\t\t'<div class=\"select__title\">' + select_type_content + '</div>' +\r\n\t\t'<div class=\"select__options\">' + select_get_options(select_options) + '</div>' +\r\n\t\t'</div></div>');\r\n\r\n\tselect_actions(select, select_parent);\r\n}\r\nfunction select_actions(original, select) {\r\n\tconst select_item = select.querySelector('.select__item');\r\n\tconst selectTitle = select.querySelector('.select__title');\r\n\tconst select_body_options = select.querySelector('.select__options');\r\n\tconst select_options = select.querySelectorAll('.select__option');\r\n\tconst select_type = original.getAttribute('data-type');\r\n\tconst select_input = select.querySelector('.select__input');\r\n\r\n\tselectTitle.addEventListener('click', function (e) {\r\n\t\tselectItemActions();\r\n\t});\r\n\r\n\tfunction selectMultiItems() {\r\n\t\tlet selectedOptions = select.querySelectorAll('.select__option');\r\n\t\tlet originalOptions = original.querySelectorAll('option');\r\n\t\tlet selectedOptionsText = [];\r\n\t\tfor (let index = 0; index < selectedOptions.length; index++) {\r\n\t\t\tconst selectedOption = selectedOptions[index];\r\n\t\t\toriginalOptions[index].removeAttribute('selected');\r\n\t\t\tif (selectedOption.classList.contains('_selected')) {\r\n\t\t\t\tconst selectOptionText = selectedOption.innerHTML;\r\n\t\t\t\tselectedOptionsText.push(selectOptionText);\r\n\t\t\t\toriginalOptions[index].setAttribute('selected', 'selected');\r\n\t\t\t}\r\n\t\t}\r\n\t\tselect.querySelector('.select__value').innerHTML = '<span>' + selectedOptionsText + '</span>';\r\n\t}\r\n\tfunction selectItemActions(type) {\r\n\t\tif (!type) {\r\n\t\t\tlet selects = document.querySelectorAll('.select');\r\n\t\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\t\tconst select = selects[index];\r\n\t\t\t\tconst select_body_options = select.querySelector('.select__options');\r\n\t\t\t\tif (select != select_item.closest('.select')) {\r\n\t\t\t\t\tselect.classList.remove('_active');\r\n\t\t\t\t\t_slideUp(select_body_options, 100);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_slideToggle(select_body_options, 100);\r\n\t\t\tselect.classList.toggle('_active');\r\n\t\t}\r\n\t}\r\n\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\tconst select_option = select_options[index];\r\n\t\tconst select_option_value = select_option.getAttribute('data-value');\r\n\t\tconst select_option_text = select_option.innerHTML;\r\n\r\n\t\tif (select_type == 'input') {\r\n\t\t\tselect_input.addEventListener('keyup', select_search);\r\n\t\t} else {\r\n\t\t\tif (select_option.getAttribute('data-value') == original.value && !original.hasAttribute('multiple')) {\r\n\t\t\t\tselect_option.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t\tselect_option.addEventListener('click', function () {\r\n\t\t\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\t\t\tconst el = select_options[index];\r\n\t\t\t\tel.style.display = 'block';\r\n\t\t\t}\r\n\t\t\tif (select_type == 'input') {\r\n\t\t\t\tselect_input.value = select_option_text;\r\n\t\t\t\toriginal.value = select_option_value;\r\n\t\t\t} else {\r\n\t\t\t\tif (original.hasAttribute('multiple')) {\r\n\t\t\t\t\tselect_option.classList.toggle('_selected');\r\n\t\t\t\t\tselectMultiItems();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselect.querySelector('.select__value').innerHTML = '<span>' + select_option_text + '</span>';\r\n\t\t\t\t\toriginal.value = select_option_value;\r\n\t\t\t\t\tselect_option.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet type;\r\n\t\t\tif (original.hasAttribute('multiple')) {\r\n\t\t\t\ttype = 'multiple';\r\n\t\t\t}\r\n\t\t\tselectItemActions(type);\r\n\t\t});\r\n\t}\r\n}\r\nfunction select_get_options(select_options) {\r\n\tif (select_options) {\r\n\t\tlet select_options_content = '';\r\n\t\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\t\tconst select_option = select_options[index];\r\n\t\t\tconst select_option_value = select_option.value;\r\n\t\t\tif (select_option_value != '') {\r\n\t\t\t\tconst select_option_text = select_option.innerHTML;\r\n\t\t\t\tselect_options_content = select_options_content + '<div data-value=\"' + select_option_value + '\" class=\"select__option\">' + select_option_text + '</div>';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn select_options_content;\r\n\t}\r\n}\r\nfunction select_search(e) {\r\n\tlet select_block = e.target.closest('.select ').querySelector('.select__options');\r\n\tlet select_options = e.target.closest('.select ').querySelectorAll('.select__option');\r\n\tlet select_search_text = e.target.value.toUpperCase();\r\n\r\n\tfor (let i = 0; i < select_options.length; i++) {\r\n\t\tlet select_option = select_options[i];\r\n\t\tlet select_txt_value = select_option.textContent || select_option.innerText;\r\n\t\tif (select_txt_value.toUpperCase().indexOf(select_search_text) > -1) {\r\n\t\t\tselect_option.style.display = \"\";\r\n\t\t} else {\r\n\t\t\tselect_option.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n}\r\nfunction selects_update_all() {\r\n\tlet selects = document.querySelectorAll('select');\r\n\tif (selects) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tselect_item(select);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//Placeholers\r\nlet inputs = document.querySelectorAll('input[data-value],textarea[data-value]');\r\ninputs_init(inputs);\r\n\r\nfunction inputs_init(inputs) {\r\n\tif (inputs.length > 0) {\r\n\t\tfor (let index = 0; index < inputs.length; index++) {\r\n\t\t\tconst input = inputs[index];\r\n\t\t\tconst input_g_value = input.getAttribute('data-value');\r\n\t\t\tinput_placeholder_add(input);\r\n\t\t\tif (input.value != '' && input.value != input_g_value) {\r\n\t\t\t\tinput_focus_add(input);\r\n\t\t\t}\r\n\t\t\tinput.addEventListener('focus', function (e) {\r\n\t\t\t\tif (input.value == input_g_value) {\r\n\t\t\t\t\tinput_focus_add(input);\r\n\t\t\t\t\tinput.value = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (input.getAttribute('data-type') === \"pass\" && !input.parentElement.querySelector('.form__viewpass').classList.contains('_active')) {\r\n\t\t\t\t\tinput.setAttribute('type', 'password');\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_date')) {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"99.99.9999\", {\r\n\t\t\t\t\t\t//\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_phone')) {\r\n\t\t\t\t\t//'+7(999) 999 9999'\r\n\t\t\t\t\t//'+38(999) 999 9999'\r\n\t\t\t\t\t//'+375(99)999-99-99'\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"+375 (99) 9999999\", {\r\n\t\t\t\t\t\t//\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_digital')) {\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"9{1,}\", {\r\n\t\t\t\t\t\t\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t}\r\n\t\t\t\tform_remove_error(input);\r\n\t\t\t});\r\n\t\t\tinput.addEventListener('blur', function (e) {\r\n\t\t\t\tif (input.value == '') {\r\n\t\t\t\t\tinput.value = input_g_value;\r\n\t\t\t\t\tinput_focus_remove(input);\r\n\t\t\t\t\tif (input.classList.contains('_mask')) {\r\n\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (input.getAttribute('data-type') === \"pass\") {\r\n\t\t\t\t\t\tinput.setAttribute('type', 'text');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (input.classList.contains('_date')) {\r\n\t\t\t\tconst calendarItem = datepicker(input, {\r\n\t\t\t\t\tcustomDays: [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"],\r\n\t\t\t\t\tcustomMonths: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\r\n\t\t\t\t\toverlayButton: 'Применить',\r\n\t\t\t\t\toverlayPlaceholder: 'Год (4 цифры)',\r\n\t\t\t\t\tstartDay: 1,\r\n\t\t\t\t\tformatter: (input, date, instance) => {\r\n\t\t\t\t\t\tconst value = date.toLocaleDateString()\r\n\t\t\t\t\t\tinput.value = value\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonSelect: function (input, instance, date) {\r\n\t\t\t\t\t\tinput_focus_add(input.el);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst dataFrom = input.getAttribute('data-from');\r\n\t\t\t\tconst dataTo = input.getAttribute('data-to');\r\n\t\t\t\tif (dataFrom) {\r\n\t\t\t\t\tcalendarItem.setMin(new Date(dataFrom));\r\n\t\t\t\t}\r\n\t\t\t\tif (dataTo) {\r\n\t\t\t\t\tcalendarItem.setMax(new Date(dataTo));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nfunction input_placeholder_add(input) {\r\n\tconst input_g_value = input.getAttribute('data-value');\r\n\tif (input.value == '' && input_g_value != '') {\r\n\t\tinput.value = input_g_value;\r\n\t}\r\n}\r\nfunction input_focus_add(input) {\r\n\tif (!input.classList.contains('user-bar__input')) {\r\n\t\tinput.classList.add('_focus');\r\n\t\tinput.parentElement.classList.add('_focus');\r\n\t}\r\n\t\r\n}\r\nfunction input_focus_remove(input) {\r\n\tif (!input.classList.contains('user-bar__input')) {\r\n\t\tinput.classList.remove('_focus');\r\n\t\tinput.parentElement.classList.remove('_focus');\r\n\t};\r\n}\r\nfunction input_clear_mask(input, input_g_value) {\r\n\tinput.inputmask.remove();\r\n\tinput.value = input_g_value;\r\n\tinput_focus_remove(input);\r\n}\r\n\r\n//QUANTITY\r\nlet quantityButtons = document.querySelectorAll('.quantity__button');\r\nif (quantityButtons.length > 0) {\r\n\tfor (let index = 0; index < quantityButtons.length; index++) {\r\n\t\tconst quantityButton = quantityButtons[index];\r\n\t\tquantityButton.addEventListener(\"click\", function (e) {\r\n\t\t\tlet value = parseInt(quantityButton.closest('.quantity').querySelector('input').value);\r\n\t\t\tif (quantityButton.classList.contains('quantity__button_plus')) {\r\n\t\t\t\tvalue++;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = value - 1;\r\n\t\t\t\tif (value < 1) {\r\n\t\t\t\t\tvalue = 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tquantityButton.closest('.quantity').querySelector('input').value = value;\r\n\t\t});\r\n\t}\r\n}\r\n\r\n//RANGE\r\nconst priceSlider = document.querySelector('.price-filter__slider');\r\nif (priceSlider) {\r\n\r\n\tlet textFrom = priceSlider.getAttribute('data-from');\r\n\tlet textTo = priceSlider.getAttribute('data-to');\r\n\r\n\tnoUiSlider.create(priceSlider, {\r\n\t\tstart: [0, 200000],\r\n\t\tconnect: true,\r\n\t\ttooltips: [wNumb({ decimals: 0, prefix: textFrom + ' ' }), wNumb({ decimals: 0, prefix: textTo + ' ' })],\r\n\t\trange: {\r\n\t\t\t'min': [0],\r\n\t\t\t'max': [200000]\r\n\t\t}\r\n\t});\r\n\r\n\t/*\r\n\tconst priceStart = document.getElementById('price-start');\r\n\tconst priceEnd = document.getElementById('price-end');\r\n\tpriceStart.addEventListener('change', setPriceValues);\r\n\tpriceEnd.addEventListener('change', setPriceValues);\r\n\t*/\r\n\r\n\tfunction setPriceValues() {\r\n\t\tlet priceStartValue;\r\n\t\tlet priceEndValue;\r\n\t\tif (priceStart.value != '') {\r\n\t\t\tpriceStartValue = priceStart.value;\r\n\t\t}\r\n\t\tif (priceEnd.value != '') {\r\n\t\t\tpriceEndValue = priceEnd.value;\r\n\t\t}\r\n\t\tpriceSlider.noUiSlider.set([priceStartValue, priceEndValue]);\r\n\t}\r\n}\r\nlet scr_body = document.querySelector('body');\r\nlet scr_blocks = document.querySelectorAll('._scr-sector');\r\nlet scr_items = document.querySelectorAll('._scr-item');\r\nlet scr_fix_block = document.querySelectorAll('._side-wrapper');\r\nlet scr_min_height = 750;\r\n\r\nlet scrolling = true;\r\nlet scrolling_full = true;\r\n\r\nlet scrollDirection = 0;\r\n\r\nlet currentScroll;\r\n\r\n//ScrollOnScroll\r\nwindow.addEventListener('scroll', scroll_scroll);\r\nfunction scroll_scroll() {\r\n\tlet src_value = currentScroll = pageYOffset;\r\n\tlet header = document.querySelector('header.header');\r\n\tif (header !== null) {\r\n\t\tif (src_value > 10) {\r\n\t\t\theader.classList.add('_scroll');\r\n\t\t} else {\r\n\t\t\theader.classList.remove('_scroll');\r\n\t\t}\r\n\t}\r\n\tif (scr_blocks.length > 0) {\r\n\t\tfor (let index = 0; index < scr_blocks.length; index++) {\r\n\t\t\tlet block = scr_blocks[index];\r\n\t\t\tlet block_offset = offset(block).top;\r\n\t\t\tlet block_height = block.offsetHeight;\r\n\r\n\t\t\t/*\r\n\t\t\tif ((src_value > block_offset - block_height) && src_value < (block_offset + block_height) && window.innerHeight > scr_min_height && window.innerWidth > 992) {\r\n\t\t\t\tlet scrProcent = (src_value - block_offset) / block_height * 100;\r\n\t\t\t\tscrParallax(block, scrProcent, block_height);\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 1.5) && pageYOffset < (block_offset + block_height) - window.innerHeight / 5) {\r\n\t\t\t\tblock.classList.add('_scr-sector_active');\r\n\t\t\t} else {\r\n\t\t\t\tif (block.classList.contains('_scr-sector_active')) {\r\n\t\t\t\t\tblock.classList.remove('_scr-sector_active');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 2) && pageYOffset < (block_offset + block_height) - window.innerHeight / 5) {\r\n\t\t\t\tif (!block.classList.contains('_scr-sector_current')) {\r\n\t\t\t\t\tblock.classList.add('_scr-sector_current');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (block.classList.contains('_scr-sector_current')) {\r\n\t\t\t\t\tblock.classList.remove('_scr-sector_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (scr_items.length > 0) {\r\n\t\tfor (let index = 0; index < scr_items.length; index++) {\r\n\t\t\tlet scr_item = scr_items[index];\r\n\t\t\tlet scr_item_offset = offset(scr_item).top;\r\n\t\t\tlet scr_item_height = scr_item.offsetHeight;\r\n\r\n\r\n\t\t\tlet scr_item_point = window.innerHeight - (window.innerHeight - scr_item_height / 3);\r\n\t\t\tif (window.innerHeight > scr_item_height) {\r\n\t\t\t\tscr_item_point = window.innerHeight - scr_item_height / 3;\r\n\t\t\t}\r\n\r\n\t\t\tif ((src_value > scr_item_offset - scr_item_point) && src_value < (scr_item_offset + scr_item_height)) {\r\n\t\t\t\tscr_item.classList.add('_active');\r\n\t\t\t\tscroll_load_item(scr_item);\r\n\t\t\t} else {\r\n\t\t\t\tscr_item.classList.remove('_active');\r\n\t\t\t}\r\n\t\t\tif (((src_value > scr_item_offset - window.innerHeight))) {\r\n\t\t\t\tif (scr_item.querySelectorAll('._lazy').length > 0) {\r\n\t\t\t\t\tscroll_lazy(scr_item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (scr_fix_block.length > 0) {\r\n\t\tfix_block(scr_fix_block, src_value);\r\n\t}\r\n\tlet custom_scroll_line = document.querySelector('._custom-scroll__line');\r\n\tif (custom_scroll_line) {\r\n\t\tlet window_height = window.innerHeight;\r\n\t\tlet content_height = document.querySelector('.wrapper').offsetHeight;\r\n\t\tlet scr_procent = (pageYOffset / (content_height - window_height)) * 100;\r\n\t\tlet custom_scroll_line_height = custom_scroll_line.offsetHeight;\r\n\t\tcustom_scroll_line.style.transform = \"translateY(\" + (window_height - custom_scroll_line_height) / 100 * scr_procent + \"px)\";\r\n\t}\r\n\tif (src_value > scrollDirection) {\r\n\t\t// downscroll code\r\n\t} else {\r\n\t\t// upscroll code\r\n\t}\r\n\tscrollDirection = src_value <= 0 ? 0 : src_value;\r\n}\r\nsetTimeout(function () {\r\n\t//document.addEventListener(\"DOMContentLoaded\", scroll_scroll);\r\n\tscroll_scroll();\r\n}, 100);\r\n\r\nfunction scroll_lazy(scr_item) {\r\n\tlet lazy_src = scr_item.querySelectorAll('*[data-src]');\r\n\tif (lazy_src.length > 0) {\r\n\t\tfor (let index = 0; index < lazy_src.length; index++) {\r\n\t\t\tconst el = lazy_src[index];\r\n\t\t\tif (!el.classList.contains('_loaded')) {\r\n\t\t\t\tel.setAttribute('src', el.getAttribute('data-src'));\r\n\t\t\t\tel.classList.add('_loaded');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tlet lazy_srcset = scr_item.querySelectorAll('*[data-srcset]');\r\n\tif (lazy_srcset.length > 0) {\r\n\t\tfor (let index = 0; index < lazy_srcset.length; index++) {\r\n\t\t\tconst el = lazy_srcset[index];\r\n\t\t\tif (!el.classList.contains('_loaded')) {\r\n\t\t\t\tel.setAttribute('srcset', el.getAttribute('data-srcset'));\r\n\t\t\t\tel.classList.add('_loaded');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nfunction scroll_load_item(scr_item) {\r\n\tif (scr_item.classList.contains('_load-map') && !scr_item.classList.contains('_loaded-map')) {\r\n\t\tlet map_item = document.getElementById('map');\r\n\t\tif (map_item) {\r\n\t\t\tscr_item.classList.add('_loaded-map');\r\n\t\t\tmap();\r\n\t\t}\r\n\t}\r\n}\r\nfunction scrParallax(block, scrProcent, blockHeight) {\r\n\tlet prlxItems = block.querySelectorAll('._prlx-item');\r\n\tif (prlxItems.length > 0) {\r\n\t\tfor (let index = 0; index < prlxItems.length; index++) {\r\n\t\t\tconst prlxItem = prlxItems[index];\r\n\t\t\tlet prlxItemAttr = (prlxItem.dataset.prlx) ? prlxItem.dataset.prlx : 3;\r\n\t\t\tconst prlxItemValue = -1 * (blockHeight / 100 * scrProcent / prlxItemAttr);\r\n\t\t\tprlxItem.style.cssText = `transform: translateY(${prlxItemValue}px);`;\r\n\t\t}\r\n\t}\r\n}\r\n//FullScreenScroll\r\nif (scr_blocks.length > 0 && !isMobile.any()) {\r\n\tdisableScroll();\r\n\twindow.addEventListener('wheel', full_scroll);\r\n\r\n\tlet swiperScrolls = document.querySelectorAll('._swiper_scroll');\r\n\r\n\tif (swiperScrolls.length > 0) {\r\n\t\tfor (let index = 0; index < swiperScrolls.length; index++) {\r\n\t\t\tconst swiperScroll = swiperScrolls[index];\r\n\t\t\tswiperScroll.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\twindow.removeEventListener('wheel', full_scroll);\r\n\t\t\t});\r\n\t\t\tswiperScroll.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\twindow.addEventListener('wheel', full_scroll);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\nfunction getPrevBlockPos(current_block_prev) {\r\n\tlet viewport_height = window.innerHeight;\r\n\tlet current_block_prev_height = current_block_prev.offsetHeight;\r\n\tlet block_pos = offset(current_block_prev).top;\r\n\r\n\tif (current_block_prev_height >= viewport_height) {\r\n\t\tblock_pos = block_pos + (current_block_prev_height - viewport_height);\r\n\t}\r\n\treturn block_pos;\r\n}\r\nfunction full_scroll(e) {\r\n\tlet viewport_height = window.innerHeight;\r\n\tif (viewport_height >= scr_min_height) {\r\n\t\tif (scrolling_full) {\r\n\t\t\tlet current_block = document.querySelector('._scr-sector._scr-sector_current');\r\n\t\t\tlet current_block_pos = offset(current_block).top;\r\n\t\t\tlet current_block_height = current_block.offsetHeight;\r\n\t\t\tlet current_block_next = current_block.nextElementSibling;\r\n\t\t\tlet current_block_prev = current_block.previousElementSibling;\r\n\t\t\tif (e.keyCode == 40 || e.keyCode == 34 || e.deltaX > 0 || e.deltaY < 0) {\r\n\t\t\t\tif (current_block_height <= viewport_height) {\r\n\t\t\t\t\tif (current_block_prev) {\r\n\t\t\t\t\t\tfull_scroll_to_sector(getPrevBlockPos(current_block_prev));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t\tif (currentScroll <= current_block_pos) {\r\n\t\t\t\t\t\tif (current_block_prev) {\r\n\t\t\t\t\t\t\tfull_scroll_to_sector(getPrevBlockPos(current_block_prev));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (e.keyCode == 38 || e.keyCode == 33 || e.deltaX < 0 || e.deltaY > 0) {\r\n\t\t\t\tif (current_block_height <= viewport_height) {\r\n\t\t\t\t\tif (current_block_next) {\r\n\t\t\t\t\t\tlet block_pos = offset(current_block_next).top;\r\n\t\t\t\t\t\tfull_scroll_to_sector(block_pos);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t\tif (current_block_next) {\r\n\t\t\t\t\t\tlet block_pos = offset(current_block_next).top;\r\n\t\t\t\t\t\tif (currentScroll >= block_pos - viewport_height) {\r\n\t\t\t\t\t\t\tfull_scroll_to_sector(block_pos);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdisableScroll();\r\n\t\t}\r\n\t} else {\r\n\t\tenableScroll();\r\n\t}\r\n}\r\nfunction full_scroll_to_sector(pos) {\r\n\tdisableScroll();\r\n\tscrolling_full = false;\r\n\t_goto(pos, 800);\r\n\r\n\tlet scr_pause = 500;\r\n\tif (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n\t\tscr_pause = 1000;\r\n\t};\r\n\tsetTimeout(function () {\r\n\t\tscrolling_full = true;\r\n\t}, scr_pause);\r\n}\r\nfunction full_scroll_pagestart() { }\r\nfunction full_scroll_pageend() { }\r\n\r\n//ScrollOnClick (Navigation)\r\nlet link = document.querySelectorAll('._goto-block');\r\nif (link) {\r\n\tlet blocks = [];\r\n\tfor (let index = 0; index < link.length; index++) {\r\n\t\tlet el = link[index];\r\n\t\tlet block_name = el.getAttribute('href').replace('#', '');\r\n\t\tif (block_name != '' && !~blocks.indexOf(block_name)) {\r\n\t\t\tblocks.push(block_name);\r\n\t\t}\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tif (document.querySelector('.menu__body._active')) {\r\n\t\t\t\tmenu_close();\r\n\t\t\t\tbody_lock_remove(500);\r\n\t\t\t}\r\n\t\t\tlet target_block_class = el.getAttribute('href').replace('#', '');\r\n\t\t\tlet target_block = document.querySelector('.' + target_block_class);\r\n\t\t\t_goto(target_block, 300);\r\n\t\t\te.preventDefault();\r\n\t\t})\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', function (el) {\r\n\t\tlet old_current_link = document.querySelectorAll('._goto-block._active');\r\n\t\tif (old_current_link) {\r\n\t\t\tfor (let index = 0; index < old_current_link.length; index++) {\r\n\t\t\t\tlet el = old_current_link[index];\r\n\t\t\t\tel.classList.remove('_active');\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let index = 0; index < blocks.length; index++) {\r\n\t\t\tlet block = blocks[index];\r\n\t\t\tlet block_item = document.querySelector('.' + block);\r\n\t\t\tif (block_item) {\r\n\t\t\t\tlet block_offset = offset(block_item).top;\r\n\t\t\t\tlet block_height = block_item.offsetHeight;\r\n\t\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 3) && pageYOffset < (block_offset + block_height) - window.innerHeight / 3) {\r\n\t\t\t\t\tlet current_links = document.querySelectorAll('._goto-block[href=\"#' + block + '\"]');\r\n\t\t\t\t\tfor (let index = 0; index < current_links.length; index++) {\r\n\t\t\t\t\t\tlet current_link = current_links[index];\r\n\t\t\t\t\t\tcurrent_link.classList.add('_active');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n//ScrollOnClick (Simple)\r\nlet goto_links = document.querySelectorAll('._goto');\r\nlet body = document.querySelector(\"body\");\r\nif (goto_links) {\r\n\tfor (let index = 0; index < goto_links.length; index++) {\r\n\t\tlet goto_link = goto_links[index];\r\n\t\tgoto_link.addEventListener('click', function (e) {\r\n\t\t\tif (body.classList.contains('_lock')) {\r\n\t\t\t\tpopup_close(e.target.closest('.popup'));\r\n\t\t\t\tbody_lock_remove(delay);\r\n\t\t\t}\r\n\t\t\tlet target_block_class = goto_link.getAttribute('href').replace('#', '');\r\n\t\t\tlet target_block = document.querySelector('.' + target_block_class);\r\n\t\t\t_goto(target_block, 600);\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nfunction _goto(target_block, speed, offset = 0) {\r\n\tlet header = '';\r\n\t//OffsetHeader\r\n\t//if (window.innerWidth < 992) {\r\n\t//\theader = 'header';\r\n\t//}\r\n\tlet options = {\r\n\t\tspeedAsDuration: true,\r\n\t\tspeed: speed,\r\n\t\theader: header,\r\n\t\toffset: offset,\r\n\t\teasing: 'easeOutQuad',\r\n\t};\r\n\tlet scr = new SmoothScroll();\r\n\tscr.animateScroll(target_block, '', options);\r\n}\r\n\r\n//SameFunctions\r\nfunction offset(el) {\r\n\tvar rect = el.getBoundingClientRect(),\r\n\t\tscrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n\t\tscrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n\treturn { top: rect.top + scrollTop, left: rect.left + scrollLeft }\r\n}\r\nfunction disableScroll() {\r\n\tif (window.addEventListener) // older FF\r\n\t\twindow.addEventListener('DOMMouseScroll', preventDefault, false);\r\n\tdocument.addEventListener('wheel', preventDefault, { passive: false }); // Disable scrolling in Chrome\r\n\twindow.onwheel = preventDefault; // modern standard\r\n\twindow.onmousewheel = document.onmousewheel = preventDefault; // older browsers, IE\r\n\twindow.ontouchmove = preventDefault; // mobile\r\n\tdocument.onkeydown = preventDefaultForScrollKeys;\r\n}\r\nfunction enableScroll() {\r\n\tif (window.removeEventListener)\r\n\t\twindow.removeEventListener('DOMMouseScroll', preventDefault, false);\r\n\tdocument.removeEventListener('wheel', preventDefault, { passive: false }); // Enable scrolling in Chrome\r\n\twindow.onmousewheel = document.onmousewheel = null;\r\n\twindow.onwheel = null;\r\n\twindow.ontouchmove = null;\r\n\tdocument.onkeydown = null;\r\n}\r\nfunction preventDefault(e) {\r\n\te = e || window.event;\r\n\tif (e.preventDefault)\r\n\t\te.preventDefault();\r\n\te.returnValue = false;\r\n}\r\nfunction preventDefaultForScrollKeys(e) {\r\n\t/*if (keys[e.keyCode]) {\r\n\t\tpreventDefault(e);\r\n\t\treturn false;\r\n\t}*/\r\n}\r\n\r\nfunction fix_block(scr_fix_block, scr_value) {\r\n\tlet window_width = parseInt(window.innerWidth);\r\n\tlet window_height = parseInt(window.innerHeight);\r\n\tlet header_height = parseInt(document.querySelector('header').offsetHeight) + 15;\r\n\tfor (let index = 0; index < scr_fix_block.length; index++) {\r\n\t\tconst block = scr_fix_block[index];\r\n\t\tlet block_width = block.getAttribute('data-width');\r\n\t\tconst item = block.querySelector('._side-block');\r\n\t\tif (!block_width) { block_width = 0; }\r\n\t\tif (window_width > block_width) {\r\n\t\t\tif (item.offsetHeight < window_height - (header_height + 30)) {\r\n\t\t\t\tif (scr_value > offset(block).top - (header_height + 15)) {\r\n\t\t\t\t\titem.style.cssText = \"position:fixed;bottom:auto;top:\" + header_height + \"px;width:\" + block.offsetWidth + \"px;left:\" + offset(block).left + \"px;\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgotoRelative(item);\r\n\t\t\t\t}\r\n\t\t\t\tif (scr_value > (block.offsetHeight + offset(block).top) - (item.offsetHeight + (header_height + 15))) {\r\n\t\t\t\t\tblock.style.cssText = \"position:relative;\";\r\n\t\t\t\t\titem.style.cssText = \"position:absolute;bottom:0;top:auto;left:0px;width:100%\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tgotoRelative(item);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction gotoRelative(item) {\r\n\t\titem.style.cssText = \"position:relative;bottom:auto;top:0px;left:0px;\";\r\n\t}\r\n}\r\n\r\nif (!isMobile.any()) {\r\n\t//custom_scroll();\r\n\t/*\r\n\twindow.addEventListener('wheel', scroll_animate, {\r\n\t\tcapture: true,\r\n\t\tpassive: true\r\n\t});\r\n\twindow.addEventListener('resize', custom_scroll, {\r\n\t\tcapture: true,\r\n\t\tpassive: true\r\n\t});\r\n\t*/\r\n}\r\nfunction custom_scroll(event) {\r\n\tscr_body.style.overflow = 'hidden';\r\n\tlet window_height = window.innerHeight;\r\n\tlet custom_scroll_line = document.querySelector('._custom-scroll__line');\r\n\tlet custom_scroll_content_height = document.querySelector('.wrapper').offsetHeight;\r\n\tlet custom_cursor_height = Math.min(window_height, Math.round(window_height * (window_height / custom_scroll_content_height)));\r\n\tif (custom_scroll_content_height > window_height) {\r\n\t\tif (!custom_scroll_line) {\r\n\t\t\tlet custom_scroll = document.createElement('div');\r\n\t\t\tcustom_scroll_line = document.createElement('div');\r\n\t\t\tcustom_scroll.setAttribute('class', '_custom-scroll');\r\n\t\t\tcustom_scroll_line.setAttribute('class', '_custom-scroll__line');\r\n\t\t\tcustom_scroll.appendChild(custom_scroll_line);\r\n\t\t\tscr_body.appendChild(custom_scroll);\r\n\t\t}\r\n\t\tcustom_scroll_line.style.height = custom_cursor_height + 'px';\r\n\t}\r\n}\r\n\r\nlet new_pos = pageYOffset;\r\nfunction scroll_animate(event) {\r\n\tlet window_height = window.innerHeight;\r\n\tlet content_height = document.querySelector('.wrapper').offsetHeight;\r\n\tlet start_position = pageYOffset;\r\n\tlet pos_add = 100;\r\n\r\n\tif (event.keyCode == 40 || event.keyCode == 34 || event.deltaX > 0 || event.deltaY < 0) {\r\n\t\tnew_pos = new_pos - pos_add;\r\n\t} else if (event.keyCode == 38 || event.keyCode == 33 || event.deltaX < 0 || event.deltaY > 0) {\r\n\t\tnew_pos = new_pos + pos_add;\r\n\t}\r\n\tif (new_pos > (content_height - window_height)) new_pos = content_height - window_height;\r\n\tif (new_pos < 0) new_pos = 0;\r\n\r\n\tif (scrolling) {\r\n\t\tscrolling = false;\r\n\t\t_goto(new_pos, 1000);\r\n\r\n\t\tlet scr_pause = 100;\r\n\t\tif (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n\t\t\tscr_pause = scr_pause * 2;\r\n\t\t};\r\n\t\tsetTimeout(function () {\r\n\t\t\tscrolling = true;\r\n\t\t\t_goto(new_pos, 1000);\r\n\t\t}, scr_pause);\r\n\t}\r\n\t//If native scroll\r\n\t//disableScroll();\r\n}\r\n\r\n// Dynamic Adapt v.1\r\n// HTML data-da=\"where(uniq class name),when(breakpoint),position(digi)\"\r\n// e.x. data-da=\".item,992,2\"\r\n// Andrikanych Yevhen 2020\r\n// https://www.youtube.com/c/freelancerlifestyle\r\n\r\n\"use strict\";\r\n\r\n\r\nfunction DynamicAdapt(type) {\r\n\tthis.type = type;\r\n}\r\n\r\nDynamicAdapt.prototype.init = function () {\r\n\tconst _this = this;\r\n\t// массив объектов\r\n\tthis.оbjects = [];\r\n\tthis.daClassname = \"_dynamic_adapt_\";\r\n\t// массив DOM-элементов\r\n\tthis.nodes = document.querySelectorAll(\"[data-da]\");\r\n\r\n\t// наполнение оbjects объктами\r\n\tfor (let i = 0; i < this.nodes.length; i++) {\r\n\t\tconst node = this.nodes[i];\r\n\t\tconst data = node.dataset.da.trim();\r\n\t\tconst dataArray = data.split(\",\");\r\n\t\tconst оbject = {};\r\n\t\tоbject.element = node;\r\n\t\tоbject.parent = node.parentNode;\r\n\t\tоbject.destination = document.querySelector(dataArray[0].trim());\r\n\t\tоbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\r\n\t\tоbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\r\n\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\tthis.оbjects.push(оbject);\r\n\t}\r\n\r\n\tthis.arraySort(this.оbjects);\r\n\r\n\t// массив уникальных медиа-запросов\r\n\tthis.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\r\n\t\treturn '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\r\n\t}, this);\r\n\tthis.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\r\n\t\treturn Array.prototype.indexOf.call(self, item) === index;\r\n\t});\r\n\r\n\t// навешивание слушателя на медиа-запрос\r\n\t// и вызов обработчика при первом запуске\r\n\tfor (let i = 0; i < this.mediaQueries.length; i++) {\r\n\t\tconst media = this.mediaQueries[i];\r\n\t\tconst mediaSplit = String.prototype.split.call(media, ',');\r\n\t\tconst matchMedia = window.matchMedia(mediaSplit[0]);\r\n\t\tconst mediaBreakpoint = mediaSplit[1];\r\n\r\n\t\t// массив объектов с подходящим брейкпоинтом\r\n\t\tconst оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\r\n\t\t\treturn item.breakpoint === mediaBreakpoint;\r\n\t\t});\r\n\t\tmatchMedia.addListener(function () {\r\n\t\t\t_this.mediaHandler(matchMedia, оbjectsFilter);\r\n\t\t});\r\n\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\r\n\t}\r\n};\r\n\r\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\r\n\tif (matchMedia.matches) {\r\n\t\tfor (let i = 0; i < оbjects.length; i++) {\r\n\t\t\tconst оbject = оbjects[i];\r\n\t\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\t\tthis.moveTo(оbject.place, оbject.element, оbject.destination);\r\n\t\t}\r\n\t} else {\r\n\t\tfor (let i = 0; i < оbjects.length; i++) {\r\n\t\t\tconst оbject = оbjects[i];\r\n\t\t\tif (оbject.element.classList.contains(this.daClassname)) {\r\n\t\t\t\tthis.moveBack(оbject.parent, оbject.element, оbject.index);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Функция перемещения\r\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\r\n\telement.classList.add(this.daClassname);\r\n\tif (place === 'last' || place >= destination.children.length) {\r\n\t\tdestination.insertAdjacentElement('beforeend', element);\r\n\t\treturn;\r\n\t}\r\n\tif (place === 'first') {\r\n\t\tdestination.insertAdjacentElement('afterbegin', element);\r\n\t\treturn;\r\n\t}\r\n\tdestination.children[place].insertAdjacentElement('beforebegin', element);\r\n}\r\n\r\n// Функция возврата\r\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\r\n\telement.classList.remove(this.daClassname);\r\n\tif (parent.children[index] !== undefined) {\r\n\t\tparent.children[index].insertAdjacentElement('beforebegin', element);\r\n\t} else {\r\n\t\tparent.insertAdjacentElement('beforeend', element);\r\n\t}\r\n}\r\n\r\n// Функция получения индекса внутри родителя\r\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\r\n\tconst array = Array.prototype.slice.call(parent.children);\r\n\treturn Array.prototype.indexOf.call(array, element);\r\n};\r\n\r\n// Функция сортировки массива по breakpoint и place \r\n// по возрастанию для this.type = min\r\n// по убыванию для this.type = max\r\nDynamicAdapt.prototype.arraySort = function (arr) {\r\n\tif (this.type === \"min\") {\r\n\t\tArray.prototype.sort.call(arr, function (a, b) {\r\n\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn a.place - b.place;\r\n\t\t\t}\r\n\r\n\t\t\treturn a.breakpoint - b.breakpoint;\r\n\t\t});\r\n\t} else {\r\n\t\tArray.prototype.sort.call(arr, function (a, b) {\r\n\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn b.place - a.place;\r\n\t\t\t}\r\n\r\n\t\t\treturn b.breakpoint - a.breakpoint;\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n};\r\n\r\nconst da = new DynamicAdapt(\"max\");\r\nda.init();"]}