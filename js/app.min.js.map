{"version":3,"sources":["app.js"],"names":["email_test","input","test","value","sliders","document","querySelectorAll","index","length","slider","classList","contains","slider_items","children","add","slider_content","innerHTML","slider_wrapper","createElement","appendChild","sliderScroll","sliders_bild_callback","params","sliderHero","Swiper","slidesPerView","spaceBetween","speed","autoHeight","pagination","el","clickable","navigation","nextEl","prevEl","on","lazyImageReady","ibg","sliderProducts","watchSlidesVisibility","loop","breakpoints","sliderStocks","heroProductPageSlider","sliderSimilarGoods","preloadImages","lazy","sliderBuyMore","sliderCompare","watchOverflow","scrollbar","draggable","slidesPerGroup","touchRatio","simulateTouch","sliderScrollItems","sliderScrollItem","sliderScrollBar","querySelector","observer","observeParents","direction","freeMode","snapOnRelease","mousewheel","releaseOnEdges","updateSize","ua","window","navigator","userAgent","msie","indexOf","isMobile","Android","match","BlackBerry","iOS","Opera","Windows","any","isIE","testWebP","callback","webP","Image","onload","onerror","height","src","i","getAttribute","style","backgroundImage","support","addEventListener","setTimeout","unlock","itemsBlock","specificationsItems","itemsLenght","forEach","specificationsItem","specificationsItemElements","hiddenSpollersBlock","append","link","element","insertAdjacentHTML","setSpollerClass","spollersLinks","spollersLink","e","location","hash","hsh","replace","popup_open","_goto","iconMenu","delay","menuBody","body_lock","toggle","menu_close","remove","body_lock_remove","body_lock_add","body","lock_padding","paddingRight","innerWidth","offsetWidth","title","txt_words","split","new_title","txt_word","len","it","substr","tabs","tab","tabs_items","tabs_blocks","tabs_item","preventDefault","spollers","spollersGo","spollerCLick","spoller","target","closest","curent_spollers","_slideUp","nextElementSibling","_slideToggle","spollersInit","spollerMax","cssText","removeEventListener","spollersShowActive","gallery","gallery_init","lightGallery","counter","selector","download","search_in_list","li","parentNode","filter","toUpperCase","item","txtValue","textContent","innerText","display","digi","str","toString","digi_animate","el_to","parseInt","digi_animate_value","start","end","duration","obj","range","stepTime","Math","abs","floor","max","timer","endTime","Date","getTime","run","now","remaining","round","clearInterval","setInterval","popup_link","popups","popup_close","video","curent_popup","history","pushState","bodyUnlock","popup","href","popup_close_icon","code","transitionProperty","transitionDuration","offsetHeight","overflow","paddingTop","paddingBottom","marginTop","marginBottom","removeProperty","_slideDown","getComputedStyle","_wrap","wrapper","insertBefore","_removeClasses","class_name","_is_hidden","offsetParent","moreBlocks","moreBlock","items","isScrollStart","itemsMore","itemsContent","itemsView","setSize","type","resultHeight","itemsContentHeight","itemsContentStartHeight","isScrollEnd","getPropertyValue","ratings","initRatings","ratingActive","ratingValue","rating","initRating","initRatingVars","setRatingActiveWidth","ratingItems","ratingItem","dataset","ajax","setRatingValue","setRating","ratingActiveWidth","width","async","response","fetch","method","ok","newRating","json","alert","allRatings","activeRatingValue","animate","timing","draw","performance","requestAnimationFrame","time","timeFraction","progress","makeEaseOut","makeEaseInOut","quad","pow","circ","sin","acos","send","event","php","console","log","returnValue","req","XMLHttpRequest","open","status","JSON","parse","this","result","FormData","ratingValueBox","Element","prototype","css","node","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","help","getMoreQuestions","targetElem","text","previousElementSibling","productBar","favourites","favouriteCurrent","colorSchemes","colorScheme","tabLinks","tabsContent","sidebar","tabLink","tabId","tabContent","userbarItems","hideAllUserbarPopups","userbarPopup","itemsWrapper","emptyMessage","getUserBarInfo","activePopup","userbarItem","itemId","searchInput","headerMenu","searchBlock","searchIcon","clearInputIcon","searchHideIcon","searchList","hoverTexts","hoverTextActive","currentHeight","sizeItems","sizeItem","mobSlider","mobSlides","sections","mobSlidesLenght","mobSlide","data","activeSections","buttonAddCart","buttonGoCart","bankInput","bankIconClose","bankSearchList","products","hoverText","productImage","currentHeieght","productSizes","productSize","orderPage","orderBlock","inputAddSelfCompany","inputIsShowed","orderItem","addComapnyBtn","townChoice","forms","form_submit","form","form_validate","formAction","trim","formMethod","message","formData","form_clean","form_error","error","form_req","form_validate_input","input_g_value","em","form_add_error","form_remove_error","checked","a","parentRadio","allRadioButtons","Array","from","some","removeRadioError","input_error","removeChild","input_error_text","inputs","checkboxes","selects","select","select_default_value","select_item","viewPass","setAttribute","getElementsByTagName","selects_init","select_init","selects_close","select_body_options","select_parent","select_modifikator","select_selected_option","select_items","select_options","select_selected_text","select_type","select_type_content","select_get_options","select_actions","original","selectTitle","select_input","selectMultiItems","selectedOptions","originalOptions","selectedOptionsText","selectedOption","removeAttribute","selectOptionText","push","selectItemActions","select_option","select_option_value","select_option_text","select_search","hasAttribute","select_options_content","select_search_text","selects_update_all","inputs_init","input_placeholder_add","input_focus_add","Inputmask","clearIncomplete","clearMaskOnLostFocus","onincomplete","input_clear_mask","mask","placeholder","input_focus_remove","calendarItem","datepicker","customDays","customMonths","overlayButton","overlayPlaceholder","startDay","formatter","date","instance","toLocaleDateString","onSelect","dataFrom","dataTo","setMin","setMax","inputmask","quantityButtons","quantityButton","priceSlider","textFrom","textTo","setPriceValues","priceStartValue","priceEndValue","priceStart","priceEnd","noUiSlider","set","create","connect","tooltips","wNumb","decimals","prefix","min","currentScroll","scr_body","scr_blocks","scr_items","scr_fix_block","scr_min_height","scrolling","scrolling_full","scrollDirection","scroll_scroll","src_value","pageYOffset","header","block","block_offset","offset","top","block_height","innerHeight","scr_item","scr_item_offset","scr_item_height","scr_item_point","scroll_load_item","scroll_lazy","fix_block","custom_scroll_line","window_height","content_height","scr_procent","custom_scroll_line_height","transform","lazy_src","lazy_srcset","getElementById","map","scrParallax","scrProcent","blockHeight","prlxItems","prlxItem","prlxItemValue","prlx","disableScroll","full_scroll","swiperScrolls","swiperScroll","getPrevBlockPos","current_block_prev","viewport_height","current_block_prev_height","block_pos","current_block","current_block_pos","current_block_height","current_block_next","keyCode","deltaX","deltaY","full_scroll_to_sector","enableScroll","pos","scr_pause","appVersion","full_scroll_pagestart","full_scroll_pageend","blocks","block_name","target_block_class","old_current_link","block_item","current_links","goto_links","goto_link","target_block","options","speedAsDuration","easing","SmoothScroll","animateScroll","rect","getBoundingClientRect","scrollLeft","pageXOffset","documentElement","scrollTop","left","passive","onwheel","onmousewheel","ontouchmove","onkeydown","preventDefaultForScrollKeys","scr_value","window_width","header_height","block_width","gotoRelative","custom_scroll","custom_scroll_content_height","custom_cursor_height","new_pos","scroll_animate","DynamicAdapt","init","_this","daClassname","nodes","dataArray","da","parent","destination","breakpoint","place","indexInParent","arraySort","mediaQueries","call","self","media","mediaSplit","String","matchMedia","mediaBreakpoint","addListener","mediaHandler","moveTo","moveBack","insertAdjacentElement","undefined","array","slice","arr","sort","b"],"mappings":"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","file":"app.min.js","sourcesContent":["function email_test(input) {\r\n\treturn !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n}\r\n//BildSlider\r\nlet sliders = document.querySelectorAll('._swiper');\r\nif (sliders) {\r\n\tfor (let index = 0; index < sliders.length; index++) {\r\n\t\tlet slider = sliders[index];\r\n\t\tif (!slider.classList.contains('swiper-bild')) {\r\n\t\t\tlet slider_items = slider.children;\r\n\t\t\tif (slider_items) {\r\n\t\t\t\tfor (let index = 0; index < slider_items.length; index++) {\r\n\t\t\t\t\tlet el = slider_items[index];\r\n\t\t\t\t\tel.classList.add('swiper-slide');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet slider_content = slider.innerHTML;\r\n\t\t\tlet slider_wrapper = document.createElement('div');\r\n\t\t\tslider_wrapper.classList.add('swiper-wrapper');\r\n\t\t\tslider_wrapper.innerHTML = slider_content;\r\n\t\t\tslider.innerHTML = '';\r\n\t\t\tslider.appendChild(slider_wrapper);\r\n\t\t\tslider.classList.add('swiper-bild');\r\n\r\n\t\t\tif (slider.classList.contains('_swiper_scroll')) {\r\n\t\t\t\tlet sliderScroll = document.createElement('div');\r\n\t\t\t\tsliderScroll.classList.add('swiper-scrollbar');\r\n\t\t\t\tslider.appendChild(sliderScroll);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (slider.classList.contains('_gallery')) {\r\n\t\t\t//slider.data('lightGallery').destroy(true);\r\n\t\t}\r\n\t}\r\n\tsliders_bild_callback();\r\n}\r\n\r\nfunction sliders_bild_callback(params) {}\r\n\r\nlet sliderHero = new Swiper('.hero__slider', {\r\n\tslidesPerView: 1,\r\n\tspaceBetween: 10,\r\n\tspeed: 800,\r\n\tautoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\t//loop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\tpagination: {\r\n\t\tel: '.hero__bullets',\r\n\t\tclickable: true,\r\n\t},\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\t/*\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tautoHeight: true,\r\n\t\t},\r\n\t\t768: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t992: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\t*/\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderProducts = new Swiper('.top-sales__products', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 30,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.top-sales__arrow_right',\r\n\t\tprevEl: '.top-sales__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2.5,\r\n\t\t\tspaceBetween: 16\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderStocks = new Swiper('.stocks__items', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 24,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.stocks__arrow_right',\r\n\t\tprevEl: '.stocks__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1.3,\r\n\t\t\tspaceBetween: 8\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t991.98: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t// 1268: {\r\n\t\t// \tslidesPerView: 4,\r\n\t\t// \tspaceBetween: 30,\r\n\t\t// },\r\n\t\t1388: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t}\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet heroProductPageSlider = new Swiper('.hero-product-page__slider', {\r\n\tslidesPerView: 1,\r\n\tspaceBetween: 10,\r\n\tspeed: 800,\r\n\tautoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\t//loop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\tpagination: {\r\n\t\tel: '.hero__bullets',\r\n\t\tclickable: true,\r\n\t},\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\t/*\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tautoHeight: true,\r\n\t\t},\r\n\t\t768: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t992: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\t*/\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderSimilarGoods = new Swiper('.similar-goods__content', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 30,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\tpreloadImages: false,\r\n\tlazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2.5,\r\n\t\t\tspaceBetween: 16\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderBuyMore = new Swiper('.buy-more__content', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 30,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.top-sales__arrow_right',\r\n\t\tprevEl: '.top-sales__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2.5,\r\n\t\t\tspaceBetween: 16\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderCompare = new Swiper('.products-comparison__items', {\r\n\tslidesPerView: 3,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\twatchOverflow: true,\r\n\t// autoHeight: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\tscrollbar: {\r\n\t\tel: '.products-comparison__scroll-bar',\r\n\t\tdraggable: true,\r\n\t  },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tslidesPerGroup: 1,\r\n\t\t\tspaceBetween: 20,\r\n\t\t\ttouchRatio: 1,\r\n\t\t\tsimulateTouch: true,\r\n\t\t\t\r\n\t\t},\r\n\t\t// 475: {\r\n\t\t// \tslidesPerView: 2,\r\n\t\t// },\r\n\t\t// 768: {\r\n\t\t// \tslidesPerView: 2,\r\n\t\t\t\r\n\t\t// },\r\n\t\t1200: {\r\n\t\t\ttouchRatio: 0,\r\n\t\t\tsimulateTouch: false,\r\n\t\t\tspaceBetween: 0,\r\n\t\t},\r\n\t\t1387: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\n\r\n\r\n//==========================Слайдер с Прогресс баром==============================================================================================================================\r\n\r\n\r\nfunction sliders_bild_callback(params) { }\r\n\r\nlet sliderScrollItems = document.querySelectorAll('._swiper_scroll');\r\nif (sliderScrollItems.length > 0) {\r\n\tfor (let index = 0; index < sliderScrollItems.length; index++) {\r\n\t\tconst sliderScrollItem = sliderScrollItems[index];\r\n\t\tconst sliderScrollBar = sliderScrollItem.querySelector('.swiper-scrollbar');\r\n\t\tconst sliderScroll = new Swiper(sliderScrollItem, {\r\n\t\t\tobserver: true,\r\n\t\t\tobserveParents: true,\r\n\t\t\tdirection: 'vertical',\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tfreeMode: true,\r\n\t\t\tscrollbar: {\r\n\t\t\t\tel: sliderScrollBar,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tsnapOnRelease: false\r\n\t\t\t},\r\n\t\t\tmousewheel: {\r\n\t\t\t\treleaseOnEdges: true,\r\n\t\t\t},\r\n\t\t});\r\n\t\tsliderScroll.scrollbar.updateSize();\r\n\t}\r\n}\r\n\r\n\r\n// //Слайдер с добавлением фракций\r\n// let sliderOurSpaces;\r\n// let allSlides = document.querySelector('._fraction__all'); //Находим блок с счетчиком общего количества фракций\r\n// let allCurrentSlide = document.querySelector('._fraction__current'); //Находим блок с счетчиком текущего номера фракции\r\n// const allSlidesCounter = document.querySelectorAll('.gallery__link').length; //Вычесляем общее количество слайдов\r\n\r\n// sliderOurSpaces = new Swiper('.gallery__slider', {\r\n// \tobserver: true,\r\n// \tobserveParents: true,\r\n// \tslidesPerView: 3,\r\n// \tspaceBetween: 30,\r\n// \twatchSlidesVisibility: true,\r\n// \tspeed: 800,\r\n// \tloop: true,\r\n// \t//preloadImages: false,\r\n// \t//lazy: true,\r\n// \t// Dotts\r\n// \tnavigation: {\r\n// \t\tnextEl: '.header-our-spaces__arrow_right',\r\n// \t\tprevEl: '.header-our-spaces__arrow_left',\r\n// \t},\r\n// \tpagination: {\r\n// \t\tel: '.slider-our-spaces__progress',\r\n// \t\ttype: 'progressbar',\r\n// \t},\r\n// \tbreakpoints: {\r\n// \t\t// when window width is >= 320px\r\n// \t\t320: {\r\n// \t\t\tslidesPerView: 1.1,\r\n// \t\t\tspaceBetween: 15,\r\n// \t\t\t//autoHeight: true,\r\n// \t\t},\r\n// \t\t// when window width is >= 480px\r\n// \t\t550: {\r\n// \t\t\tslidesPerView: 2,\r\n// \t\t\tspaceBetween: 30\r\n// \t\t},\r\n// \t\t// when window width is >= 640px\r\n// \t\t992: {\r\n// \t\t\tslidesPerView: 3,\r\n// \t\t\tspaceBetween: 30\r\n// \t\t}\r\n// \t},\r\n// \ton: {\r\n// \t\tlazyImageReady: function () {\r\n// \t\t\tibg();\r\n// \t\t},\r\n// \t\tinit: function (slider) {\r\n// \t\t\tallSlides.innerHTML = setZeroFormat(allSlidesCounter);\r\n// \t\t},\r\n// \t\tslideChange: function (slider) {\r\n// \t\t\tlet currentSlide = ++slider.realIndex;\r\n// \t\t\tallCurrentSlide.innerHTML = setZeroFormat(currentSlide);\r\n// \t\t},\r\n// \t}\r\n// });\r\n\r\n// function setZeroFormat(item) {\r\n// \tlet result = item >= 10 ? item : \"0\" + item;\r\n// \treturn result;\r\n// }\r\n//Стили под прогресс бар можно найти в ui.scss\r\n\r\n\r\n//===========================Одновременно несколько слайдеров у каждого рабоает пагинация и фракции (для корректной работы нужно одинаковое количество слайдов, controls и tabs)=============================================================================================================================\r\n// const sliderBlocks = document.querySelectorAll('.slider-our-spaces__block'); //Находим все слайдеры (в этом примере каждый слайдер в оболочке находится, соответсвенно мы ищем оболочку по факту)\r\n// function initOurFacilitiesSlider() {\r\n\r\n// \tif (sliderBlocks.length > 0) {\r\n// \t\tsliderBlocks.forEach((sliderBlock, index) => {\r\n// \t\t\tsliderBlock.classList.add('_show'); //Открываем все блоки для правильного считавания информации swipera\r\n// \t\t\tconst slider = sliderBlock.querySelector('.slider-our-spaces__slider'); //Находим внутри оболочки сам слайдер (тот на который мы вешаем класс swiper)\r\n// \t\t\tconst allFraction = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('._fraction__all'); //Получаем общее кол-во фракций у текущего слайдера\r\n// \t\t\tconst currentFraction = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('._fraction__current'); //Получаем текущий номер фракций у текущего слайдера\r\n// \t\t\tconst currentIndexPagination = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('.slider-our-spaces__progress'); //Получаем текущий индекс пагинации\r\n// \t\t\tconst allSlides = slider.querySelectorAll('.slider-our-spaces__slide').length; //Получаем общее колличество слайдов у текущего слайдера\r\n// \t\t\tconst sliderItem = new Swiper(slider, {\r\n// \t\t\t\tobserver: true,\r\n// \t\t\t\tobserveParents: true,\r\n// \t\t\t\tslidesPerView: 1,\r\n// \t\t\t\tspaceBetween: 0,\r\n// \t\t\t\t//watchSlidesVisibility: true,\r\n// \t\t\t\tspeed: 800,\r\n// \t\t\t\tloop: true,\r\n// \t\t\t\tpagination: {\r\n// \t\t\t\t\tel: currentIndexPagination, //Подставляем найденое выше значение\r\n// \t\t\t\t\ttype: 'progressbar',\r\n// \t\t\t\t},\r\n// \t\t\t\ton: {\r\n// \t\t\t\t\tlazyImageReady: function () {\r\n// \t\t\t\t\t\tibg();\r\n// \t\t\t\t\t},\r\n// \t\t\t\t\tinit: function () {\r\n// \t\t\t\t\t\tallFraction.innerHTML = setZeroFormat(allSlides);\r\n// \t\t\t\t\t},\r\n// \t\t\t\t\tslideChange: function (sl) {\r\n// \t\t\t\t\t\tlet currentSlide = ++sl.realIndex;\r\n// \t\t\t\t\t\tcurrentFraction.innerHTML = setZeroFormat(currentSlide);\r\n// \t\t\t\t\t},\r\n// \t\t\t\t}\r\n// \t\t\t});\r\n// \t\t\tsliderBlock.classList.remove('_show'); //После инициализации слайдера скрываем от показа все блоки\r\n// \t\t});\r\n// \t}\r\n// }\r\n// initOurFacilitiesSlider();\r\n\r\n// const tabsWrapper = document.querySelector('.slider-our-spaces__tabs'); //Находим оболочку с табами\r\n\r\n// //Вешаем прослушку на клик по табам\r\n// tabsWrapper.addEventListener(\"click\", function (e) {\r\n// \tconst targetElement = e.target; //Получаем индекс обьекта по которому нажали именно\r\n// \tif (targetElement.classList.contains('tabs-slider-our-spaces__item')) { //Проверяем что нажали именно по табу\r\n// \t\tconst tabsElements = Array.from(document.querySelectorAll('.tabs-slider-our-spaces__item')); //Получаем коллекцию всех табов и переделываем их в массив с помощью Array.from\r\n// \t\ttabsElements.forEach(item => item.classList.remove('_active')); //Убираем у всех табов класс\r\n// \t\ttargetElement.classList.add('_active'); //Добавлем класс только нажатому\r\n\r\n// \t\tconst index = tabsElements.findIndex(item => item.classList.contains('_active')); //Находим нужный таб с классом active\r\n\r\n// \t\tconst slidersControls = document.querySelectorAll('.controls-slider-our-spaces__item');\r\n// \t\tslidersControls.forEach(item => item.classList.remove('_active'));\r\n\r\n// \t\tsliderBlocks.forEach(item => item.classList.remove('_active')); //Убираем у всех слайдеров класс active\r\n\r\n// \t\tslidersControls[index].classList.add('_active');\r\n// \t\tsliderBlocks[index].classList.add('_active'); //Добавлем только нужному слайдеру класс active\r\n// \t}\r\n// });\r\n\r\n\r\n\r\n\r\n\r\n// //========================================================================================================================================================\r\n// function setZeroFormat(item) {\r\n// \tlet result = item >= 10 ? item : \"0\" + item;\r\n// \treturn result;\r\n// }\r\n\r\n\r\n\r\nvar ua = window.navigator.userAgent;\r\nvar msie = ua.indexOf(\"MSIE \");\r\nvar isMobile = {\r\n\tAndroid: function () {\r\n\t\treturn navigator.userAgent.match(/Android/i);\r\n\t},\r\n\tBlackBerry: function () {\r\n\t\treturn navigator.userAgent.match(/BlackBerry/i);\r\n\t},\r\n\tiOS: function () {\r\n\t\treturn navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n\t},\r\n\tOpera: function () {\r\n\t\treturn navigator.userAgent.match(/Opera Mini/i);\r\n\t},\r\n\tWindows: function () {\r\n\t\treturn navigator.userAgent.match(/IEMobile/i);\r\n\t},\r\n\tany: function () {\r\n\t\treturn (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n\t}\r\n};\r\n\r\nfunction isIE() {\r\n\tua = navigator.userAgent;\r\n\tvar is_ie = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n\treturn is_ie;\r\n}\r\nif (isIE()) {\r\n\tdocument.querySelector('html').classList.add('ie');\r\n}\r\nif (isMobile.any()) {\r\n\tdocument.querySelector('html').classList.add('_touch');\r\n}\r\n\r\nfunction testWebP(callback) {\r\n\tvar webP = new Image();\r\n\twebP.onload = webP.onerror = function () {\r\n\t\tcallback(webP.height == 2);\r\n\t};\r\n\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\ntestWebP(function (support) {\r\n\tif (support === true) {\r\n\t\tdocument.querySelector('html').classList.add('_webp');\r\n\t} else {\r\n\t\tdocument.querySelector('html').classList.add('_no-webp');\r\n\t}\r\n});\r\n\r\nfunction ibg() {\r\n\tif (isIE()) {\r\n\t\tlet ibg = document.querySelectorAll(\"._ibg\");\r\n\t\tfor (var i = 0; i < ibg.length; i++) {\r\n\t\t\tif (ibg[i].querySelector('img') && ibg[i].querySelector('img').getAttribute('src') != null) {\r\n\t\t\t\tibg[i].style.backgroundImage = 'url(' + ibg[i].querySelector('img').getAttribute('src') + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nibg();\r\n\r\nwindow.addEventListener(\"load\", function () {\r\n\tif (document.querySelector('.wrapper')) {\r\n\t\tsetTimeout(function () {\r\n\t\t\tdocument.querySelector('.wrapper').classList.add('_loaded');\r\n\t\t}, 0);\r\n\t}\r\n});\r\n\r\nlet unlock = true;\r\n\r\n\r\n//=====================Init specifications spollers if specifications items lenght > 5================================\r\n\r\n\r\n\r\nif (isMobile.any()) {\r\n\tlet itemsBlock = document.querySelector('.specifications__content');\r\n\tlet specificationsItems = document.querySelectorAll('.specifications__item');\r\n\tlet itemsLenght = specificationsItems.length;\r\n\r\n\tif (itemsBlock) {\r\n\t\titemsBlock.classList.add('_spollers');\r\n\t}\r\n\r\n\r\n\tif (itemsLenght > 0) {\r\n\t\tspecificationsItems.forEach(specificationsItem => {\r\n\t\t\tlet specificationsItemElements =specificationsItem.querySelectorAll('.specifications__row');\r\n\t\t\tif (specificationsItemElements.length > 5) {\r\n\t\t\t\tlet hiddenSpollersBlock = document.createElement('div');\r\n\t\t\t\thiddenSpollersBlock.classList.add('_hide');\r\n\t\t\t\tspecificationsItem.querySelector('.specifications__body').append(hiddenSpollersBlock);\r\n\r\n\r\n\t\t\t\tlet link = '<button type=\"button\" class=\"specifications__link\">Смотреть все характеристики</button>';\r\n\t\t\t\tfor (let index = 0; index < specificationsItemElements.length; index++) {\r\n\t\t\t\t\tconst element = specificationsItemElements[index];\r\n\t\t\t\t\tif (index == 4) {\r\n\t\t\t\t\t\telement.insertAdjacentHTML('afterend', link);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (index > 4) {\r\n\t\t\t\t\t\thiddenSpollersBlock.append(element);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsetSpollerClass();\r\n\t}\r\n}\r\nfunction setSpollerClass() {\r\n\tlet spollersLinks =document.querySelectorAll('.specifications__link');\r\n\tif (spollersLinks) {\r\n\t\tspollersLinks.forEach(spollersLink => {\r\n\t\t\tspollersLink.classList.add('_spoller');\r\n\t\r\n\t\t\tspollersLink.addEventListener(\"click\", function(e) {\r\n\t\t\t\tspollersLink.classList.add('_hide');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n//=================\r\n//ActionsOnHash\r\nif (location.hash) {\r\n\tconst hsh = location.hash.replace('#', '');\r\n\tif (document.querySelector('.popup_' + hsh)) {\r\n\t\tpopup_open(hsh);\r\n\t} else if (document.querySelector('div.' + hsh)) {\r\n\t\t_goto(document.querySelector('.' + hsh), 500, '');\r\n\t}\r\n}\r\n//=================\r\n//Menu\r\nlet iconMenu = document.querySelector(\".icon-menu\");\r\nif (iconMenu != null) {\r\n\tlet delay = 500;\r\n\tlet menuBody = document.querySelector(\".menu__body\");\r\n\ticonMenu.addEventListener(\"click\", function (e) {\r\n\t\tif (unlock) {\r\n\t\t\tbody_lock(delay);\r\n\t\t\ticonMenu.classList.toggle(\"_active\");\r\n\t\t\tmenuBody.classList.toggle(\"_active\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\nfunction menu_close() {\r\n\tlet iconMenu = document.querySelector(\".icon-menu\");\r\n\tlet menuBody = document.querySelector(\".menu__body\");\r\n\ticonMenu.classList.remove(\"_active\");\r\n\tmenuBody.classList.remove(\"_active\");\r\n}\r\n//=================\r\n//BodyLock\r\nfunction body_lock(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (body.classList.contains('_lock')) {\r\n\t\tbody_lock_remove(delay);\r\n\t} else {\r\n\t\tbody_lock_add(delay);\r\n\t}\r\n}\r\n\r\nfunction body_lock_remove(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (unlock) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tsetTimeout(() => {\r\n\t\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\t\tconst el = lock_padding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t\tbody.style.paddingRight = '0px';\r\n\t\t\tbody.classList.remove(\"_lock\");\r\n\t\t}, delay);\r\n\r\n\t\tunlock = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tunlock = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\n\r\nfunction body_lock_add(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (unlock) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\tconst el = lock_padding[index];\r\n\t\t\tel.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\t}\r\n\t\tbody.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\tbody.classList.add(\"_lock\");\r\n\r\n\t\tunlock = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tunlock = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\n//=================\r\n// LettersAnimation\r\nlet title = document.querySelectorAll('._letter-animation');\r\nif (title) {\r\n\tfor (let index = 0; index < title.length; index++) {\r\n\t\tlet el = title[index];\r\n\t\tlet txt = el.innerHTML;\r\n\t\tlet txt_words = txt.replace('  ', ' ').split(' ');\r\n\t\tlet new_title = '';\r\n\t\tfor (let index = 0; index < txt_words.length; index++) {\r\n\t\t\tlet txt_word = txt_words[index];\r\n\t\t\tlet len = txt_word.length;\r\n\t\t\tnew_title = new_title + '<p>';\r\n\t\t\tfor (let index = 0; index < len; index++) {\r\n\t\t\t\tlet it = txt_word.substr(index, 1);\r\n\t\t\t\tif (it == ' ') {\r\n\t\t\t\t\tit = '&nbsp;';\r\n\t\t\t\t}\r\n\t\t\t\tnew_title = new_title + '<span>' + it + '</span>';\r\n\t\t\t}\r\n\t\t\tel.innerHTML = new_title;\r\n\t\t\tnew_title = new_title + '&nbsp;</p>';\r\n\t\t}\r\n\t}\r\n}\r\n//=================\r\n//Tabs\r\nlet tabs = document.querySelectorAll(\"._tabs\");\r\nfor (let index = 0; index < tabs.length; index++) {\r\n\tlet tab = tabs[index];\r\n\tlet tabs_items = tab.querySelectorAll(\"._tabs-item\");\r\n\tlet tabs_blocks = tab.querySelectorAll(\"._tabs-block\");\r\n\tfor (let index = 0; index < tabs_items.length; index++) {\r\n\t\tlet tabs_item = tabs_items[index];\r\n\t\ttabs_item.addEventListener(\"click\", function (e) {\r\n\t\t\tfor (let index = 0; index < tabs_items.length; index++) {\r\n\t\t\t\tlet tabs_item = tabs_items[index];\r\n\t\t\t\ttabs_item.classList.remove('_active');\r\n\t\t\t\ttabs_blocks[index].classList.remove('_active');\r\n\t\t\t}\r\n\t\t\ttabs_item.classList.add('_active');\r\n\t\t\ttabs_blocks[index].classList.add('_active');\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\n//=================\r\n//Spollers\r\nlet spollers = document.querySelectorAll(\"._spoller\");\r\nlet spollersGo = true;\r\nif (spollers.length > 0) {\r\n\r\n\tfunction spollerCLick(e) {\r\n\t\tconst spoller = e.target.classList.contains('_spoller') ? e.target : e.target.closest('._spoller');\r\n\t\tif (spollersGo) {\r\n\t\t\tspollersGo = false;\r\n\r\n\t\t\tif (spoller.closest('._spollers').classList.contains('_one')) {\r\n\t\t\t\tlet curent_spollers = spoller.closest('._spollers').querySelectorAll('._spoller');\r\n\t\t\t\tfor (let i = 0; i < curent_spollers.length; i++) {\r\n\t\t\t\t\tlet el = curent_spollers[i];\r\n\t\t\t\t\tif (el != spoller) {\r\n\t\t\t\t\t\tel.classList.remove('_active');\r\n\t\t\t\t\t\t_slideUp(el.nextElementSibling);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tspoller.classList.toggle('_active');\r\n\t\t\t_slideToggle(spoller.nextElementSibling);\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tspollersGo = true;\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spollersInit() {\r\n\t\tfor (let index = 0; index < spollers.length; index++) {\r\n\t\t\tconst spoller = spollers[index];\r\n\t\t\tlet spollerMax = spoller.getAttribute('data-max');\r\n\r\n\t\t\tif (spollerMax && window.innerWidth > spollerMax) {\r\n\t\t\t\tif (spoller.classList.contains('_init')) {\r\n\t\t\t\t\tspoller.classList.remove('_active');\r\n\t\t\t\t\tspoller.classList.remove('_init');\r\n\t\t\t\t\tspoller.nextElementSibling.style.cssText = '';\r\n\t\t\t\t\tspoller.removeEventListener(\"click\", spollerCLick);\r\n\t\t\t\t}\r\n\t\t\t} else if (!spoller.classList.contains('_init')) {\r\n\t\t\t\tspoller.classList.add('_init');\r\n\t\t\t\tspoller.addEventListener(\"click\", spollerCLick);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spollersShowActive() {\r\n\t\tfor (let index = 0; index < spollers.length; index++) {\r\n\t\t\tconst spoller = spollers[index];\r\n\t\t\tif (spoller.classList.contains('_active')) {\r\n\t\t\t\t_slideToggle(spoller.nextElementSibling);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\twindow.addEventListener(\"resize\", spollersInit);\r\n\r\n\tsetTimeout(function () {\r\n\t\tspollersShowActive();\r\n\t\tspollersInit();\r\n\t}, 0);\r\n}\r\n//=================\r\n//Gallery\r\nlet gallery = document.querySelectorAll('._gallery');\r\nif (gallery) {\r\n\tgallery_init();\r\n}\r\n\r\nfunction gallery_init() {\r\n\tfor (let index = 0; index < gallery.length; index++) {\r\n\t\tconst el = gallery[index];\r\n\t\tlightGallery(el, {\r\n\t\t\tcounter: false,\r\n\t\t\tselector: 'a',\r\n\t\t\tdownload: false\r\n\t\t});\r\n\t}\r\n}\r\n//=================\r\n//SearchInList\r\nfunction search_in_list(input) {\r\n\tlet ul = input.parentNode.querySelector('ul')\r\n\tlet li = ul.querySelectorAll('li');\r\n\tlet filter = input.value.toUpperCase();\r\n\r\n\tfor (i = 0; i < li.length; i++) {\r\n\t\tlet el = li[i];\r\n\t\tlet item = el;\r\n\t\ttxtValue = item.textContent || item.innerText;\r\n\t\tif (txtValue.toUpperCase().indexOf(filter) > -1) {\r\n\t\t\tel.style.display = \"\";\r\n\t\t} else {\r\n\t\t\tel.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n}\r\n//=================\r\n//DigiFormat\r\nfunction digi(str) {\r\n\tvar r = str.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, \"$1 \");\r\n\treturn r;\r\n}\r\n//=================\r\n//DiGiAnimate\r\nfunction digi_animate(digi_animate) {\r\n\tif (digi_animate.length > 0) {\r\n\t\tfor (let index = 0; index < digi_animate.length; index++) {\r\n\t\t\tconst el = digi_animate[index];\r\n\t\t\tconst el_to = parseInt(el.innerHTML.replace(' ', ''));\r\n\t\t\tif (!el.classList.contains('_done')) {\r\n\t\t\t\tdigi_animate_value(el, 0, el_to, 1500);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction digi_animate_value(el, start, end, duration) {\r\n\tvar obj = el;\r\n\tvar range = end - start;\r\n\t// no timer shorter than 50ms (not really visible any way)\r\n\tvar minTimer = 50;\r\n\t// calc step time to show all interediate values\r\n\tvar stepTime = Math.abs(Math.floor(duration / range));\r\n\r\n\t// never go below minTimer\r\n\tstepTime = Math.max(stepTime, minTimer);\r\n\r\n\t// get current time and calculate desired end time\r\n\tvar startTime = new Date().getTime();\r\n\tvar endTime = startTime + duration;\r\n\tvar timer;\r\n\r\n\tfunction run() {\r\n\t\tvar now = new Date().getTime();\r\n\t\tvar remaining = Math.max((endTime - now) / duration, 0);\r\n\t\tvar value = Math.round(end - (remaining * range));\r\n\t\tobj.innerHTML = digi(value);\r\n\t\tif (value == end) {\r\n\t\t\tclearInterval(timer);\r\n\t\t}\r\n\t}\r\n\r\n\ttimer = setInterval(run, stepTime);\r\n\trun();\r\n\r\n\tel.classList.add('_done');\r\n}\r\n//=================\r\n//Popups\r\nlet popup_link = document.querySelectorAll('._popup-link');\r\nlet popups = document.querySelectorAll('.popup');\r\nfor (let index = 0; index < popup_link.length; index++) {\r\n\tconst el = popup_link[index];\r\n\tel.addEventListener('click', function (e) {\r\n\t\tif (unlock) {\r\n\t\t\tlet item = el.getAttribute('href').replace('#', '');\r\n\t\t\tlet video = el.getAttribute('data-video');\r\n\t\t\tpopup_open(item, video);\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t})\r\n}\r\nfor (let index = 0; index < popups.length; index++) {\r\n\tconst popup = popups[index];\r\n\tpopup.addEventListener(\"click\", function (e) {\r\n\t\tif (!e.target.closest('.popup__body')) {\r\n\t\t\tpopup_close(e.target.closest('.popup'));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction popup_open(item, video = '') {\r\n\tlet activePopup = document.querySelectorAll('.popup._active');\r\n\tif (activePopup.length > 0) {\r\n\t\tpopup_close('', false);\r\n\t}\r\n\tlet curent_popup = document.querySelector('.popup_' + item);\r\n\tif (curent_popup && unlock) {\r\n\t\tif (video != '' && video != null) {\r\n\t\t\tlet popup_video = document.querySelector('.popup_video');\r\n\t\t\tpopup_video.querySelector('.popup__video').innerHTML = '<iframe src=\"https://www.youtube.com/embed/' + video + '?autoplay=1\"  allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>';\r\n\t\t}\r\n\t\tif (!document.querySelector('.menu__body._active')) {\r\n\t\t\tbody_lock_add(500);\r\n\t\t}\r\n\t\tcurent_popup.classList.add('_active');\r\n\t\thistory.pushState('', '', '#' + item);\r\n\t}\r\n}\r\n\r\nfunction popup_close(item, bodyUnlock = true) {\r\n\tif (unlock) {\r\n\t\tif (!item) {\r\n\t\t\tfor (let index = 0; index < popups.length; index++) {\r\n\t\t\t\tconst popup = popups[index];\r\n\t\t\t\tlet video = popup.querySelector('.popup__video');\r\n\t\t\t\tif (video) {\r\n\t\t\t\t\tvideo.innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t\tpopup.classList.remove('_active');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet video = item.querySelector('.popup__video');\r\n\t\t\tif (video) {\r\n\t\t\t\tvideo.innerHTML = '';\r\n\t\t\t}\r\n\t\t\titem.classList.remove('_active');\r\n\t\t}\r\n\t\tif (!document.querySelector('.menu__body._active') && bodyUnlock) {\r\n\t\t\tbody_lock_remove(500);\r\n\t\t}\r\n\t\thistory.pushState('', '', window.location.href.split('#')[0]);\r\n\t}\r\n}\r\nlet popup_close_icon = document.querySelectorAll('.popup__close,._popup-close');\r\nif (popup_close_icon) {\r\n\tfor (let index = 0; index < popup_close_icon.length; index++) {\r\n\t\tconst el = popup_close_icon[index];\r\n\t\tel.addEventListener('click', function () {\r\n\t\t\tpopup_close(el.closest('.popup'));\r\n\t\t})\r\n\t}\r\n}\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (e.code === 'Escape') {\r\n\t\tpopup_close();\r\n\t}\r\n});\r\n\r\n//=================\r\n//SlideToggle\r\nlet _slideUp = (target, duration = 500) => {\r\n\ttarget.style.transitionProperty = 'height, margin, padding';\r\n\ttarget.style.transitionDuration = duration + 'ms';\r\n\ttarget.style.height = target.offsetHeight + 'px';\r\n\ttarget.offsetHeight;\r\n\ttarget.style.overflow = 'hidden';\r\n\ttarget.style.height = 0;\r\n\ttarget.style.paddingTop = 0;\r\n\ttarget.style.paddingBottom = 0;\r\n\ttarget.style.marginTop = 0;\r\n\ttarget.style.marginBottom = 0;\r\n\twindow.setTimeout(() => {\r\n\t\ttarget.style.display = 'none';\r\n\t\ttarget.style.removeProperty('height');\r\n\t\ttarget.style.removeProperty('padding-top');\r\n\t\ttarget.style.removeProperty('padding-bottom');\r\n\t\ttarget.style.removeProperty('margin-top');\r\n\t\ttarget.style.removeProperty('margin-bottom');\r\n\t\ttarget.style.removeProperty('overflow');\r\n\t\ttarget.style.removeProperty('transition-duration');\r\n\t\ttarget.style.removeProperty('transition-property');\r\n\t\ttarget.classList.remove('_slide');\r\n\t}, duration);\r\n}\r\nlet _slideDown = (target, duration = 500) => {\r\n\ttarget.style.removeProperty('display');\r\n\tlet display = window.getComputedStyle(target).display;\r\n\tif (display === 'none')\r\n\t\tdisplay = 'block';\r\n\r\n\ttarget.style.display = display;\r\n\tlet height = target.offsetHeight;\r\n\ttarget.style.overflow = 'hidden';\r\n\ttarget.style.height = 0;\r\n\ttarget.style.paddingTop = 0;\r\n\ttarget.style.paddingBottom = 0;\r\n\ttarget.style.marginTop = 0;\r\n\ttarget.style.marginBottom = 0;\r\n\ttarget.offsetHeight;\r\n\ttarget.style.transitionProperty = \"height, margin, padding\";\r\n\ttarget.style.transitionDuration = duration + 'ms';\r\n\ttarget.style.height = height + 'px';\r\n\ttarget.style.removeProperty('padding-top');\r\n\ttarget.style.removeProperty('padding-bottom');\r\n\ttarget.style.removeProperty('margin-top');\r\n\ttarget.style.removeProperty('margin-bottom');\r\n\twindow.setTimeout(() => {\r\n\t\ttarget.style.removeProperty('height');\r\n\t\ttarget.style.removeProperty('overflow');\r\n\t\ttarget.style.removeProperty('transition-duration');\r\n\t\ttarget.style.removeProperty('transition-property');\r\n\t\ttarget.classList.remove('_slide');\r\n\t}, duration);\r\n}\r\nlet _slideToggle = (target, duration = 500) => {\r\n\tif (!target.classList.contains('_slide')) {\r\n\t\ttarget.classList.add('_slide');\r\n\t\tif (window.getComputedStyle(target).display === 'none') {\r\n\t\t\treturn _slideDown(target, duration);\r\n\t\t} else {\r\n\t\t\treturn _slideUp(target, duration);\r\n\t\t}\r\n\t}\r\n}\r\n//========================================\r\n//Wrap\r\nfunction _wrap(el, wrapper) {\r\n\tel.parentNode.insertBefore(wrapper, el);\r\n\twrapper.appendChild(el);\r\n}\r\n//========================================\r\n//RemoveClasses\r\nfunction _removeClasses(el, class_name) {\r\n\tfor (var i = 0; i < el.length; i++) {\r\n\t\tel[i].classList.remove(class_name);\r\n\t}\r\n}\r\n//========================================\r\n//IsHidden\r\nfunction _is_hidden(el) {\r\n\treturn (el.offsetParent === null)\r\n}\r\n// ShowMore Beta ========================\r\nlet moreBlocks = document.querySelectorAll('._more-block');\r\nif (moreBlocks.length > 0) {\r\n\tlet wrapper = document.querySelector('.wrapper');\r\n\tfor (let index = 0; index < moreBlocks.length; index++) {\r\n\t\tconst moreBlock = moreBlocks[index];\r\n\t\tlet items = moreBlock.querySelectorAll('._more-item');\r\n\t\tif (items.length > 0) {\r\n\t\t\tlet itemsMore = moreBlock.querySelector('._more-link');\r\n\t\t\tlet itemsContent = moreBlock.querySelector('._more-content');\r\n\t\t\tlet itemsView = itemsContent.getAttribute('data-view');\r\n\t\t\tif (getComputedStyle(itemsContent).getPropertyValue(\"transition-duration\") === '0s') {\r\n\t\t\t\titemsContent.style.cssText = \"transition-duration: 1ms\";\r\n\t\t\t}\r\n\t\t\titemsMore.addEventListener(\"click\", function (e) {\r\n\t\t\t\tif (itemsMore.classList.contains('_active')) {\r\n\t\t\t\t\tsetSize();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSize('start');\r\n\t\t\t\t}\r\n\t\t\t\titemsMore.classList.toggle('_active');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\tlet isScrollStart;\r\n\r\n\t\t\tfunction setSize(type) {\r\n\t\t\t\tlet resultHeight;\r\n\t\t\t\tlet itemsContentHeight = 0;\r\n\t\t\t\tlet itemsContentStartHeight = 0;\r\n\r\n\t\t\t\tfor (let index = 0; index < items.length; index++) {\r\n\t\t\t\t\tif (index < itemsView) {\r\n\t\t\t\t\t\titemsContentHeight += items[index].offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\titemsContentStartHeight += items[index].offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t\tresultHeight = (type === 'start') ? itemsContentStartHeight : itemsContentHeight;\r\n\t\t\t\tisScrollStart = window.innerWidth - wrapper.offsetWidth;\r\n\t\t\t\titemsContent.style.height = `${resultHeight}px`;\r\n\t\t\t}\r\n\r\n\t\t\titemsContent.addEventListener(\"transitionend\", updateSize, false);\r\n\r\n\t\t\tfunction updateSize() {\r\n\t\t\t\tlet isScrollEnd = window.innerWidth - wrapper.offsetWidth;\r\n\t\t\t\tif (isScrollStart === 0 && isScrollEnd > 0 || isScrollStart > 0 && isScrollEnd === 0) {\r\n\t\t\t\t\tif (itemsMore.classList.contains('_active')) {\r\n\t\t\t\t\t\tsetSize('start');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetSize();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twindow.addEventListener(\"resize\", function (e) {\r\n\t\t\t\tif (!itemsMore.classList.contains('_active')) {\r\n\t\t\t\t\tsetSize();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSize('start');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetSize();\r\n\t\t}\r\n\t}\r\n}\r\n//==RATING======================================\r\nconst ratings = document.querySelectorAll('.rating');\r\nif (ratings.length > 0) {\r\n\tinitRatings();\r\n}\r\n// Основная функция\r\nfunction initRatings() {\r\n\tlet ratingActive, ratingValue;\r\n\t// \"Бегаем\" по всем рейтингам на странице\r\n\tfor (let index = 0; index < ratings.length; index++) {\r\n\t\tconst rating = ratings[index];\r\n\t\tif (!rating.classList.contains('no-active')) {\r\n\t\t\tinitRating(rating);\r\n\t\t}\r\n\t}\r\n\r\n\t// Инициализируем конкретный рейтинг\r\n\tfunction initRating(rating) {\r\n\t\tinitRatingVars(rating);\r\n\r\n\t\tsetRatingActiveWidth();\r\n\r\n\t\tif (rating.classList.contains('rating_set')) {\r\n\t\t\tsetRating(rating);\r\n\t\t}\r\n\t}\r\n\r\n\t// Инициализайция переменных\r\n\tfunction initRatingVars(rating) {\r\n\t\tratingActive = rating.querySelector('.rating__active');\r\n\t\tratingValue = rating.querySelector('.rating__value');\r\n\t}\r\n\t// Изменяем ширину активных звезд\r\n\tfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\r\n\t\tconst ratingActiveWidth = index / 0.05;\r\n\t\tratingActive.style.width = `${ratingActiveWidth}%`;\r\n\t}\r\n\t// Возможность указать оценку \r\n\tfunction setRating(rating) {\r\n\t\tconst ratingItems = rating.querySelectorAll('.rating__item');\r\n\t\tfor (let index = 0; index < ratingItems.length; index++) {\r\n\t\t\tconst ratingItem = ratingItems[index];\r\n\t\t\tratingItem.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\t// Обновление переменных\r\n\t\t\t\tinitRatingVars(rating);\r\n\t\t\t\t// Обновление активных звезд\r\n\t\t\t\tsetRatingActiveWidth(ratingItem.value);\r\n\t\t\t});\r\n\t\t\tratingItem.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\t// Обновление активных звезд\r\n\t\t\t\tsetRatingActiveWidth();\r\n\t\t\t});\r\n\t\t\tratingItem.addEventListener(\"click\", function (e) {\r\n\t\t\t\t// Обновление переменных\r\n\t\t\t\tinitRatingVars(rating);\r\n\r\n\t\t\t\tif (rating.dataset.ajax) {\r\n\t\t\t\t\t// \"Отправить\" на сервер\r\n\t\t\t\t\tsetRatingValue(ratingItem.value, rating);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Отобразить указанную оцнку\r\n\t\t\t\t\tratingValue.innerHTML = index + 1;\r\n\t\t\t\t\tsetRatingActiveWidth();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync function setRatingValue(value, rating) {\r\n\t\tif (!rating.classList.contains('rating_sending')) {\r\n\t\t\trating.classList.add('rating_sending');\r\n\r\n\t\t\t// Отправика данных (value) на сервер\r\n\t\t\tlet response = await fetch('rating.json', {\r\n\t\t\t\tmethod: 'GET',\r\n\r\n\t\t\t\t//body: JSON.stringify({\r\n\t\t\t\t//\tuserRating: value\r\n\t\t\t\t//}),\r\n\t\t\t\t//headers: {\r\n\t\t\t\t//\t'content-type': 'application/json'\r\n\t\t\t\t//}\r\n\r\n\t\t\t});\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tconst result = await response.json();\r\n\r\n\t\t\t\t// Получаем новый рейтинг\r\n\t\t\t\tconst newRating = result.newRating;\r\n\r\n\t\t\t\t// Вывод нового среднего результата\r\n\t\t\t\tratingValue.innerHTML = newRating;\r\n\r\n\t\t\t\t// Обновление активных звезд\r\n\t\t\t\tsetRatingActiveWidth();\r\n\r\n\t\t\t\trating.classList.remove('rating_sending');\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Ошибка\");\r\n\r\n\t\t\t\trating.classList.remove('rating_sending');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n//=====================Rating================================\r\n//Изменяем ширину активных звезд\r\nlet allRatings = document.querySelectorAll('.rating__active');\r\n\r\nif (allRatings.length > 0) {\r\n\tallRatings.forEach(ratingActive => {\r\n\t\tlet ratingValueBox = ratingActive.closest('.rating').querySelector('.rating__value');\r\n\t\tlet activeRatingValue = ratingActive.getAttribute('data-rating');\r\n\t\t// let activeRatingValue = ratingValue.innerHTML;\r\n\t\t// let ratingValue = ratingActive.innerHTML;\r\n\t\tsetRatingActiveWidth(activeRatingValue, ratingActive);\r\n\t\tif (ratingValueBox) {\r\n\t\t\tratingValueBox.innerHTML = activeRatingValue;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction setRatingActiveWidth(activeRatingValue, ratingActive) {\r\n\tconst ratingActiveWidth = activeRatingValue / 0.05;\r\n\tratingActive.style.width = `${ratingActiveWidth}%`;\r\n}\r\n//========================================\r\n//Animate\r\nfunction animate({\r\n\ttiming,\r\n\tdraw,\r\n\tduration\r\n}) {\r\n\tlet start = performance.now();\r\n\trequestAnimationFrame(function animate(time) {\r\n\t\t// timeFraction изменяется от 0 до 1\r\n\t\tlet timeFraction = (time - start) / duration;\r\n\t\tif (timeFraction > 1) timeFraction = 1;\r\n\r\n\t\t// вычисление текущего состояния анимации\r\n\t\tlet progress = timing(timeFraction);\r\n\r\n\t\tdraw(progress); // отрисовать её\r\n\r\n\t\tif (timeFraction < 1) {\r\n\t\t\trequestAnimationFrame(animate);\r\n\t\t}\r\n\r\n\t});\r\n}\r\n\r\nfunction makeEaseOut(timing) {\r\n\treturn function (timeFraction) {\r\n\t\treturn 1 - timing(1 - timeFraction);\r\n\t}\r\n}\r\n\r\nfunction makeEaseInOut(timing) {\r\n\treturn function (timeFraction) {\r\n\t\tif (timeFraction < .5)\r\n\t\t\treturn timing(2 * timeFraction) / 2;\r\n\t\telse\r\n\t\t\treturn (2 - timing(2 * (1 - timeFraction))) / 2;\r\n\t}\r\n}\r\n\r\nfunction quad(timeFraction) {\r\n\treturn Math.pow(timeFraction, 2)\r\n}\r\n\r\nfunction circ(timeFraction) {\r\n\treturn 1 - Math.sin(Math.acos(timeFraction));\r\n}\r\n/*\r\nanimate({\r\n\tduration: 1000,\r\n\ttiming: makeEaseOut(quad),\r\n\tdraw(progress) {\r\n\t\twindow.scroll(0, start_position + 400 * progress);\r\n\t}\r\n});*/\r\n\r\n//Полифилы\r\n(function () {\r\n\t// проверяем поддержку\r\n\tif (!Element.prototype.closest) {\r\n\t\t// реализуем\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\t// проверяем поддержку\r\n\tif (!Element.prototype.matches) {\r\n\t\t// определяем свойство\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();\r\n\r\n//Sender form\r\n//========================================================================================================================================================\r\n// Отправка данных на сервер\r\nfunction send(event, php) {\r\n\tconsole.log(\"Отправка запроса\");\r\n\tevent.preventDefault ? event.preventDefault() : event.returnValue = false;\r\n\tvar req = new XMLHttpRequest();\r\n\treq.open('POST', php, true);\r\n\treq.onload = function () {\r\n\t\tif (req.status >= 200 && req.status < 400) {\r\n\t\t\tjson = JSON.parse(this.response); // Ебанный internet explorer 11\r\n\t\t\tconsole.log(json);\r\n\r\n\t\t\t// ЗДЕСЬ УКАЗЫВАЕМ ДЕЙСТВИЯ В СЛУЧАЕ УСПЕХА ИЛИ НЕУДАЧИ\r\n\t\t\tif (json.result == \"success\") {\r\n\t\t\t\t// Если сообщение отправлено\r\n\t\t\t\talert(\"Сообщение отправлено\");\r\n\t\t\t} else {\r\n\t\t\t\t// Если произошла ошибка\r\n\t\t\t\talert(\"Ошибка. Сообщение не отправлено\");\r\n\t\t\t}\r\n\t\t\t// Если не удалось связаться с php файлом\r\n\t\t} else {\r\n\t\t\talert(\"Ошибка сервера. Номер: \" + req.status);\r\n\t\t}\r\n\t};\r\n\r\n\t// Если не удалось отправить запрос. Стоит блок на хостинге\r\n\treq.onerror = function () {\r\n\t\talert(\"Ошибка отправки запроса\");\r\n\t};\r\n\treq.send(new FormData(event.target));\r\n}\r\n\r\n\r\n//========================================================================================================================================================\r\n//По клику на стрелочку открывает дополнительный скрытый текст (плавность slideToggle)\r\n\r\nconst help = document.querySelector('.help'); //Находим обьекты открытые для показа (по которым мы нажимаем и выезжает скрытый текст ) \r\nif (help) {\r\n\thelp.addEventListener(\"click\", function (e) {\r\n\t\tconst targetElem = e.target;\r\n\t\tif (targetElem.classList.contains('help__link')) { //Проверяем если у нажатого обьекта есть ссылка для открытия скрытого контента\r\n\t\t\t_slideToggle(targetElem.previousElementSibling, 500); //вызываем функцию \"_slideToggle\" которая отвечает за плавность открытия/закрытия скрытого текста и передаем ей обьект который следует анимировать (в данном случае - это предыдущий обьект перед .help__link) и время анимации.\r\n\t\t\ttargetElem.classList.toggle('_active'); //Вешаем класс на ссылку для анимирования стрелочки\r\n\t\t\te.preventDefault(); //Сбрысываем стандартное поведение у ссылки.\r\n\t\t}\r\n\t\tif (targetElem.classList.contains('help__more')) { //Если у нажатого обьекта есть нужный нам класс, то...\r\n\t\t\tif (!targetElem.classList.contains('_loading')) { //Проверяем если нет \"страховочного\" класса\r\n\t\t\t\ttargetElem.classList.add('_loading'); //Вешаем класс, для страховки от нескольких вызовов\r\n\t\t\t\tgetMoreQuestions(targetElem); //Вызываем функцию и передаем нажатый элемент.\r\n\t\t\t}\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//=====================Отправка данных AJAX================================\r\n\r\nasync function getMoreQuestions(targetElem) {\r\n\tconst response = await fetch('data/faq.html'); //Находим файл на сервере с нужными данными\r\n\tif (response.ok) {\r\n\t\tconst text = await response.text(); //полученые данные из файла добавляем в константу\r\n\t\tconst helpItems = document.querySelector('.help__items'); //Находим нужный блок, куда планируем вставлять данные\r\n\t\thelpItems.insertAdjacentHTML('beforeend', text); //Вставляем в нужный нам блок данные из файла\r\n\t\ttargetElem.classList.remove('_loading'); //убираем класс\r\n\t} else {\r\n\t\talert('Что-то пошло не так...');\r\n\t}\r\n}\r\n//=====================Определяем есть ли на странице \"бар\" товара и добавляем соответсвующий класс футеру ================================\r\nlet productBar = document.querySelector('.footer__product-bar');\r\nif (productBar) {\r\n\tdocument.querySelector('.footer').classList.add('_bar-true');\r\n}\r\n\r\n//=====================Add to favorites================================\r\nlet favourites = document.querySelectorAll('._favourites');\r\nif (favourites.length > 0) {\r\n\tfavourites.forEach(favouriteCurrent => {\r\n\t\tfavouriteCurrent.addEventListener(\"click\", function (e) {\r\n\t\t\tfavouriteCurrent.classList.toggle('_active');\r\n\t\t});\r\n\t});\r\n}\r\n//=====================Choose color scheme for product================================\r\nlet colorSchemes = document.querySelectorAll('.color-scheme-product');\r\n\r\nif (colorSchemes.length > 0) {\r\n\tcolorSchemes.forEach(colorScheme => {\r\n\t\tif (colorScheme.closest('.product__colors')) {\r\n\t\t\tcolorScheme.addEventListener(\"click\", function (e) {\r\n\t\t\t\tlet parentBlock = colorScheme.closest('.product__colors');\r\n\t\t\t\tlet colorSchemesActive = parentBlock.querySelectorAll('.color-scheme-product');\r\n\t\t\t\t_removeClasses(colorSchemesActive, '_active');\r\n\t\t\t\tcolorScheme.classList.add('_active');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//=====================Header nav tabs================================\r\n\r\nlet tabLinks = document.querySelectorAll('._tab-link');\r\nlet tabsContent = document.querySelectorAll('._tab-content');\r\nlet sidebar = document.querySelector('.sidebar');\r\n\r\nif (tabLinks.length > 0 && !isMobile.any()) {\r\n\ttabLinks.forEach(tabLink => {\r\n\t\ttabLink.addEventListener(\"click\", function (e) {\r\n\r\n\t\t\tlet tabId = tabLink.getAttribute('data-id');\r\n\t\t\tlet tabContent = document.querySelector('._tab-content[data-id=\"' + tabId + '\"]');\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (!tabLink.classList.contains('_active')) {\r\n\t\t\t\t_removeClasses(tabLinks, '_active');\r\n\t\t\t\t_removeClasses(tabsContent, '_active');\r\n\r\n\t\t\t\ttabLink.classList.add('_active');\r\n\r\n\t\t\t\tif (tabContent) {\r\n\t\t\t\t\ttabContent.classList.add('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tdocument.querySelector('.sidebar__item').classList.add('_active');\r\n\t\t\t\t\tdocument.querySelector('.sidebar__content').classList.add('_active');\r\n\t\t\t\t\tsidebar.classList.add('_lock');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('menu__link') && !tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tsidebar.classList.remove('_lock');\r\n\t\t\t\t}\r\n\t\t\t\t// body_lock();\r\n\r\n\t\t\t} else {\r\n\t\t\t\ttabLink.classList.remove('_active');\r\n\t\t\t\tif (tabContent) {\r\n\t\t\t\t\ttabContent.classList.remove('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tdocument.querySelector('.sidebar__item').classList.remove('_active');\r\n\t\t\t\t\tdocument.querySelector('.sidebar__content').classList.remove('_active');\r\n\t\t\t\t\tsidebar.classList.remove('_lock');\r\n\t\t\t\t}\r\n\t\t\t\t// body_lock_remove();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n//=====================Show UserBar Info================================\r\n\r\nlet userbarItems = document.querySelectorAll('.user-bar__item');\r\n\r\nuserbarItems.forEach(userbarItem => {\r\n\tlet itemId = userbarItem.getAttribute('data-id');\r\n\tlet activePopup = document.querySelector('.user-bar__popup[data-id=\"' + itemId + '\"]');\r\n\r\n\tuserbarItem.addEventListener(\"mouseenter\", function (e) {\r\n\t\tif (activePopup) {\r\n\t\t\thideAllUserbarPopups();\r\n\t\t\tgetUserBarInfo(activePopup);\r\n\r\n\t\t\tactivePopup.classList.add('_active');\r\n\t\t\tactivePopup.classList.add('_show');\r\n\r\n\t\t\tactivePopup.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\tactivePopup.classList.remove('_show');\r\n\t\t\t})\r\n\r\n\t\t\tactivePopup.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\t\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\t\t\tactivePopup.classList.remove('_active');\r\n\t\t\t\titemsWrapper.classList.remove('_active');\r\n\t\t\t\temptyMessage.classList.remove('_active');\r\n\r\n\t\t\t});\r\n\r\n\t\t\tuserbarItem.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tif (!activePopup.classList.contains('_show')) {\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\t\t\t\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\t\t\t\t\tactivePopup.classList.remove('_active');\r\n\t\t\t\t\t\titemsWrapper.classList.remove('_active');\r\n\t\t\t\t\t\temptyMessage.classList.remove('_active');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, 500);\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n});\r\n\r\nfunction hideAllUserbarPopups(params) {\r\n\tlet userbarPopups = document.querySelectorAll('.user-bar__popup');\r\n\r\n\tuserbarPopups.forEach(userbarPopup => {\r\n\t\tlet itemsWrapper = userbarPopup.querySelector('.mini-cart__items');\r\n\t\tlet emptyMessage = userbarPopup.querySelector('.mini-cart__empty');\r\n\t\tuserbarPopup.classList.remove('_active');\r\n\t\titemsWrapper.classList.remove('_active');\r\n\t\temptyMessage.classList.remove('_active');\r\n\t});\r\n}\r\n\r\nfunction getUserBarInfo(activePopup) {\r\n\tlet itemsToShow = activePopup.querySelectorAll('.mini-cart__item');\r\n\tlet itemsLenght = itemsToShow.length;\r\n\r\n\tif (itemsLenght > 0) {\r\n\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\titemsWrapper.classList.add('_active');\r\n\t} else {\r\n\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\temptyMessage.classList.add('_active');\r\n\t}\r\n}\r\n\r\nlet searchInput = document.querySelector('.user-bar__input');\r\nlet headerMenu = document.querySelector('.main-header__menu');\r\nlet searchBlock = document.querySelector('.user-bar__item_search');\r\nlet searchIcon = document.querySelector('.user-bar__icon svg');\r\nlet clearInputIcon = document.querySelector('.user-bar__clear-input-btn');\r\nlet searchHideIcon = document.querySelector('.user-bar__hide-search');\r\nlet searchList = document.querySelector('.user-bar__search-list');\r\n\r\nsearchBlock.addEventListener(\"click\", function (e) {\r\n\tif (e.target.contains(searchIcon)) {\r\n\t\tsearchInput.classList.add('_active');\r\n\t\theaderMenu.classList.add('hidden');\r\n\t\tsearchBlock.classList.add('_active');\r\n\t}\r\n\tif (e.target.contains(clearInputIcon)) {\r\n\t\tsearchInput.value = \"\";\r\n\t}\r\n\r\n\tsearchInput.addEventListener('input', function (e) {\r\n\t\tsearchList.classList.add('_show');\r\n\t});\r\n\r\n\tif (e.target.contains(searchHideIcon)) {\r\n\t\tsearchInput.classList.remove('_active');\r\n\t\theaderMenu.classList.remove('hidden');\r\n\t\tsearchBlock.classList.remove('_active');\r\n\t\tsearchList.classList.remove('_show');\r\n\t}\r\n\t\r\n\r\n\tif (isMobile.any()) {\r\n\t\tsearchInput.addEventListener('blur', function (e) {\r\n\t\t\tsearchInput.classList.remove('_active');\r\n\t\t\theaderMenu.classList.remove('hidden');\r\n\t\t\tsearchBlock.classList.remove('_active');\r\n\t\t\tsearchList.classList.remove('_show');\r\n\t\t\tsearchInput.value = \"\";\r\n\t\t});\r\n\t\t}\r\n}); \r\n\r\n\r\n//=====================================================\r\n//Скрипт находит карточки категорий и вычесляет описание большого размера, которые могут поломать верстку и установливает для них высоту. \r\n\r\nlet hoverTexts =document.querySelectorAll('.category__text-hover p');\r\n\r\n\r\nhoverTexts.forEach(hoverTextActive => {\r\n\tlet currentHeight = hoverTextActive.offsetHeight;\r\n\r\n\tif (currentHeight > 90 && currentHeight < 130) {\r\n\t\thoverTextActive.parentNode.classList.add('_medium');\r\n\t}\r\n\r\n\tif (currentHeight > 145) {\r\n\t\thoverTextActive.parentNode.classList.add('_large');\r\n\t}\r\n});\r\n\r\n//=====================Выбираем размер рамы продукта================================\r\nlet sizeItems =document.querySelectorAll('.size-picking__item');\r\n\r\nif (sizeItems.length > 0) {\r\n\tsizeItems.forEach(sizeItem => {\r\n\t\tsizeItem.addEventListener(\"click\", function(e) {\r\n\t\t\t\t_removeClasses(sizeItems, '_active');\r\n\t\t\t\tsizeItem.classList.add('_active');\r\n\t\t});\r\n\t});\r\n}\r\n//=====================================================\r\nif (isMobile.any()) {\r\n\t\r\n\tlet mobSlider = document.querySelector('.mob-slider__content');\r\n\tlet mobSlides = document.querySelectorAll('.mob-slider__slide');\r\n\tlet sections = document.querySelectorAll('section[data-index]');\r\n\tlet mobSlidesLenght = mobSlides.length;\r\n\tif (mobSlider) {\r\n\t\tif (mobSlidesLenght > 0) {\r\n\t\t\tfor (let index = 0; index < mobSlides.length; index++) {\r\n\t\t\t\tconst mobSlide = mobSlides[index];\r\n\t\t\t\tmobSlide.addEventListener(\"click\", function(e) {\r\n\t\t\t\t\tlet i = mobSlide.getAttribute('data-index');\r\n\t\t\t\t\tlet data = 'section[data-index=\"' + i + '\"]';\r\n\t\t\t\t\tlet activeSections = document.querySelectorAll(data);\r\n\r\n\r\n\t\t\t\t\t_removeClasses(mobSlides, '_active');\r\n\t\t\t\t\t_removeClasses(sections, '_active');\r\n\t\t\t\t\tif (index == 2) {\r\n\t\t\t\t\t\tmobSlider.classList.add('_active');\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tif (mobSlider.classList.contains('_active')) {\r\n\t\t\t\t\t\t\tmobSlider.classList.remove('_active');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmobSlide.classList.add('_active');\r\n\t\t\t\t\tactiveSections.forEach(element => {\r\n\t\t\t\t\t\telement.classList.add('_active');\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//=====================================================\r\nlet buttonAddCart = document.querySelector('.product-bar__btn_add-cart');\r\nlet buttonGoCart = document.querySelector('.product-bar__btn_go-cart');\r\n\r\nif (buttonAddCart) {\r\n\tbuttonAddCart.addEventListener(\"click\", function(e) {\r\n\t\tbuttonAddCart.classList.add('_hide');\r\n\t\tbuttonGoCart.classList.add('_active');\r\n\t});\r\n}\r\n\r\n//=====================clear input on Bank page================================\r\nlet bankInput = document.querySelector('.town-search__input');\r\nlet bankIconClose = document.querySelector('.town-search__icon_close');\r\nlet bankSearchList = document.querySelector('.town-search__info');\r\n\r\nif (bankIconClose) {\r\n\tbankIconClose.addEventListener(\"click\", function(e) {\r\n\t\tif (bankInput) {\r\n\t\t\tbankInput.value = \"\";\r\n\t\t\tif (bankSearchList) {\r\n\t\t\t\tbankSearchList.classList.remove('_show');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\nif (bankInput) {\r\n\tbankInput.addEventListener('input', function (e) {\r\n\t\tif (bankSearchList) {\r\n\t\t\tbankSearchList.classList.add('_show');\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//=====================================================\r\n\r\nif (!isMobile.any()) {\r\n\tlet products =document.querySelectorAll('.catalogue__items .product');\r\n\r\n\tif (products) {\r\n\t\tproducts.forEach(e => {\r\n\t\t\tlet hoverText = e.querySelector('.text-hover-product')\r\n\t\t\tlet productImage = e.querySelector('.product__image-wrapper');\r\n\t\t\r\n\t\t\tif (hoverText && !isMobile.any()) {\r\n\t\t\t\tlet productMainHeight = e.offsetHeight;\r\n\t\t\t\tlet hoverHeight = hoverText.offsetHeight;\r\n\t\t\t\tlet currentHeieght = productMainHeight - hoverHeight;\r\n\t\t\t\tconsole.log(currentHeieght);\r\n\t\t\t\thoverText.classList.add('_hide');\r\n\t\t\t\te.style.height = currentHeieght + \"px\";\r\n\t\t\t\te.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\t\tproductImage.classList.add('_hide-image');\r\n\t\t\t\t\t_slideDown(hoverText);\r\n\t\t\t\t});\r\n\t\t\t\te.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\t\tconsole.log('test');\r\n\t\t\t\t\tproductImage.classList.remove('_hide-image');\r\n\t\t\t\t\t_slideUp(hoverText);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n//=====================Choose color scheme for product================================\r\nlet productSizes = document.querySelectorAll('.text-hover-product__size');\r\n\r\nif (productSizes.length > 0) {\r\n\tproductSizes.forEach(productSize => {\r\n\t\tif (productSize.closest('.text-hover-product__sizes')) {\r\n\t\t\tproductSize.addEventListener(\"click\", function (e) {\r\n\t\t\t\tlet parentBlock = productSize.closest('.text-hover-product__sizes');\r\n\t\t\t\tlet productSizesActive = parentBlock.querySelectorAll('.text-hover-product__size');\r\n\t\t\t\t_removeClasses(productSizesActive, '_active');\r\n\t\t\t\tproductSize.classList.add('_active');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n//=====================Order page. Add active class for choosed item================================\r\nlet orderPage = document.querySelector('.order');\r\nif (orderPage) {\r\n\tlet orderBlock = document.querySelectorAll('.delivery-order__items');\r\n\tlet btnAddSelfCompany = document.querySelector('.item-delivery__info_by-self');\r\n\tlet inputAddSelfCompany = document.querySelector('.delivery-order__self-company');\r\n\r\n\tlet inputIsShowed = false;\r\n\r\n\r\n\torderBlock.forEach(element => {\r\n\t\telement.addEventListener('click', event => {\r\n\t\t\tlet orderItem = event.target.closest('.item-delivery');\r\n\t\t\tlet addComapnyBtn = event.target.closest('.item-delivery__info_by-self');\r\n\r\n\t\t\tif (inputIsShowed) {\r\n\t\t\t\t_slideUp(inputAddSelfCompany);\r\n\t\t\t\tinputIsShowed = false;\r\n\t\t\t}\r\n\t\t\tif (addComapnyBtn) {\r\n\t\t\t\t_slideDown(inputAddSelfCompany);\r\n\t\t\t\tinputIsShowed = true;\r\n\t\t\t}\r\n\t\t\tif (!orderItem) return;\r\n\t\t\tif (!element.contains(orderItem)) return;\r\n\t\t\tif(orderItem.classList.contains('_inactive')) return;\r\n\t\t\t\r\n\t\t\tlet curentOrderBlock = orderItem.closest('.delivery-order__items');\r\n\t\t\tlet currentOrderItems = curentOrderBlock.querySelectorAll('.item-delivery');\r\n\t\t\t_removeClasses(currentOrderItems, '_active');\r\n\r\n\t\t\torderItem.classList.add('_active');\r\n\t\t  });\r\n\t\t  \r\n\t});\r\n\r\n}\r\n\r\n//=====================Всплывающая плашка о выборе города================================\r\n\r\nlet townChoice = document.querySelector('.town-choise');\r\n\twindow.addEventListener(\"load\", function () {\r\n\t\tif (townChoice) {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\ttownChoice.classList.add('_active');\r\n\t\t\t}, 0);\r\n\r\n\t\t\ttownChoice.addEventListener(\"click\", e => {\r\n\t\t\t\tconsole.log(e.target);\r\n\t\t\t\t\r\n\t\t\t\tif (e.target.classList.contains('town-choise__btn_yes')) {\r\n\t\t\t\t\ttownChoice.classList.remove('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (e.target.classList.contains('town-choise__btn_no')) {\r\n\t\t\t\t\ttownChoice.classList.remove('_active');\r\n\t\t\t\t\tpopup_open('choice-town');\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tlet close = e.target.closest('.town-choise__close');\r\n\t\t\t\tif (!close) return;\r\n\t\t\t\ttownChoice.classList.remove('_active');\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//let btn = document.querySelectorAll('button[type=\"submit\"],input[type=\"submit\"]');\r\nlet forms = document.querySelectorAll('form');\r\nif (forms.length > 0) {\r\n\tfor (let index = 0; index < forms.length; index++) {\r\n\t\tconst el = forms[index];\r\n\t\tel.addEventListener('submit', form_submit);\r\n\t}\r\n}\r\nasync function form_submit(e) {\r\n\tlet btn = e.target;\r\n\tlet form = btn.closest('form');\r\n\tlet error = form_validate(form);\r\n\tif (error == 0) {\r\n\t\tlet formAction = form.getAttribute('action') ? form.getAttribute('action').trim() : '#';\r\n\t\tlet formMethod = form.getAttribute('method') ? form.getAttribute('method').trim() : 'GET';\r\n\t\tconst message = form.getAttribute('data-message');\r\n\t\tconst ajax = form.getAttribute('data-ajax');\r\n\t\tconst test = form.getAttribute('data-test');\r\n\r\n\t\t//SendForm\r\n\t\tif (ajax) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet formData = new FormData(form);\r\n\t\t\tform.classList.add('_sending');\r\n\t\t\tlet response = await fetch(formAction, {\r\n\t\t\t\tmethod: formMethod,\r\n\t\t\t\tbody: formData\r\n\t\t\t});\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tlet result = await response.json();\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t\tif (message) {\r\n\t\t\t\t\tpopup_open(message + '-message');\r\n\t\t\t\t}\r\n\t\t\t\tform_clean(form);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Ошибка\");\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If test\r\n\t\tif (test) {\r\n\t\t\te.preventDefault();\r\n\t\t\tpopup_open(message + '-message');\r\n\t\t\tform_clean(form);\r\n\t\t}\r\n\t} else {\r\n\t\tlet form_error = form.querySelectorAll('._error');\r\n\t\tif (form_error && form.classList.contains('_goto-error')) {\r\n\t\t\t_goto(form_error[0], 1000, 50);\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t}\r\n}\r\n\r\nfunction form_validate(form) {\r\n\tlet error = 0;\r\n\tlet form_req = form.querySelectorAll('._req');\r\n\tif (form_req.length > 0) {\r\n\t\tfor (let index = 0; index < form_req.length; index++) {\r\n\t\t\tconst el = form_req[index];\r\n\t\t\tif (!_is_hidden(el)) {\r\n\t\t\t\terror += form_validate_input(el);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn error;\r\n}\r\n\r\nfunction form_validate_input(input) {\r\n\tlet error = 0;\r\n\tlet input_g_value = input.getAttribute('data-value');\r\n\r\n\r\n\tif (input.getAttribute(\"name\") == \"email\" || input.classList.contains(\"_email\")) {\r\n\t\tif (input.value != input_g_value) {\r\n\t\t\tlet em = input.value.replace(\" \", \"\");\r\n\t\t\tinput.value = em;\r\n\t\t}\r\n\t\tif (email_test(input) || input.value == input_g_value) {\r\n\t\t\tform_add_error(input);\r\n\t\t\terror++;\r\n\t\t} else {\r\n\t\t\tform_remove_error(input);\r\n\t\t}\r\n\t} else if (input.getAttribute(\"type\") == \"checkbox\" && input.checked == false) {\r\n\t\tform_add_error(input);\r\n\t\terror++;\r\n\t} else if (input.getAttribute(\"type\") == \"radio\") {\r\n\t\tlet a = input.getAttribute('name');\r\n\t\tlet parentRadio = input.parentElement;\r\n\t\tlet allRadioButtons = parentRadio.querySelectorAll('input[name=\"' + a + '\"]');\r\n\t\tvar radioGroupO = Array.from(allRadioButtons);\r\n\r\n\t\tfunction isCheked(i) {\r\n\t\t\treturn i.checked == true;\r\n\t\t}\r\n\r\n\t\tif (radioGroupO.some(isCheked) == false) {\r\n\t\t\tform_add_error(parentRadio);\r\n\t\t\tremoveRadioError(parentRadio, allRadioButtons);\r\n\t\t\terror++;\r\n\t\t}\r\n\t} else {\r\n\t\tif (input.value == '' || input.value == input_g_value) {\r\n\t\t\tform_add_error(input);\r\n\t\t\terror++;\r\n\t\t} else {\r\n\t\t\tform_remove_error(input);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn error;\r\n}\r\nfunction removeRadioError (parentRadio, allRadioButtons) {\r\n\tallRadioButtons.forEach(element => {\r\n\t\telement.addEventListener(\"change\", function(event) {\r\n\t\t\tif (parentRadio.classList.contains('_error')) {\r\n\t\t\t\tform_remove_error(parentRadio);\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n}\r\n\r\nfunction form_add_error(input) {\r\n\tinput.classList.add('_error');\r\n\tinput.parentElement.classList.add('_error');\r\n\r\n\tlet input_error = input.parentElement.querySelector('.form__error');\r\n\tif (input_error) {\r\n\t\tinput.parentElement.removeChild(input_error);\r\n\t}\r\n\tlet input_error_text = input.getAttribute('data-error');\r\n\tif (input_error_text && input_error_text != '') {\r\n\t\tinput.parentElement.insertAdjacentHTML('beforeend', '<div class=\"form__error\">' + input_error_text + '</div>');\r\n\t}\r\n}\r\n\r\nfunction form_remove_error(input) {\r\n\tconsole.log('remove');\r\n\tconsole.log(input);\r\n\tinput.classList.remove('_error');\r\n\tinput.parentElement.classList.remove('_error');\r\n\r\n\tlet input_error = input.parentElement.querySelector('.form__error');\r\n\tif (input_error) {\r\n\t\tinput.parentElement.removeChild(input_error);\r\n\t}\r\n}\r\n\r\nfunction form_clean(form) {\r\n\tlet inputs = form.querySelectorAll('input,textarea');\r\n\tfor (let index = 0; index < inputs.length; index++) {\r\n\t\tconst el = inputs[index];\r\n\t\tel.parentElement.classList.remove('_focus');\r\n\t\tel.classList.remove('_focus');\r\n\t\tel.value = el.getAttribute('data-value');\r\n\t}\r\n\tlet checkboxes = form.querySelectorAll('.checkbox__input');\r\n\tif (checkboxes.length > 0) {\r\n\t\tfor (let index = 0; index < checkboxes.length; index++) {\r\n\t\t\tconst checkbox = checkboxes[index];\r\n\t\t\tcheckbox.checked = false;\r\n\t\t}\r\n\t}\r\n\tlet selects = form.querySelectorAll('select');\r\n\tif (selects.length > 0) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tconst select_default_value = select.getAttribute('data-default');\r\n\t\t\tselect.value = select_default_value;\r\n\t\t\tselect_item(select);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet viewPass = document.querySelectorAll('.form__viewpass');\r\nfor (let index = 0; index < viewPass.length; index++) {\r\n\tconst element = viewPass[index];\r\n\telement.addEventListener(\"click\", function (e) {\r\n\t\tif (element.classList.contains('_active')) {\r\n\t\t\telement.parentElement.querySelector('input').setAttribute(\"type\", \"password\");\r\n\t\t} else {\r\n\t\t\telement.parentElement.querySelector('input').setAttribute(\"type\", \"text\");\r\n\t\t}\r\n\t\telement.classList.toggle('_active');\r\n\t});\r\n}\r\n\r\n//Select\r\nlet selects = document.getElementsByTagName('select');\r\nif (selects.length > 0) {\r\n\tselects_init();\r\n}\r\n\r\nfunction selects_init() {\r\n\tfor (let index = 0; index < selects.length; index++) {\r\n\t\tconst select = selects[index];\r\n\t\tselect_init(select);\r\n\t}\r\n\t//select_callback();\r\n\tdocument.addEventListener('click', function (e) {\r\n\t\tselects_close(e);\r\n\t});\r\n\tdocument.addEventListener('keydown', function (e) {\r\n\t\tif (e.code === 'Escape') {\r\n\t\t\tselects_close(e);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction selects_close(e) {\r\n\tconst selects = document.querySelectorAll('.select');\r\n\tif (!e.target.closest('.select') && !e.target.classList.contains('_option')) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tconst select_body_options = select.querySelector('.select__options');\r\n\t\t\tselect.classList.remove('_active');\r\n\t\t\t_slideUp(select_body_options, 100);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction select_init(select) {\r\n\tconst select_parent = select.parentElement;\r\n\tconst select_modifikator = select.getAttribute('class');\r\n\tconst select_selected_option = select.querySelector('option:checked');\r\n\tselect.setAttribute('data-default', select_selected_option.value);\r\n\tselect.style.display = 'none';\r\n\r\n\tselect_parent.insertAdjacentHTML('beforeend', '<div class=\"select select_' + select_modifikator + '\"></div>');\r\n\r\n\tlet new_select = select.parentElement.querySelector('.select');\r\n\tnew_select.appendChild(select);\r\n\tselect_item(select);\r\n}\r\n\r\nfunction select_item(select) {\r\n\tconst select_parent = select.parentElement;\r\n\tconst select_items = select_parent.querySelector('.select__item');\r\n\tconst select_options = select.querySelectorAll('option');\r\n\tconst select_selected_option = select.querySelector('option:checked');\r\n\tconst select_selected_text = select_selected_option.text;\r\n\tconst select_type = select.getAttribute('data-type');\r\n\r\n\tif (select_items) {\r\n\t\tselect_items.remove();\r\n\t}\r\n\r\n\tlet select_type_content = '';\r\n\tif (select_type == 'input') {\r\n\t\tselect_type_content = '<div class=\"select__value icon-select-arrow\"><input autocomplete=\"off\" type=\"text\" name=\"form[]\" value=\"' + select_selected_text + '\" data-error=\"Ошибка\" data-value=\"' + select_selected_text + '\" class=\"select__input\"></div>';\r\n\t} else {\r\n\t\tselect_type_content = '<div class=\"select__value icon-select-arrow\"><span>' + select_selected_text + '</span></div>';\r\n\t}\r\n\r\n\tselect_parent.insertAdjacentHTML('beforeend',\r\n\t\t'<div class=\"select__item\">' +\r\n\t\t'<div class=\"select__title\">' + select_type_content + '</div>' +\r\n\t\t'<div class=\"select__options\">' + select_get_options(select_options) + '</div>' +\r\n\t\t'</div></div>');\r\n\r\n\tselect_actions(select, select_parent);\r\n}\r\n\r\nfunction select_actions(original, select) {\r\n\tconst select_item = select.querySelector('.select__item');\r\n\tconst selectTitle = select.querySelector('.select__title');\r\n\tconst select_body_options = select.querySelector('.select__options');\r\n\tconst select_options = select.querySelectorAll('.select__option');\r\n\tconst select_type = original.getAttribute('data-type');\r\n\tconst select_input = select.querySelector('.select__input');\r\n\r\n\tselectTitle.addEventListener('click', function (e) {\r\n\t\tselectItemActions();\r\n\t});\r\n\r\n\tfunction selectMultiItems() {\r\n\t\tlet selectedOptions = select.querySelectorAll('.select__option');\r\n\t\tlet originalOptions = original.querySelectorAll('option');\r\n\t\tlet selectedOptionsText = [];\r\n\t\tfor (let index = 0; index < selectedOptions.length; index++) {\r\n\t\t\tconst selectedOption = selectedOptions[index];\r\n\t\t\toriginalOptions[index].removeAttribute('selected');\r\n\t\t\tif (selectedOption.classList.contains('_selected')) {\r\n\t\t\t\tconst selectOptionText = selectedOption.innerHTML;\r\n\t\t\t\tselectedOptionsText.push(selectOptionText);\r\n\t\t\t\toriginalOptions[index].setAttribute('selected', 'selected');\r\n\t\t\t}\r\n\t\t}\r\n\t\tselect.querySelector('.select__value').innerHTML = '<span>' + selectedOptionsText + '</span>';\r\n\t}\r\n\r\n\tfunction selectItemActions(type) {\r\n\t\tif (!type) {\r\n\t\t\tlet selects = document.querySelectorAll('.select');\r\n\t\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\t\tconst select = selects[index];\r\n\t\t\t\tconst select_body_options = select.querySelector('.select__options');\r\n\t\t\t\tif (select != select_item.closest('.select')) {\r\n\t\t\t\t\tselect.classList.remove('_active');\r\n\t\t\t\t\t_slideUp(select_body_options, 100);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_slideToggle(select_body_options, 100);\r\n\t\t\tselect.classList.toggle('_active');\r\n\t\t}\r\n\t}\r\n\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\tconst select_option = select_options[index];\r\n\t\tconst select_option_value = select_option.getAttribute('data-value');\r\n\t\tconst select_option_text = select_option.innerHTML;\r\n\r\n\t\tif (select_type == 'input') {\r\n\t\t\tselect_input.addEventListener('keyup', select_search);\r\n\t\t} else {\r\n\t\t\tif (select_option.getAttribute('data-value') == original.value && !original.hasAttribute('multiple')) {\r\n\t\t\t\tselect_option.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t\tselect_option.addEventListener('click', function () {\r\n\t\t\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\t\t\tconst el = select_options[index];\r\n\t\t\t\tel.style.display = 'block';\r\n\t\t\t}\r\n\t\t\tif (select_type == 'input') {\r\n\t\t\t\tselect_input.value = select_option_text;\r\n\t\t\t\toriginal.value = select_option_value;\r\n\t\t\t} else {\r\n\t\t\t\tif (original.hasAttribute('multiple')) {\r\n\t\t\t\t\tselect_option.classList.toggle('_selected');\r\n\t\t\t\t\tselectMultiItems();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselect.querySelector('.select__value').innerHTML = '<span>' + select_option_text + '</span>';\r\n\t\t\t\t\toriginal.value = select_option_value;\r\n\t\t\t\t\tselect_option.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet type;\r\n\t\t\tif (original.hasAttribute('multiple')) {\r\n\t\t\t\ttype = 'multiple';\r\n\t\t\t}\r\n\t\t\tselectItemActions(type);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction select_get_options(select_options) {\r\n\tif (select_options) {\r\n\t\tlet select_options_content = '';\r\n\t\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\t\tconst select_option = select_options[index];\r\n\t\t\tconst select_option_value = select_option.value;\r\n\t\t\tif (select_option_value != '') {\r\n\t\t\t\tconst select_option_text = select_option.innerHTML;\r\n\t\t\t\tselect_options_content = select_options_content + '<div data-value=\"' + select_option_value + '\" class=\"select__option\">' + select_option_text + '</div>';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn select_options_content;\r\n\t}\r\n}\r\n\r\nfunction select_search(e) {\r\n\tlet select_block = e.target.closest('.select ').querySelector('.select__options');\r\n\tlet select_options = e.target.closest('.select ').querySelectorAll('.select__option');\r\n\tlet select_search_text = e.target.value.toUpperCase();\r\n\r\n\tfor (let i = 0; i < select_options.length; i++) {\r\n\t\tlet select_option = select_options[i];\r\n\t\tlet select_txt_value = select_option.textContent || select_option.innerText;\r\n\t\tif (select_txt_value.toUpperCase().indexOf(select_search_text) > -1) {\r\n\t\t\tselect_option.style.display = \"\";\r\n\t\t} else {\r\n\t\t\tselect_option.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction selects_update_all() {\r\n\tlet selects = document.querySelectorAll('select');\r\n\tif (selects) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tselect_item(select);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//Placeholers\r\nlet inputs = document.querySelectorAll('input[data-value],textarea[data-value]');\r\ninputs_init(inputs);\r\n\r\nfunction inputs_init(inputs) {\r\n\tif (inputs.length > 0) {\r\n\t\tfor (let index = 0; index < inputs.length; index++) {\r\n\t\t\tconst input = inputs[index];\r\n\t\t\tconst input_g_value = input.getAttribute('data-value');\r\n\t\t\tinput_placeholder_add(input);\r\n\t\t\tif (input.value != '' && input.value != input_g_value) {\r\n\t\t\t\tinput_focus_add(input);\r\n\t\t\t}\r\n\t\t\tinput.addEventListener('focus', function (e) {\r\n\t\t\t\tif (input.value == input_g_value) {\r\n\t\t\t\t\tinput_focus_add(input);\r\n\t\t\t\t\tinput.value = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (input.getAttribute('data-type') === \"pass\" && !input.parentElement.querySelector('.form__viewpass').classList.contains('_active')) {\r\n\t\t\t\t\tinput.setAttribute('type', 'password');\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_date')) {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"99.99.9999\", {\r\n\t\t\t\t\t\t//\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_phone')) {\r\n\t\t\t\t\t//'+7(999) 999 9999'\r\n\t\t\t\t\t//'+38(999) 999 9999'\r\n\t\t\t\t\t//'+375(99)999-99-99'\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"+375 (99) 9999999\", {\r\n\t\t\t\t\t\t//\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_digital')) {\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"9{1,}\", {\r\n\t\t\t\t\t\t\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t}\r\n\t\t\t\tform_remove_error(input);\r\n\t\t\t});\r\n\t\t\tinput.addEventListener('blur', function (e) {\r\n\t\t\t\tif (input.value == '') {\r\n\t\t\t\t\tinput.value = input_g_value;\r\n\t\t\t\t\tinput_focus_remove(input);\r\n\t\t\t\t\tif (input.classList.contains('_mask')) {\r\n\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (input.getAttribute('data-type') === \"pass\") {\r\n\t\t\t\t\t\tinput.setAttribute('type', 'text');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (input.classList.contains('_date')) {\r\n\t\t\t\tconst calendarItem = datepicker(input, {\r\n\t\t\t\t\tcustomDays: [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"],\r\n\t\t\t\t\tcustomMonths: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\r\n\t\t\t\t\toverlayButton: 'Применить',\r\n\t\t\t\t\toverlayPlaceholder: 'Год (4 цифры)',\r\n\t\t\t\t\tstartDay: 1,\r\n\t\t\t\t\tformatter: (input, date, instance) => {\r\n\t\t\t\t\t\tconst value = date.toLocaleDateString()\r\n\t\t\t\t\t\tinput.value = value\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonSelect: function (input, instance, date) {\r\n\t\t\t\t\t\tinput_focus_add(input.el);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst dataFrom = input.getAttribute('data-from');\r\n\t\t\t\tconst dataTo = input.getAttribute('data-to');\r\n\t\t\t\tif (dataFrom) {\r\n\t\t\t\t\tcalendarItem.setMin(new Date(dataFrom));\r\n\t\t\t\t}\r\n\t\t\t\tif (dataTo) {\r\n\t\t\t\t\tcalendarItem.setMax(new Date(dataTo));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction input_placeholder_add(input) {\r\n\tconst input_g_value = input.getAttribute('data-value');\r\n\tif (input.value == '' && input_g_value != '') {\r\n\t\tinput.value = input_g_value;\r\n\t}\r\n}\r\n\r\nfunction input_focus_add(input) {\r\n\tif (!input.classList.contains('user-bar__input') && !input.classList.contains('town-search__input')) {\r\n\t\tinput.classList.add('_focus');\r\n\t\tinput.parentElement.classList.add('_focus');\r\n\t}\r\n\r\n}\r\n\r\nfunction input_focus_remove(input) {\r\n\tif (!input.classList.contains('user-bar__input') && !input.classList.contains('town-search__input')) {\r\n\t\tinput.classList.remove('_focus');\r\n\t\tinput.parentElement.classList.remove('_focus');\r\n\t};\r\n}\r\n\r\nfunction input_clear_mask(input, input_g_value) {\r\n\tinput.inputmask.remove();\r\n\tinput.value = input_g_value;\r\n\tinput_focus_remove(input);\r\n}\r\n\r\n//QUANTITY\r\nlet quantityButtons = document.querySelectorAll('.quantity__button');\r\nif (quantityButtons.length > 0) {\r\n\tfor (let index = 0; index < quantityButtons.length; index++) {\r\n\t\tconst quantityButton = quantityButtons[index];\r\n\t\tquantityButton.addEventListener(\"click\", function (e) {\r\n\t\t\tlet value = parseInt(quantityButton.closest('.quantity').querySelector('input').value);\r\n\t\t\tif (quantityButton.classList.contains('quantity__button_plus')) {\r\n\t\t\t\tvalue++;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = value - 1;\r\n\t\t\t\tif (value < 1) {\r\n\t\t\t\t\tvalue = 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tquantityButton.closest('.quantity').querySelector('input').value = value;\r\n\t\t});\r\n\t}\r\n}\r\n\r\n//RANGE\r\nconst priceSlider = document.querySelector('.price-filter__slider');\r\nif (priceSlider) {\r\n\r\n\tlet textFrom = priceSlider.getAttribute('data-from');\r\n\tlet textTo = priceSlider.getAttribute('data-to');\r\n\r\n\tnoUiSlider.create(priceSlider, {\r\n\t\tstart: [0, 200000],\r\n\t\tconnect: true,\r\n\t\ttooltips: [wNumb({\r\n\t\t\tdecimals: 0,\r\n\t\t\tprefix: textFrom + ' '\r\n\t\t}), wNumb({\r\n\t\t\tdecimals: 0,\r\n\t\t\tprefix: textTo + ' '\r\n\t\t})],\r\n\t\trange: {\r\n\t\t\t'min': [0],\r\n\t\t\t'max': [200000]\r\n\t\t}\r\n\t});\r\n\r\n\t/*\r\n\tconst priceStart = document.getElementById('price-start');\r\n\tconst priceEnd = document.getElementById('price-end');\r\n\tpriceStart.addEventListener('change', setPriceValues);\r\n\tpriceEnd.addEventListener('change', setPriceValues);\r\n\t*/\r\n\r\n\tfunction setPriceValues() {\r\n\t\tlet priceStartValue;\r\n\t\tlet priceEndValue;\r\n\t\tif (priceStart.value != '') {\r\n\t\t\tpriceStartValue = priceStart.value;\r\n\t\t}\r\n\t\tif (priceEnd.value != '') {\r\n\t\t\tpriceEndValue = priceEnd.value;\r\n\t\t}\r\n\t\tpriceSlider.noUiSlider.set([priceStartValue, priceEndValue]);\r\n\t}\r\n}\r\nlet scr_body = document.querySelector('body');\r\nlet scr_blocks = document.querySelectorAll('._scr-sector');\r\nlet scr_items = document.querySelectorAll('._scr-item');\r\nlet scr_fix_block = document.querySelectorAll('._side-wrapper');\r\nlet scr_min_height = 750;\r\n\r\nlet scrolling = true;\r\nlet scrolling_full = true;\r\n\r\nlet scrollDirection = 0;\r\n\r\nlet currentScroll;\r\n\r\n//ScrollOnScroll\r\nwindow.addEventListener('scroll', scroll_scroll);\r\nfunction scroll_scroll() {\r\n\tlet src_value = currentScroll = pageYOffset;\r\n\tlet header = document.querySelector('header.header');\r\n\tif (header !== null) {\r\n\t\tif (src_value > 10) {\r\n\t\t\theader.classList.add('_scroll');\r\n\t\t} else {\r\n\t\t\theader.classList.remove('_scroll');\r\n\t\t}\r\n\t}\r\n\tif (scr_blocks.length > 0) {\r\n\t\tfor (let index = 0; index < scr_blocks.length; index++) {\r\n\t\t\tlet block = scr_blocks[index];\r\n\t\t\tlet block_offset = offset(block).top;\r\n\t\t\tlet block_height = block.offsetHeight;\r\n\r\n\t\t\t/*\r\n\t\t\tif ((src_value > block_offset - block_height) && src_value < (block_offset + block_height) && window.innerHeight > scr_min_height && window.innerWidth > 992) {\r\n\t\t\t\tlet scrProcent = (src_value - block_offset) / block_height * 100;\r\n\t\t\t\tscrParallax(block, scrProcent, block_height);\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 1.5) && pageYOffset < (block_offset + block_height) - window.innerHeight / 5) {\r\n\t\t\t\tblock.classList.add('_scr-sector_active');\r\n\t\t\t} else {\r\n\t\t\t\tif (block.classList.contains('_scr-sector_active')) {\r\n\t\t\t\t\tblock.classList.remove('_scr-sector_active');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 2) && pageYOffset < (block_offset + block_height) - window.innerHeight / 5) {\r\n\t\t\t\tif (!block.classList.contains('_scr-sector_current')) {\r\n\t\t\t\t\tblock.classList.add('_scr-sector_current');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (block.classList.contains('_scr-sector_current')) {\r\n\t\t\t\t\tblock.classList.remove('_scr-sector_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (scr_items.length > 0) {\r\n\t\tfor (let index = 0; index < scr_items.length; index++) {\r\n\t\t\tlet scr_item = scr_items[index];\r\n\t\t\tlet scr_item_offset = offset(scr_item).top;\r\n\t\t\tlet scr_item_height = scr_item.offsetHeight;\r\n\r\n\r\n\t\t\tlet scr_item_point = window.innerHeight - (window.innerHeight - scr_item_height / 3);\r\n\t\t\tif (window.innerHeight > scr_item_height) {\r\n\t\t\t\tscr_item_point = window.innerHeight - scr_item_height / 3;\r\n\t\t\t}\r\n\r\n\t\t\tif ((src_value > scr_item_offset - scr_item_point) && src_value < (scr_item_offset + scr_item_height)) {\r\n\t\t\t\tscr_item.classList.add('_active');\r\n\t\t\t\tscroll_load_item(scr_item);\r\n\t\t\t} else {\r\n\t\t\t\tscr_item.classList.remove('_active');\r\n\t\t\t}\r\n\t\t\tif (((src_value > scr_item_offset - window.innerHeight))) {\r\n\t\t\t\tif (scr_item.querySelectorAll('._lazy').length > 0) {\r\n\t\t\t\t\tscroll_lazy(scr_item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (scr_fix_block.length > 0) {\r\n\t\tfix_block(scr_fix_block, src_value);\r\n\t}\r\n\tlet custom_scroll_line = document.querySelector('._custom-scroll__line');\r\n\tif (custom_scroll_line) {\r\n\t\tlet window_height = window.innerHeight;\r\n\t\tlet content_height = document.querySelector('.wrapper').offsetHeight;\r\n\t\tlet scr_procent = (pageYOffset / (content_height - window_height)) * 100;\r\n\t\tlet custom_scroll_line_height = custom_scroll_line.offsetHeight;\r\n\t\tcustom_scroll_line.style.transform = \"translateY(\" + (window_height - custom_scroll_line_height) / 100 * scr_procent + \"px)\";\r\n\t}\r\n\tif (src_value > scrollDirection) {\r\n\t\t// downscroll code\r\n\t} else {\r\n\t\t// upscroll code\r\n\t}\r\n\tscrollDirection = src_value <= 0 ? 0 : src_value;\r\n}\r\nsetTimeout(function () {\r\n\t//document.addEventListener(\"DOMContentLoaded\", scroll_scroll);\r\n\tscroll_scroll();\r\n}, 100);\r\n\r\nfunction scroll_lazy(scr_item) {\r\n\tlet lazy_src = scr_item.querySelectorAll('*[data-src]');\r\n\tif (lazy_src.length > 0) {\r\n\t\tfor (let index = 0; index < lazy_src.length; index++) {\r\n\t\t\tconst el = lazy_src[index];\r\n\t\t\tif (!el.classList.contains('_loaded')) {\r\n\t\t\t\tel.setAttribute('src', el.getAttribute('data-src'));\r\n\t\t\t\tel.classList.add('_loaded');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tlet lazy_srcset = scr_item.querySelectorAll('*[data-srcset]');\r\n\tif (lazy_srcset.length > 0) {\r\n\t\tfor (let index = 0; index < lazy_srcset.length; index++) {\r\n\t\t\tconst el = lazy_srcset[index];\r\n\t\t\tif (!el.classList.contains('_loaded')) {\r\n\t\t\t\tel.setAttribute('srcset', el.getAttribute('data-srcset'));\r\n\t\t\t\tel.classList.add('_loaded');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nfunction scroll_load_item(scr_item) {\r\n\tif (scr_item.classList.contains('_load-map') && !scr_item.classList.contains('_loaded-map')) {\r\n\t\tlet map_item = document.getElementById('map');\r\n\t\tif (map_item) {\r\n\t\t\tscr_item.classList.add('_loaded-map');\r\n\t\t\tmap();\r\n\t\t}\r\n\t}\r\n}\r\nfunction scrParallax(block, scrProcent, blockHeight) {\r\n\tlet prlxItems = block.querySelectorAll('._prlx-item');\r\n\tif (prlxItems.length > 0) {\r\n\t\tfor (let index = 0; index < prlxItems.length; index++) {\r\n\t\t\tconst prlxItem = prlxItems[index];\r\n\t\t\tlet prlxItemAttr = (prlxItem.dataset.prlx) ? prlxItem.dataset.prlx : 3;\r\n\t\t\tconst prlxItemValue = -1 * (blockHeight / 100 * scrProcent / prlxItemAttr);\r\n\t\t\tprlxItem.style.cssText = `transform: translateY(${prlxItemValue}px);`;\r\n\t\t}\r\n\t}\r\n}\r\n//FullScreenScroll\r\nif (scr_blocks.length > 0 && !isMobile.any()) {\r\n\tdisableScroll();\r\n\twindow.addEventListener('wheel', full_scroll);\r\n\r\n\tlet swiperScrolls = document.querySelectorAll('._swiper_scroll');\r\n\r\n\tif (swiperScrolls.length > 0) {\r\n\t\tfor (let index = 0; index < swiperScrolls.length; index++) {\r\n\t\t\tconst swiperScroll = swiperScrolls[index];\r\n\t\t\tswiperScroll.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\twindow.removeEventListener('wheel', full_scroll);\r\n\t\t\t});\r\n\t\t\tswiperScroll.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\twindow.addEventListener('wheel', full_scroll);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\nfunction getPrevBlockPos(current_block_prev) {\r\n\tlet viewport_height = window.innerHeight;\r\n\tlet current_block_prev_height = current_block_prev.offsetHeight;\r\n\tlet block_pos = offset(current_block_prev).top;\r\n\r\n\tif (current_block_prev_height >= viewport_height) {\r\n\t\tblock_pos = block_pos + (current_block_prev_height - viewport_height);\r\n\t}\r\n\treturn block_pos;\r\n}\r\nfunction full_scroll(e) {\r\n\tlet viewport_height = window.innerHeight;\r\n\tif (viewport_height >= scr_min_height) {\r\n\t\tif (scrolling_full) {\r\n\t\t\tlet current_block = document.querySelector('._scr-sector._scr-sector_current');\r\n\t\t\tlet current_block_pos = offset(current_block).top;\r\n\t\t\tlet current_block_height = current_block.offsetHeight;\r\n\t\t\tlet current_block_next = current_block.nextElementSibling;\r\n\t\t\tlet current_block_prev = current_block.previousElementSibling;\r\n\t\t\tif (e.keyCode == 40 || e.keyCode == 34 || e.deltaX > 0 || e.deltaY < 0) {\r\n\t\t\t\tif (current_block_height <= viewport_height) {\r\n\t\t\t\t\tif (current_block_prev) {\r\n\t\t\t\t\t\tfull_scroll_to_sector(getPrevBlockPos(current_block_prev));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t\tif (currentScroll <= current_block_pos) {\r\n\t\t\t\t\t\tif (current_block_prev) {\r\n\t\t\t\t\t\t\tfull_scroll_to_sector(getPrevBlockPos(current_block_prev));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (e.keyCode == 38 || e.keyCode == 33 || e.deltaX < 0 || e.deltaY > 0) {\r\n\t\t\t\tif (current_block_height <= viewport_height) {\r\n\t\t\t\t\tif (current_block_next) {\r\n\t\t\t\t\t\tlet block_pos = offset(current_block_next).top;\r\n\t\t\t\t\t\tfull_scroll_to_sector(block_pos);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t\tif (current_block_next) {\r\n\t\t\t\t\t\tlet block_pos = offset(current_block_next).top;\r\n\t\t\t\t\t\tif (currentScroll >= block_pos - viewport_height) {\r\n\t\t\t\t\t\t\tfull_scroll_to_sector(block_pos);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdisableScroll();\r\n\t\t}\r\n\t} else {\r\n\t\tenableScroll();\r\n\t}\r\n}\r\nfunction full_scroll_to_sector(pos) {\r\n\tdisableScroll();\r\n\tscrolling_full = false;\r\n\t_goto(pos, 800);\r\n\r\n\tlet scr_pause = 500;\r\n\tif (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n\t\tscr_pause = 1000;\r\n\t};\r\n\tsetTimeout(function () {\r\n\t\tscrolling_full = true;\r\n\t}, scr_pause);\r\n}\r\nfunction full_scroll_pagestart() { }\r\nfunction full_scroll_pageend() { }\r\n\r\n//ScrollOnClick (Navigation)\r\nlet link = document.querySelectorAll('._goto-block');\r\nif (link) {\r\n\tlet blocks = [];\r\n\tfor (let index = 0; index < link.length; index++) {\r\n\t\tlet el = link[index];\r\n\t\tlet block_name = el.getAttribute('href').replace('#', '');\r\n\t\tif (block_name != '' && !~blocks.indexOf(block_name)) {\r\n\t\t\tblocks.push(block_name);\r\n\t\t}\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tif (document.querySelector('.menu__body._active')) {\r\n\t\t\t\tmenu_close();\r\n\t\t\t\tbody_lock_remove(500);\r\n\t\t\t}\r\n\t\t\tlet target_block_class = el.getAttribute('href').replace('#', '');\r\n\t\t\tlet target_block = document.querySelector('.' + target_block_class);\r\n\t\t\t_goto(target_block, 300);\r\n\t\t\te.preventDefault();\r\n\t\t})\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', function (el) {\r\n\t\tlet old_current_link = document.querySelectorAll('._goto-block._active');\r\n\t\tif (old_current_link) {\r\n\t\t\tfor (let index = 0; index < old_current_link.length; index++) {\r\n\t\t\t\tlet el = old_current_link[index];\r\n\t\t\t\tel.classList.remove('_active');\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let index = 0; index < blocks.length; index++) {\r\n\t\t\tlet block = blocks[index];\r\n\t\t\tlet block_item = document.querySelector('.' + block);\r\n\t\t\tif (block_item) {\r\n\t\t\t\tlet block_offset = offset(block_item).top;\r\n\t\t\t\tlet block_height = block_item.offsetHeight;\r\n\t\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 3) && pageYOffset < (block_offset + block_height) - window.innerHeight / 3) {\r\n\t\t\t\t\tlet current_links = document.querySelectorAll('._goto-block[href=\"#' + block + '\"]');\r\n\t\t\t\t\tfor (let index = 0; index < current_links.length; index++) {\r\n\t\t\t\t\t\tlet current_link = current_links[index];\r\n\t\t\t\t\t\tcurrent_link.classList.add('_active');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n//ScrollOnClick (Simple)\r\nlet goto_links = document.querySelectorAll('._goto');\r\nlet body = document.querySelector(\"body\");\r\nif (goto_links) {\r\n\tfor (let index = 0; index < goto_links.length; index++) {\r\n\t\tlet goto_link = goto_links[index];\r\n\t\tgoto_link.addEventListener('click', function (e) {\r\n\t\t\tif (body.classList.contains('_lock')) {\r\n\t\t\t\tpopup_close(e.target.closest('.popup'));\r\n\t\t\t\tbody_lock_remove(delay);\r\n\t\t\t}\r\n\t\t\tlet target_block_class = goto_link.getAttribute('href').replace('#', '');\r\n\t\t\tlet target_block = document.querySelector('.' + target_block_class);\r\n\t\t\t_goto(target_block, 600);\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nfunction _goto(target_block, speed, offset = 0) {\r\n\tlet header = '';\r\n\t//OffsetHeader\r\n\t//if (window.innerWidth < 992) {\r\n\t//\theader = 'header';\r\n\t//}\r\n\tlet options = {\r\n\t\tspeedAsDuration: true,\r\n\t\tspeed: speed,\r\n\t\theader: header,\r\n\t\toffset: offset,\r\n\t\teasing: 'easeOutQuad',\r\n\t};\r\n\tlet scr = new SmoothScroll();\r\n\tscr.animateScroll(target_block, '', options);\r\n}\r\n\r\n//SameFunctions\r\nfunction offset(el) {\r\n\tvar rect = el.getBoundingClientRect(),\r\n\t\tscrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n\t\tscrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n\treturn { top: rect.top + scrollTop, left: rect.left + scrollLeft }\r\n}\r\nfunction disableScroll() {\r\n\tif (window.addEventListener) // older FF\r\n\t\twindow.addEventListener('DOMMouseScroll', preventDefault, false);\r\n\tdocument.addEventListener('wheel', preventDefault, { passive: false }); // Disable scrolling in Chrome\r\n\twindow.onwheel = preventDefault; // modern standard\r\n\twindow.onmousewheel = document.onmousewheel = preventDefault; // older browsers, IE\r\n\twindow.ontouchmove = preventDefault; // mobile\r\n\tdocument.onkeydown = preventDefaultForScrollKeys;\r\n}\r\nfunction enableScroll() {\r\n\tif (window.removeEventListener)\r\n\t\twindow.removeEventListener('DOMMouseScroll', preventDefault, false);\r\n\tdocument.removeEventListener('wheel', preventDefault, { passive: false }); // Enable scrolling in Chrome\r\n\twindow.onmousewheel = document.onmousewheel = null;\r\n\twindow.onwheel = null;\r\n\twindow.ontouchmove = null;\r\n\tdocument.onkeydown = null;\r\n}\r\nfunction preventDefault(e) {\r\n\te = e || window.event;\r\n\tif (e.preventDefault)\r\n\t\te.preventDefault();\r\n\te.returnValue = false;\r\n}\r\nfunction preventDefaultForScrollKeys(e) {\r\n\t/*if (keys[e.keyCode]) {\r\n\t\tpreventDefault(e);\r\n\t\treturn false;\r\n\t}*/\r\n}\r\n\r\nfunction fix_block(scr_fix_block, scr_value) {\r\n\tlet window_width = parseInt(window.innerWidth);\r\n\tlet window_height = parseInt(window.innerHeight);\r\n\tlet header_height = parseInt(document.querySelector('header').offsetHeight) + 15;\r\n\tfor (let index = 0; index < scr_fix_block.length; index++) {\r\n\t\tconst block = scr_fix_block[index];\r\n\t\tlet block_width = block.getAttribute('data-width');\r\n\t\tconst item = block.querySelector('._side-block');\r\n\t\tif (!block_width) { block_width = 0; }\r\n\t\tif (window_width > block_width) {\r\n\t\t\tif (item.offsetHeight < window_height - (header_height + 30)) {\r\n\t\t\t\tif (scr_value > offset(block).top - (header_height + 15)) {\r\n\t\t\t\t\titem.style.cssText = \"position:fixed;bottom:auto;top:\" + header_height + \"px;width:\" + block.offsetWidth + \"px;left:\" + offset(block).left + \"px;\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgotoRelative(item);\r\n\t\t\t\t}\r\n\t\t\t\tif (scr_value > (block.offsetHeight + offset(block).top) - (item.offsetHeight + (header_height + 15))) {\r\n\t\t\t\t\tblock.style.cssText = \"position:relative;\";\r\n\t\t\t\t\titem.style.cssText = \"position:absolute;bottom:0;top:auto;left:0px;width:100%\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tgotoRelative(item);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction gotoRelative(item) {\r\n\t\titem.style.cssText = \"position:relative;bottom:auto;top:0px;left:0px;\";\r\n\t}\r\n}\r\n\r\nif (!isMobile.any()) {\r\n\t//custom_scroll();\r\n\t/*\r\n\twindow.addEventListener('wheel', scroll_animate, {\r\n\t\tcapture: true,\r\n\t\tpassive: true\r\n\t});\r\n\twindow.addEventListener('resize', custom_scroll, {\r\n\t\tcapture: true,\r\n\t\tpassive: true\r\n\t});\r\n\t*/\r\n}\r\nfunction custom_scroll(event) {\r\n\tscr_body.style.overflow = 'hidden';\r\n\tlet window_height = window.innerHeight;\r\n\tlet custom_scroll_line = document.querySelector('._custom-scroll__line');\r\n\tlet custom_scroll_content_height = document.querySelector('.wrapper').offsetHeight;\r\n\tlet custom_cursor_height = Math.min(window_height, Math.round(window_height * (window_height / custom_scroll_content_height)));\r\n\tif (custom_scroll_content_height > window_height) {\r\n\t\tif (!custom_scroll_line) {\r\n\t\t\tlet custom_scroll = document.createElement('div');\r\n\t\t\tcustom_scroll_line = document.createElement('div');\r\n\t\t\tcustom_scroll.setAttribute('class', '_custom-scroll');\r\n\t\t\tcustom_scroll_line.setAttribute('class', '_custom-scroll__line');\r\n\t\t\tcustom_scroll.appendChild(custom_scroll_line);\r\n\t\t\tscr_body.appendChild(custom_scroll);\r\n\t\t}\r\n\t\tcustom_scroll_line.style.height = custom_cursor_height + 'px';\r\n\t}\r\n}\r\n\r\nlet new_pos = pageYOffset;\r\nfunction scroll_animate(event) {\r\n\tlet window_height = window.innerHeight;\r\n\tlet content_height = document.querySelector('.wrapper').offsetHeight;\r\n\tlet start_position = pageYOffset;\r\n\tlet pos_add = 100;\r\n\r\n\tif (event.keyCode == 40 || event.keyCode == 34 || event.deltaX > 0 || event.deltaY < 0) {\r\n\t\tnew_pos = new_pos - pos_add;\r\n\t} else if (event.keyCode == 38 || event.keyCode == 33 || event.deltaX < 0 || event.deltaY > 0) {\r\n\t\tnew_pos = new_pos + pos_add;\r\n\t}\r\n\tif (new_pos > (content_height - window_height)) new_pos = content_height - window_height;\r\n\tif (new_pos < 0) new_pos = 0;\r\n\r\n\tif (scrolling) {\r\n\t\tscrolling = false;\r\n\t\t_goto(new_pos, 1000);\r\n\r\n\t\tlet scr_pause = 100;\r\n\t\tif (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n\t\t\tscr_pause = scr_pause * 2;\r\n\t\t};\r\n\t\tsetTimeout(function () {\r\n\t\t\tscrolling = true;\r\n\t\t\t_goto(new_pos, 1000);\r\n\t\t}, scr_pause);\r\n\t}\r\n\t//If native scroll\r\n\t//disableScroll();\r\n}\r\n\r\n// Dynamic Adapt v.1\r\n// HTML data-da=\"where(uniq class name),when(breakpoint),position(digi)\"\r\n// e.x. data-da=\".item,992,2\"\r\n// Andrikanych Yevhen 2020\r\n// https://www.youtube.com/c/freelancerlifestyle\r\n\r\n\"use strict\";\r\n\r\n\r\nfunction DynamicAdapt(type) {\r\n\tthis.type = type;\r\n}\r\n\r\nDynamicAdapt.prototype.init = function () {\r\n\tconst _this = this;\r\n\t// массив объектов\r\n\tthis.оbjects = [];\r\n\tthis.daClassname = \"_dynamic_adapt_\";\r\n\t// массив DOM-элементов\r\n\tthis.nodes = document.querySelectorAll(\"[data-da]\");\r\n\r\n\t// наполнение оbjects объктами\r\n\tfor (let i = 0; i < this.nodes.length; i++) {\r\n\t\tconst node = this.nodes[i];\r\n\t\tconst data = node.dataset.da.trim();\r\n\t\tconst dataArray = data.split(\",\");\r\n\t\tconst оbject = {};\r\n\t\tоbject.element = node;\r\n\t\tоbject.parent = node.parentNode;\r\n\t\tоbject.destination = document.querySelector(dataArray[0].trim());\r\n\t\tоbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\r\n\t\tоbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\r\n\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\tthis.оbjects.push(оbject);\r\n\t}\r\n\r\n\tthis.arraySort(this.оbjects);\r\n\r\n\t// массив уникальных медиа-запросов\r\n\tthis.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\r\n\t\treturn '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\r\n\t}, this);\r\n\tthis.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\r\n\t\treturn Array.prototype.indexOf.call(self, item) === index;\r\n\t});\r\n\r\n\t// навешивание слушателя на медиа-запрос\r\n\t// и вызов обработчика при первом запуске\r\n\tfor (let i = 0; i < this.mediaQueries.length; i++) {\r\n\t\tconst media = this.mediaQueries[i];\r\n\t\tconst mediaSplit = String.prototype.split.call(media, ',');\r\n\t\tconst matchMedia = window.matchMedia(mediaSplit[0]);\r\n\t\tconst mediaBreakpoint = mediaSplit[1];\r\n\r\n\t\t// массив объектов с подходящим брейкпоинтом\r\n\t\tconst оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\r\n\t\t\treturn item.breakpoint === mediaBreakpoint;\r\n\t\t});\r\n\t\tmatchMedia.addListener(function () {\r\n\t\t\t_this.mediaHandler(matchMedia, оbjectsFilter);\r\n\t\t});\r\n\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\r\n\t}\r\n};\r\n\r\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\r\n\tif (matchMedia.matches) {\r\n\t\tfor (let i = 0; i < оbjects.length; i++) {\r\n\t\t\tconst оbject = оbjects[i];\r\n\t\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\t\tthis.moveTo(оbject.place, оbject.element, оbject.destination);\r\n\t\t}\r\n\t} else {\r\n\t\tfor (let i = 0; i < оbjects.length; i++) {\r\n\t\t\tconst оbject = оbjects[i];\r\n\t\t\tif (оbject.element.classList.contains(this.daClassname)) {\r\n\t\t\t\tthis.moveBack(оbject.parent, оbject.element, оbject.index);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Функция перемещения\r\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\r\n\telement.classList.add(this.daClassname);\r\n\tif (place === 'last' || place >= destination.children.length) {\r\n\t\tdestination.insertAdjacentElement('beforeend', element);\r\n\t\treturn;\r\n\t}\r\n\tif (place === 'first') {\r\n\t\tdestination.insertAdjacentElement('afterbegin', element);\r\n\t\treturn;\r\n\t}\r\n\tdestination.children[place].insertAdjacentElement('beforebegin', element);\r\n}\r\n\r\n// Функция возврата\r\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\r\n\telement.classList.remove(this.daClassname);\r\n\tif (parent.children[index] !== undefined) {\r\n\t\tparent.children[index].insertAdjacentElement('beforebegin', element);\r\n\t} else {\r\n\t\tparent.insertAdjacentElement('beforeend', element);\r\n\t}\r\n}\r\n\r\n// Функция получения индекса внутри родителя\r\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\r\n\tconst array = Array.prototype.slice.call(parent.children);\r\n\treturn Array.prototype.indexOf.call(array, element);\r\n};\r\n\r\n// Функция сортировки массива по breakpoint и place \r\n// по возрастанию для this.type = min\r\n// по убыванию для this.type = max\r\nDynamicAdapt.prototype.arraySort = function (arr) {\r\n\tif (this.type === \"min\") {\r\n\t\tArray.prototype.sort.call(arr, function (a, b) {\r\n\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn a.place - b.place;\r\n\t\t\t}\r\n\r\n\t\t\treturn a.breakpoint - b.breakpoint;\r\n\t\t});\r\n\t} else {\r\n\t\tArray.prototype.sort.call(arr, function (a, b) {\r\n\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn b.place - a.place;\r\n\t\t\t}\r\n\r\n\t\t\treturn b.breakpoint - a.breakpoint;\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n};\r\n\r\nconst da = new DynamicAdapt(\"max\");\r\nda.init();"]}