{"version":3,"sources":["app.js"],"names":["email_test","input","test","value","sliders","document","querySelectorAll","index","length","slider","classList","contains","slider_items","children","add","slider_content","innerHTML","slider_wrapper","createElement","appendChild","sliderScroll","sliders_bild_callback","params","sliderHero","Swiper","slidesPerView","spaceBetween","speed","autoHeight","pagination","el","clickable","navigation","nextEl","prevEl","on","lazyImageReady","ibg","sliderProducts","watchSlidesVisibility","loop","breakpoints","sliderStocks","heroProductPageSlider","sliderSimilarGoods","preloadImages","lazy","sliderBuyMore","sliderCompare","watchOverflow","scrollbar","draggable","slidesPerGroup","touchRatio","simulateTouch","sliderScrollItems","sliderScrollItem","sliderScrollBar","querySelector","observer","observeParents","direction","freeMode","snapOnRelease","mousewheel","releaseOnEdges","updateSize","ua","window","navigator","userAgent","msie","indexOf","isMobile","Android","match","BlackBerry","iOS","Opera","Windows","any","isIE","testWebP","callback","webP","Image","onload","onerror","height","src","i","getAttribute","style","backgroundImage","support","addEventListener","setTimeout","unlock","itemsBlock","specificationsItems","itemsLenght","forEach","specificationsItem","specificationsItemElements","hiddenSpollersBlock","append","link","element","insertAdjacentHTML","setSpollerClass","spollersLinks","spollersLink","e","location","hash","hsh","replace","popup_open","_goto","iconMenu","delay","menuBody","body_lock","toggle","menu_close","remove","body_lock_remove","body_lock_add","body","lock_padding","paddingRight","innerWidth","offsetWidth","spollers","spollersGo","spollerCLick","spoller","target","closest","curent_spollers","_slideUp","nextElementSibling","_slideToggle","spollersInit","spollerMax","cssText","removeEventListener","spollersShowActive","search_in_list","li","parentNode","filter","toUpperCase","item","txtValue","textContent","innerText","display","popup_link","popups","preventDefault","popup_close","video","curent_popup","history","pushState","bodyUnlock","popup","href","split","popup_close_icon","code","duration","transitionProperty","transitionDuration","offsetHeight","overflow","paddingTop","paddingBottom","marginTop","marginBottom","removeProperty","_slideDown","getComputedStyle","_wrap","wrapper","insertBefore","_removeClasses","class_name","_is_hidden","offsetParent","ratings","initRatings","ratingActive","ratingValue","initRating","rating","initRatingVars","setRatingActiveWidth","ratingItems","ratingItem","dataset","ajax","setRatingValue","setRating","ratingActiveWidth","width","async","response","fetch","method","ok","newRating","json","alert","productBar","favourites","favouriteCurrent","colorSchemes","colorScheme","tabLinks","tabsContent","sidebar","tabLink","tabId","tabContent","userbarItems","hideAllUserbarPopups","userbarPopup","itemsWrapper","emptyMessage","getUserBarInfo","activePopup","userbarItem","itemId","searchInput","headerMenu","searchBlock","searchIcon","clearInputIcon","searchHideIcon","searchList","hoverTexts","hoverTextActive","currentHeight","sizeItems","sizeItem","mobSlider","mobSlides","sections","mobSlidesLenght","mobSlide","data","activeSections","buttonAddCart","buttonGoCart","bankInput","bankIconClose","bankSearchList","products","hoverText","productImage","currentHeieght","console","log","productSizes","productSize","orderPage","orderBlock","inputAddSelfCompany","inputIsShowed","event","orderItem","addComapnyBtn","addBlock","addBlocks","hasAttribute","curentIndex","townChoice","forms","form_submit","form","form_validate","formAction","trim","formMethod","message","formData","FormData","form_clean","form_error","error","form_req","form_validate_input","input_g_value","em","form_add_error","form_remove_error","checked","a","parentRadio","parentElement","allRadioButtons","Array","from","some","removeRadioError","input_error","removeChild","input_error_text","inputs","checkboxes","selects","select","select_default_value","select_item","viewPass","setAttribute","getElementsByTagName","selects_init","select_init","selects_close","select_body_options","select_parent","select_modifikator","select_selected_option","select_items","select_options","select_selected_text","text","select_type","select_type_content","select_get_options","select_actions","original","selectTitle","select_input","selectMultiItems","selectedOptions","originalOptions","selectedOptionsText","selectedOption","removeAttribute","selectOptionText","push","selectItemActions","type","select_option","select_option_value","select_option_text","select_search","select_options_content","select_search_text","selects_update_all","inputs_init","input_placeholder_add","input_focus_add","Inputmask","clearIncomplete","clearMaskOnLostFocus","onincomplete","input_clear_mask","mask","placeholder","input_focus_remove","calendarItem","datepicker","customDays","customMonths","overlayButton","overlayPlaceholder","startDay","formatter","date","instance","toLocaleDateString","onSelect","dataFrom","dataTo","setMin","Date","setMax","inputmask","quantityButtons","quantityButton","parseInt","priceSlider","textFrom","textTo","setPriceValues","priceStartValue","priceEndValue","priceStart","priceEnd","noUiSlider","set","create","start","connect","tooltips","wNumb","decimals","prefix","range","min","max","currentScroll","scr_body","scr_blocks","scr_items","scr_fix_block","scr_min_height","scrolling","scrolling_full","scrollDirection","scroll_scroll","src_value","pageYOffset","header","block","block_offset","offset","top","block_height","innerHeight","scr_item","scr_item_offset","scr_item_height","scr_item_point","scroll_load_item","scroll_lazy","fix_block","custom_scroll_line","window_height","content_height","scr_procent","custom_scroll_line_height","transform","lazy_src","lazy_srcset","getElementById","map","scrParallax","scrProcent","blockHeight","prlxItems","prlxItem","prlxItemValue","prlx","disableScroll","full_scroll","swiperScrolls","swiperScroll","getPrevBlockPos","current_block_prev","viewport_height","current_block_prev_height","block_pos","current_block","current_block_pos","current_block_height","current_block_next","previousElementSibling","keyCode","deltaX","deltaY","full_scroll_to_sector","enableScroll","pos","scr_pause","appVersion","full_scroll_pagestart","full_scroll_pageend","blocks","block_name","target_block_class","old_current_link","block_item","current_links","goto_links","goto_link","target_block","options","speedAsDuration","easing","SmoothScroll","animateScroll","rect","getBoundingClientRect","scrollLeft","pageXOffset","documentElement","scrollTop","left","passive","onwheel","onmousewheel","ontouchmove","onkeydown","preventDefaultForScrollKeys","returnValue","scr_value","window_width","header_height","block_width","gotoRelative","custom_scroll","custom_scroll_content_height","custom_cursor_height","Math","round","new_pos","scroll_animate","DynamicAdapt","this","prototype","init","_this","daClassname","nodes","node","dataArray","da","parent","destination","breakpoint","place","indexInParent","arraySort","mediaQueries","call","self","media","mediaSplit","String","matchMedia","mediaBreakpoint","addListener","mediaHandler","matches","moveTo","moveBack","insertAdjacentElement","undefined","array","slice","arr","sort","b"],"mappings":"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","file":"app.min.js","sourcesContent":["function email_test(input) {\r\n\treturn !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n}\r\n//BildSlider\r\nlet sliders = document.querySelectorAll('._swiper');\r\nif (sliders) {\r\n\tfor (let index = 0; index < sliders.length; index++) {\r\n\t\tlet slider = sliders[index];\r\n\t\tif (!slider.classList.contains('swiper-bild')) {\r\n\t\t\tlet slider_items = slider.children;\r\n\t\t\tif (slider_items) {\r\n\t\t\t\tfor (let index = 0; index < slider_items.length; index++) {\r\n\t\t\t\t\tlet el = slider_items[index];\r\n\t\t\t\t\tel.classList.add('swiper-slide');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet slider_content = slider.innerHTML;\r\n\t\t\tlet slider_wrapper = document.createElement('div');\r\n\t\t\tslider_wrapper.classList.add('swiper-wrapper');\r\n\t\t\tslider_wrapper.innerHTML = slider_content;\r\n\t\t\tslider.innerHTML = '';\r\n\t\t\tslider.appendChild(slider_wrapper);\r\n\t\t\tslider.classList.add('swiper-bild');\r\n\r\n\t\t\tif (slider.classList.contains('_swiper_scroll')) {\r\n\t\t\t\tlet sliderScroll = document.createElement('div');\r\n\t\t\t\tsliderScroll.classList.add('swiper-scrollbar');\r\n\t\t\t\tslider.appendChild(sliderScroll);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (slider.classList.contains('_gallery')) {\r\n\t\t\t//slider.data('lightGallery').destroy(true);\r\n\t\t}\r\n\t}\r\n\tsliders_bild_callback();\r\n}\r\n\r\nfunction sliders_bild_callback(params) {}\r\n\r\nlet sliderHero = new Swiper('.hero__slider', {\r\n\tslidesPerView: 1,\r\n\tspaceBetween: 10,\r\n\tspeed: 800,\r\n\tautoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\t//loop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\tpagination: {\r\n\t\tel: '.hero__bullets',\r\n\t\tclickable: true,\r\n\t},\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\t/*\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tautoHeight: true,\r\n\t\t},\r\n\t\t768: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t992: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\t*/\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderProducts = new Swiper('.top-sales__products', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 30,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.top-sales__arrow_right',\r\n\t\tprevEl: '.top-sales__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2.5,\r\n\t\t\tspaceBetween: 16\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderStocks = new Swiper('.stocks__items', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 24,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.stocks__arrow_right',\r\n\t\tprevEl: '.stocks__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1.3,\r\n\t\t\tspaceBetween: 8\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t991.98: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t// 1268: {\r\n\t\t// \tslidesPerView: 4,\r\n\t\t// \tspaceBetween: 30,\r\n\t\t// },\r\n\t\t1388: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t}\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet heroProductPageSlider = new Swiper('.hero-product-page__slider', {\r\n\tslidesPerView: 1,\r\n\tspaceBetween: 10,\r\n\tspeed: 800,\r\n\tautoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\t//loop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\tpagination: {\r\n\t\tel: '.hero__bullets',\r\n\t\tclickable: true,\r\n\t},\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\t/*\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tautoHeight: true,\r\n\t\t},\r\n\t\t768: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t992: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\t*/\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderSimilarGoods = new Swiper('.similar-goods__content', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 30,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\tpreloadImages: false,\r\n\tlazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2.5,\r\n\t\t\tspaceBetween: 16\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderBuyMore = new Swiper('.buy-more__content', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 30,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\t// autoHeight: true,\r\n\t//touchRatio: 0,\r\n\t//simulateTouch: false,\r\n\tloop: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.top-sales__arrow_right',\r\n\t\tprevEl: '.top-sales__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2.5,\r\n\t\t\tspaceBetween: 16\r\n\t\t},\r\n\t\t600: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 20,\r\n\t\t},\r\n\t\t1268: {\r\n\t\t\tslidesPerView: 4,\r\n\t\t\tspaceBetween: 30,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\nlet sliderCompare = new Swiper('.products-comparison__items', {\r\n\tslidesPerView: 3,\r\n\tspeed: 800,\r\n\twatchSlidesVisibility: true,\r\n\twatchOverflow: true,\r\n\t// autoHeight: true,\r\n\t//preloadImages: false,\r\n\t//lazy: true,\r\n\t// Dotts\r\n\t// pagination: {\r\n\t// \tel: '.hero__bullets',\r\n\t// \tclickable: true,\r\n\t// },\r\n\tscrollbar: {\r\n\t\tel: '.products-comparison__scroll-bar',\r\n\t\tdraggable: true,\r\n\t  },\r\n\t// Arrows\r\n\tnavigation: {\r\n\t\tnextEl: '.hero__arrow_right',\r\n\t\tprevEl: '.hero__arrow_left',\r\n\t},\r\n\r\n\tbreakpoints: {\r\n\t\t320: {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tslidesPerGroup: 1,\r\n\t\t\tspaceBetween: 20,\r\n\t\t\ttouchRatio: 1,\r\n\t\t\tsimulateTouch: true,\r\n\t\t\t\r\n\t\t},\r\n\t\t// 475: {\r\n\t\t// \tslidesPerView: 2,\r\n\t\t// },\r\n\t\t// 768: {\r\n\t\t// \tslidesPerView: 2,\r\n\t\t\t\r\n\t\t// },\r\n\t\t1200: {\r\n\t\t\ttouchRatio: 0,\r\n\t\t\tsimulateTouch: false,\r\n\t\t\tspaceBetween: 0,\r\n\t\t},\r\n\t\t1387: {\r\n\t\t\tslidesPerView: 3,\r\n\t\t},\r\n\t},\r\n\r\n\ton: {\r\n\t\tlazyImageReady: function () {\r\n\t\t\tibg();\r\n\t\t},\r\n\t}\r\n\t// And if we need scrollbar\r\n\t//scrollbar: {\r\n\t//\tel: '.swiper-scrollbar',\r\n\t//},\r\n});\r\n\r\n\r\n\r\n//==========================Слайдер с Прогресс баром==============================================================================================================================\r\n\r\n\r\nfunction sliders_bild_callback(params) { }\r\n\r\nlet sliderScrollItems = document.querySelectorAll('._swiper_scroll');\r\nif (sliderScrollItems.length > 0) {\r\n\tfor (let index = 0; index < sliderScrollItems.length; index++) {\r\n\t\tconst sliderScrollItem = sliderScrollItems[index];\r\n\t\tconst sliderScrollBar = sliderScrollItem.querySelector('.swiper-scrollbar');\r\n\t\tconst sliderScroll = new Swiper(sliderScrollItem, {\r\n\t\t\tobserver: true,\r\n\t\t\tobserveParents: true,\r\n\t\t\tdirection: 'vertical',\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tfreeMode: true,\r\n\t\t\tscrollbar: {\r\n\t\t\t\tel: sliderScrollBar,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tsnapOnRelease: false\r\n\t\t\t},\r\n\t\t\tmousewheel: {\r\n\t\t\t\treleaseOnEdges: true,\r\n\t\t\t},\r\n\t\t});\r\n\t\tsliderScroll.scrollbar.updateSize();\r\n\t}\r\n}\r\n\r\n\r\n// //Слайдер с добавлением фракций\r\n// let sliderOurSpaces;\r\n// let allSlides = document.querySelector('._fraction__all'); //Находим блок с счетчиком общего количества фракций\r\n// let allCurrentSlide = document.querySelector('._fraction__current'); //Находим блок с счетчиком текущего номера фракции\r\n// const allSlidesCounter = document.querySelectorAll('.gallery__link').length; //Вычесляем общее количество слайдов\r\n\r\n// sliderOurSpaces = new Swiper('.gallery__slider', {\r\n// \tobserver: true,\r\n// \tobserveParents: true,\r\n// \tslidesPerView: 3,\r\n// \tspaceBetween: 30,\r\n// \twatchSlidesVisibility: true,\r\n// \tspeed: 800,\r\n// \tloop: true,\r\n// \t//preloadImages: false,\r\n// \t//lazy: true,\r\n// \t// Dotts\r\n// \tnavigation: {\r\n// \t\tnextEl: '.header-our-spaces__arrow_right',\r\n// \t\tprevEl: '.header-our-spaces__arrow_left',\r\n// \t},\r\n// \tpagination: {\r\n// \t\tel: '.slider-our-spaces__progress',\r\n// \t\ttype: 'progressbar',\r\n// \t},\r\n// \tbreakpoints: {\r\n// \t\t// when window width is >= 320px\r\n// \t\t320: {\r\n// \t\t\tslidesPerView: 1.1,\r\n// \t\t\tspaceBetween: 15,\r\n// \t\t\t//autoHeight: true,\r\n// \t\t},\r\n// \t\t// when window width is >= 480px\r\n// \t\t550: {\r\n// \t\t\tslidesPerView: 2,\r\n// \t\t\tspaceBetween: 30\r\n// \t\t},\r\n// \t\t// when window width is >= 640px\r\n// \t\t992: {\r\n// \t\t\tslidesPerView: 3,\r\n// \t\t\tspaceBetween: 30\r\n// \t\t}\r\n// \t},\r\n// \ton: {\r\n// \t\tlazyImageReady: function () {\r\n// \t\t\tibg();\r\n// \t\t},\r\n// \t\tinit: function (slider) {\r\n// \t\t\tallSlides.innerHTML = setZeroFormat(allSlidesCounter);\r\n// \t\t},\r\n// \t\tslideChange: function (slider) {\r\n// \t\t\tlet currentSlide = ++slider.realIndex;\r\n// \t\t\tallCurrentSlide.innerHTML = setZeroFormat(currentSlide);\r\n// \t\t},\r\n// \t}\r\n// });\r\n\r\n// function setZeroFormat(item) {\r\n// \tlet result = item >= 10 ? item : \"0\" + item;\r\n// \treturn result;\r\n// }\r\n//Стили под прогресс бар можно найти в ui.scss\r\n\r\n\r\n//===========================Одновременно несколько слайдеров у каждого рабоает пагинация и фракции (для корректной работы нужно одинаковое количество слайдов, controls и tabs)=============================================================================================================================\r\n// const sliderBlocks = document.querySelectorAll('.slider-our-spaces__block'); //Находим все слайдеры (в этом примере каждый слайдер в оболочке находится, соответсвенно мы ищем оболочку по факту)\r\n// function initOurFacilitiesSlider() {\r\n\r\n// \tif (sliderBlocks.length > 0) {\r\n// \t\tsliderBlocks.forEach((sliderBlock, index) => {\r\n// \t\t\tsliderBlock.classList.add('_show'); //Открываем все блоки для правильного считавания информации swipera\r\n// \t\t\tconst slider = sliderBlock.querySelector('.slider-our-spaces__slider'); //Находим внутри оболочки сам слайдер (тот на который мы вешаем класс swiper)\r\n// \t\t\tconst allFraction = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('._fraction__all'); //Получаем общее кол-во фракций у текущего слайдера\r\n// \t\t\tconst currentFraction = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('._fraction__current'); //Получаем текущий номер фракций у текущего слайдера\r\n// \t\t\tconst currentIndexPagination = document.querySelectorAll('.controls-slider-our-spaces__item')[index].querySelector('.slider-our-spaces__progress'); //Получаем текущий индекс пагинации\r\n// \t\t\tconst allSlides = slider.querySelectorAll('.slider-our-spaces__slide').length; //Получаем общее колличество слайдов у текущего слайдера\r\n// \t\t\tconst sliderItem = new Swiper(slider, {\r\n// \t\t\t\tobserver: true,\r\n// \t\t\t\tobserveParents: true,\r\n// \t\t\t\tslidesPerView: 1,\r\n// \t\t\t\tspaceBetween: 0,\r\n// \t\t\t\t//watchSlidesVisibility: true,\r\n// \t\t\t\tspeed: 800,\r\n// \t\t\t\tloop: true,\r\n// \t\t\t\tpagination: {\r\n// \t\t\t\t\tel: currentIndexPagination, //Подставляем найденое выше значение\r\n// \t\t\t\t\ttype: 'progressbar',\r\n// \t\t\t\t},\r\n// \t\t\t\ton: {\r\n// \t\t\t\t\tlazyImageReady: function () {\r\n// \t\t\t\t\t\tibg();\r\n// \t\t\t\t\t},\r\n// \t\t\t\t\tinit: function () {\r\n// \t\t\t\t\t\tallFraction.innerHTML = setZeroFormat(allSlides);\r\n// \t\t\t\t\t},\r\n// \t\t\t\t\tslideChange: function (sl) {\r\n// \t\t\t\t\t\tlet currentSlide = ++sl.realIndex;\r\n// \t\t\t\t\t\tcurrentFraction.innerHTML = setZeroFormat(currentSlide);\r\n// \t\t\t\t\t},\r\n// \t\t\t\t}\r\n// \t\t\t});\r\n// \t\t\tsliderBlock.classList.remove('_show'); //После инициализации слайдера скрываем от показа все блоки\r\n// \t\t});\r\n// \t}\r\n// }\r\n// initOurFacilitiesSlider();\r\n\r\n// const tabsWrapper = document.querySelector('.slider-our-spaces__tabs'); //Находим оболочку с табами\r\n\r\n// //Вешаем прослушку на клик по табам\r\n// tabsWrapper.addEventListener(\"click\", function (e) {\r\n// \tconst targetElement = e.target; //Получаем индекс обьекта по которому нажали именно\r\n// \tif (targetElement.classList.contains('tabs-slider-our-spaces__item')) { //Проверяем что нажали именно по табу\r\n// \t\tconst tabsElements = Array.from(document.querySelectorAll('.tabs-slider-our-spaces__item')); //Получаем коллекцию всех табов и переделываем их в массив с помощью Array.from\r\n// \t\ttabsElements.forEach(item => item.classList.remove('_active')); //Убираем у всех табов класс\r\n// \t\ttargetElement.classList.add('_active'); //Добавлем класс только нажатому\r\n\r\n// \t\tconst index = tabsElements.findIndex(item => item.classList.contains('_active')); //Находим нужный таб с классом active\r\n\r\n// \t\tconst slidersControls = document.querySelectorAll('.controls-slider-our-spaces__item');\r\n// \t\tslidersControls.forEach(item => item.classList.remove('_active'));\r\n\r\n// \t\tsliderBlocks.forEach(item => item.classList.remove('_active')); //Убираем у всех слайдеров класс active\r\n\r\n// \t\tslidersControls[index].classList.add('_active');\r\n// \t\tsliderBlocks[index].classList.add('_active'); //Добавлем только нужному слайдеру класс active\r\n// \t}\r\n// });\r\n\r\n\r\n\r\n\r\n\r\n// //========================================================================================================================================================\r\n// function setZeroFormat(item) {\r\n// \tlet result = item >= 10 ? item : \"0\" + item;\r\n// \treturn result;\r\n// }\r\n\r\n\r\n\r\nvar ua = window.navigator.userAgent;\r\nvar msie = ua.indexOf(\"MSIE \");\r\nvar isMobile = {\r\n\tAndroid: function () {\r\n\t\treturn navigator.userAgent.match(/Android/i);\r\n\t},\r\n\tBlackBerry: function () {\r\n\t\treturn navigator.userAgent.match(/BlackBerry/i);\r\n\t},\r\n\tiOS: function () {\r\n\t\treturn navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n\t},\r\n\tOpera: function () {\r\n\t\treturn navigator.userAgent.match(/Opera Mini/i);\r\n\t},\r\n\tWindows: function () {\r\n\t\treturn navigator.userAgent.match(/IEMobile/i);\r\n\t},\r\n\tany: function () {\r\n\t\treturn (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n\t}\r\n};\r\n\r\nfunction isIE() {\r\n\tua = navigator.userAgent;\r\n\tvar is_ie = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n\treturn is_ie;\r\n}\r\nif (isIE()) {\r\n\tdocument.querySelector('html').classList.add('ie');\r\n}\r\nif (isMobile.any()) {\r\n\tdocument.querySelector('html').classList.add('_touch');\r\n}\r\n\r\nfunction testWebP(callback) {\r\n\tvar webP = new Image();\r\n\twebP.onload = webP.onerror = function () {\r\n\t\tcallback(webP.height == 2);\r\n\t};\r\n\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\ntestWebP(function (support) {\r\n\tif (support === true) {\r\n\t\tdocument.querySelector('html').classList.add('_webp');\r\n\t} else {\r\n\t\tdocument.querySelector('html').classList.add('_no-webp');\r\n\t}\r\n});\r\n\r\nfunction ibg() {\r\n\tif (isIE()) {\r\n\t\tlet ibg = document.querySelectorAll(\"._ibg\");\r\n\t\tfor (var i = 0; i < ibg.length; i++) {\r\n\t\t\tif (ibg[i].querySelector('img') && ibg[i].querySelector('img').getAttribute('src') != null) {\r\n\t\t\t\tibg[i].style.backgroundImage = 'url(' + ibg[i].querySelector('img').getAttribute('src') + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nibg();\r\n\r\nwindow.addEventListener(\"load\", function () {\r\n\tif (document.querySelector('.wrapper')) {\r\n\t\tsetTimeout(function () {\r\n\t\t\tdocument.querySelector('.wrapper').classList.add('_loaded');\r\n\t\t}, 0);\r\n\t}\r\n});\r\n\r\nlet unlock = true;\r\n\r\n\r\n//=====================Init specifications spollers if specifications items lenght > 5================================\r\nif (isMobile.any()) {\r\n\tlet itemsBlock = document.querySelector('.specifications__content');\r\n\tlet specificationsItems = document.querySelectorAll('.specifications__item');\r\n\tlet itemsLenght = specificationsItems.length;\r\n\r\n\tif (itemsBlock) {\r\n\t\titemsBlock.classList.add('_spollers');\r\n\t}\r\n\r\n\r\n\tif (itemsLenght > 0) {\r\n\t\tspecificationsItems.forEach(specificationsItem => {\r\n\t\t\tlet specificationsItemElements =specificationsItem.querySelectorAll('.specifications__row');\r\n\t\t\tif (specificationsItemElements.length > 5) {\r\n\t\t\t\tlet hiddenSpollersBlock = document.createElement('div');\r\n\t\t\t\thiddenSpollersBlock.classList.add('_hide');\r\n\t\t\t\tspecificationsItem.querySelector('.specifications__body').append(hiddenSpollersBlock);\r\n\r\n\r\n\t\t\t\tlet link = '<button type=\"button\" class=\"specifications__link\">Смотреть все характеристики</button>';\r\n\t\t\t\tfor (let index = 0; index < specificationsItemElements.length; index++) {\r\n\t\t\t\t\tconst element = specificationsItemElements[index];\r\n\t\t\t\t\tif (index == 4) {\r\n\t\t\t\t\t\telement.insertAdjacentHTML('afterend', link);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (index > 4) {\r\n\t\t\t\t\t\thiddenSpollersBlock.append(element);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsetSpollerClass();\r\n\t}\r\n}\r\nfunction setSpollerClass() {\r\n\tlet spollersLinks =document.querySelectorAll('.specifications__link');\r\n\tif (spollersLinks) {\r\n\t\tspollersLinks.forEach(spollersLink => {\r\n\t\t\tspollersLink.classList.add('_spoller');\r\n\t\r\n\t\t\tspollersLink.addEventListener(\"click\", function(e) {\r\n\t\t\t\tspollersLink.classList.add('_hide');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n//=================\r\n//ActionsOnHash\r\nif (location.hash) {\r\n\tconst hsh = location.hash.replace('#', '');\r\n\tif (document.querySelector('.popup_' + hsh)) {\r\n\t\tpopup_open(hsh);\r\n\t} else if (document.querySelector('div.' + hsh)) {\r\n\t\t_goto(document.querySelector('.' + hsh), 500, '');\r\n\t}\r\n}\r\n//=================\r\n//Menu\r\nlet iconMenu = document.querySelector(\".icon-menu\");\r\nif (iconMenu != null) {\r\n\tlet delay = 500;\r\n\tlet menuBody = document.querySelector(\".menu__body\");\r\n\ticonMenu.addEventListener(\"click\", function (e) {\r\n\t\tif (unlock) {\r\n\t\t\tbody_lock(delay);\r\n\t\t\ticonMenu.classList.toggle(\"_active\");\r\n\t\t\tmenuBody.classList.toggle(\"_active\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\nfunction menu_close() {\r\n\tlet iconMenu = document.querySelector(\".icon-menu\");\r\n\tlet menuBody = document.querySelector(\".menu__body\");\r\n\ticonMenu.classList.remove(\"_active\");\r\n\tmenuBody.classList.remove(\"_active\");\r\n}\r\n//=================\r\n//BodyLock\r\nfunction body_lock(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (body.classList.contains('_lock')) {\r\n\t\tbody_lock_remove(delay);\r\n\t} else {\r\n\t\tbody_lock_add(delay);\r\n\t}\r\n}\r\n\r\nfunction body_lock_remove(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (unlock) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tsetTimeout(() => {\r\n\t\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\t\tconst el = lock_padding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t\tbody.style.paddingRight = '0px';\r\n\t\t\tbody.classList.remove(\"_lock\");\r\n\t\t}, delay);\r\n\r\n\t\tunlock = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tunlock = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\n\r\nfunction body_lock_add(delay) {\r\n\tlet body = document.querySelector(\"body\");\r\n\tif (unlock) {\r\n\t\tlet lock_padding = document.querySelectorAll(\"._lp\");\r\n\t\tfor (let index = 0; index < lock_padding.length; index++) {\r\n\t\t\tconst el = lock_padding[index];\r\n\t\t\tel.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\t}\r\n\t\tbody.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\t\tbody.classList.add(\"_lock\");\r\n\r\n\t\tunlock = false;\r\n\t\tsetTimeout(function () {\r\n\t\t\tunlock = true;\r\n\t\t}, delay);\r\n\t}\r\n}\r\n\r\n//=================\r\n//Spollers\r\nlet spollers = document.querySelectorAll(\"._spoller\");\r\nlet spollersGo = true;\r\nif (spollers.length > 0) {\r\n\r\n\tfunction spollerCLick(e) {\r\n\t\tconst spoller = e.target.classList.contains('_spoller') ? e.target : e.target.closest('._spoller');\r\n\t\tif (spollersGo) {\r\n\t\t\tspollersGo = false;\r\n\r\n\t\t\tif (spoller.closest('._spollers').classList.contains('_one')) {\r\n\t\t\t\tlet curent_spollers = spoller.closest('._spollers').querySelectorAll('._spoller');\r\n\t\t\t\tfor (let i = 0; i < curent_spollers.length; i++) {\r\n\t\t\t\t\tlet el = curent_spollers[i];\r\n\t\t\t\t\tif (el != spoller) {\r\n\t\t\t\t\t\tel.classList.remove('_active');\r\n\t\t\t\t\t\t_slideUp(el.nextElementSibling);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tspoller.classList.toggle('_active');\r\n\t\t\t_slideToggle(spoller.nextElementSibling);\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tspollersGo = true;\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spollersInit() {\r\n\t\tfor (let index = 0; index < spollers.length; index++) {\r\n\t\t\tconst spoller = spollers[index];\r\n\t\t\tlet spollerMax = spoller.getAttribute('data-max');\r\n\r\n\t\t\tif (spollerMax && window.innerWidth > spollerMax) {\r\n\t\t\t\tif (spoller.classList.contains('_init')) {\r\n\t\t\t\t\tspoller.classList.remove('_active');\r\n\t\t\t\t\tspoller.classList.remove('_init');\r\n\t\t\t\t\tspoller.nextElementSibling.style.cssText = '';\r\n\t\t\t\t\tspoller.removeEventListener(\"click\", spollerCLick);\r\n\t\t\t\t}\r\n\t\t\t} else if (!spoller.classList.contains('_init')) {\r\n\t\t\t\tspoller.classList.add('_init');\r\n\t\t\t\tspoller.addEventListener(\"click\", spollerCLick);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spollersShowActive() {\r\n\t\tfor (let index = 0; index < spollers.length; index++) {\r\n\t\t\tconst spoller = spollers[index];\r\n\t\t\tif (spoller.classList.contains('_active')) {\r\n\t\t\t\t_slideToggle(spoller.nextElementSibling);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\twindow.addEventListener(\"resize\", spollersInit);\r\n\r\n\tsetTimeout(function () {\r\n\t\tspollersShowActive();\r\n\t\tspollersInit();\r\n\t}, 0);\r\n}\r\n\r\n//=================\r\n//SearchInList\r\nfunction search_in_list(input) {\r\n\tlet ul = input.parentNode.querySelector('ul')\r\n\tlet li = ul.querySelectorAll('li');\r\n\tlet filter = input.value.toUpperCase();\r\n\r\n\tfor (i = 0; i < li.length; i++) {\r\n\t\tlet el = li[i];\r\n\t\tlet item = el;\r\n\t\ttxtValue = item.textContent || item.innerText;\r\n\t\tif (txtValue.toUpperCase().indexOf(filter) > -1) {\r\n\t\t\tel.style.display = \"\";\r\n\t\t} else {\r\n\t\t\tel.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//=================\r\n//Popups\r\nlet popup_link = document.querySelectorAll('._popup-link');\r\nlet popups = document.querySelectorAll('.popup');\r\nfor (let index = 0; index < popup_link.length; index++) {\r\n\tconst el = popup_link[index];\r\n\tel.addEventListener('click', function (e) {\r\n\t\tif (unlock) {\r\n\t\t\tlet item = el.getAttribute('href').replace('#', '');\r\n\t\t\tlet video = el.getAttribute('data-video');\r\n\t\t\tpopup_open(item, video);\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t})\r\n}\r\nfor (let index = 0; index < popups.length; index++) {\r\n\tconst popup = popups[index];\r\n\tpopup.addEventListener(\"click\", function (e) {\r\n\t\tif (!e.target.closest('.popup__body')) {\r\n\t\t\tpopup_close(e.target.closest('.popup'));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction popup_open(item, video = '') {\r\n\tlet activePopup = document.querySelectorAll('.popup._active');\r\n\tif (activePopup.length > 0) {\r\n\t\tpopup_close('', false);\r\n\t}\r\n\tlet curent_popup = document.querySelector('.popup_' + item);\r\n\tif (curent_popup && unlock) {\r\n\t\tif (video != '' && video != null) {\r\n\t\t\tlet popup_video = document.querySelector('.popup_video');\r\n\t\t\tpopup_video.querySelector('.popup__video').innerHTML = '<iframe src=\"https://www.youtube.com/embed/' + video + '?autoplay=1\"  allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>';\r\n\t\t}\r\n\t\tif (!document.querySelector('.menu__body._active')) {\r\n\t\t\tbody_lock_add(500);\r\n\t\t}\r\n\t\tcurent_popup.classList.add('_active');\r\n\t\thistory.pushState('', '', '#' + item);\r\n\t}\r\n}\r\n\r\nfunction popup_close(item, bodyUnlock = true) {\r\n\tif (unlock) {\r\n\t\tif (!item) {\r\n\t\t\tfor (let index = 0; index < popups.length; index++) {\r\n\t\t\t\tconst popup = popups[index];\r\n\t\t\t\tlet video = popup.querySelector('.popup__video');\r\n\t\t\t\tif (video) {\r\n\t\t\t\t\tvideo.innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t\tpopup.classList.remove('_active');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet video = item.querySelector('.popup__video');\r\n\t\t\tif (video) {\r\n\t\t\t\tvideo.innerHTML = '';\r\n\t\t\t}\r\n\t\t\titem.classList.remove('_active');\r\n\t\t}\r\n\t\tif (!document.querySelector('.menu__body._active') && bodyUnlock) {\r\n\t\t\tbody_lock_remove(500);\r\n\t\t}\r\n\t\thistory.pushState('', '', window.location.href.split('#')[0]);\r\n\t}\r\n}\r\nlet popup_close_icon = document.querySelectorAll('.popup__close,._popup-close');\r\nif (popup_close_icon) {\r\n\tfor (let index = 0; index < popup_close_icon.length; index++) {\r\n\t\tconst el = popup_close_icon[index];\r\n\t\tel.addEventListener('click', function () {\r\n\t\t\tpopup_close(el.closest('.popup'));\r\n\t\t})\r\n\t}\r\n}\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (e.code === 'Escape') {\r\n\t\tpopup_close();\r\n\t}\r\n});\r\n\r\n//=================\r\n//SlideToggle\r\nlet _slideUp = (target, duration = 500) => {\r\n\ttarget.style.transitionProperty = 'height, margin, padding';\r\n\ttarget.style.transitionDuration = duration + 'ms';\r\n\ttarget.style.height = target.offsetHeight + 'px';\r\n\ttarget.offsetHeight;\r\n\ttarget.style.overflow = 'hidden';\r\n\ttarget.style.height = 0;\r\n\ttarget.style.paddingTop = 0;\r\n\ttarget.style.paddingBottom = 0;\r\n\ttarget.style.marginTop = 0;\r\n\ttarget.style.marginBottom = 0;\r\n\twindow.setTimeout(() => {\r\n\t\ttarget.style.display = 'none';\r\n\t\ttarget.style.removeProperty('height');\r\n\t\ttarget.style.removeProperty('padding-top');\r\n\t\ttarget.style.removeProperty('padding-bottom');\r\n\t\ttarget.style.removeProperty('margin-top');\r\n\t\ttarget.style.removeProperty('margin-bottom');\r\n\t\ttarget.style.removeProperty('overflow');\r\n\t\ttarget.style.removeProperty('transition-duration');\r\n\t\ttarget.style.removeProperty('transition-property');\r\n\t\ttarget.classList.remove('_slide');\r\n\t}, duration);\r\n}\r\nlet _slideDown = (target, duration = 500) => {\r\n\ttarget.style.removeProperty('display');\r\n\tlet display = window.getComputedStyle(target).display;\r\n\tif (display === 'none')\r\n\t\tdisplay = 'block';\r\n\r\n\ttarget.style.display = display;\r\n\tlet height = target.offsetHeight;\r\n\ttarget.style.overflow = 'hidden';\r\n\ttarget.style.height = 0;\r\n\ttarget.style.paddingTop = 0;\r\n\ttarget.style.paddingBottom = 0;\r\n\ttarget.style.marginTop = 0;\r\n\ttarget.style.marginBottom = 0;\r\n\ttarget.offsetHeight;\r\n\ttarget.style.transitionProperty = \"height, margin, padding\";\r\n\ttarget.style.transitionDuration = duration + 'ms';\r\n\ttarget.style.height = height + 'px';\r\n\ttarget.style.removeProperty('padding-top');\r\n\ttarget.style.removeProperty('padding-bottom');\r\n\ttarget.style.removeProperty('margin-top');\r\n\ttarget.style.removeProperty('margin-bottom');\r\n\twindow.setTimeout(() => {\r\n\t\ttarget.style.removeProperty('height');\r\n\t\ttarget.style.removeProperty('overflow');\r\n\t\ttarget.style.removeProperty('transition-duration');\r\n\t\ttarget.style.removeProperty('transition-property');\r\n\t\ttarget.classList.remove('_slide');\r\n\t}, duration);\r\n}\r\nlet _slideToggle = (target, duration = 500) => {\r\n\tif (!target.classList.contains('_slide')) {\r\n\t\ttarget.classList.add('_slide');\r\n\t\tif (window.getComputedStyle(target).display === 'none') {\r\n\t\t\treturn _slideDown(target, duration);\r\n\t\t} else {\r\n\t\t\treturn _slideUp(target, duration);\r\n\t\t}\r\n\t}\r\n}\r\n//========================================\r\n//Wrap\r\nfunction _wrap(el, wrapper) {\r\n\tel.parentNode.insertBefore(wrapper, el);\r\n\twrapper.appendChild(el);\r\n}\r\n//========================================\r\n//RemoveClasses\r\nfunction _removeClasses(el, class_name) {\r\n\tfor (var i = 0; i < el.length; i++) {\r\n\t\tel[i].classList.remove(class_name);\r\n\t}\r\n}\r\n//========================================\r\n//IsHidden\r\nfunction _is_hidden(el) {\r\n\treturn (el.offsetParent === null)\r\n}\r\n\r\n//==RATING======================================\r\nconst ratings = document.querySelectorAll('.rating');\r\nif (ratings.length > 0) {\r\n\tinitRatings();\r\n}\r\n// Основная функция\r\nfunction initRatings() {\r\n\tlet ratingActive, ratingValue;\r\n\t// \"Бегаем\" по всем рейтингам на странице\r\n\tfor (let index = 0; index < ratings.length; index++) {\r\n\t\tconst rating = ratings[index];\r\n\t\tinitRating(rating);\r\n\t}\r\n\r\n\t// Инициализируем конкретный рейтинг\r\n\tfunction initRating(rating) {\r\n\t\tinitRatingVars(rating);\r\n\r\n\t\tsetRatingActiveWidth();\r\n\r\n\t\tif (rating.classList.contains('rating_set')) {\r\n\t\t\tsetRating(rating);\r\n\t\t}\r\n\t}\r\n\r\n\t// Инициализайция переменных\r\n\tfunction initRatingVars(rating) {\r\n\t\tratingActive = rating.querySelector('.rating__active');\r\n\t\tratingValue = rating.querySelector('.rating__value');\r\n\t}\r\n\t// Изменяем ширину активных звезд\r\n\tfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\r\n\t\tconst ratingActiveWidth = index / 0.05;\r\n\t\tratingActive.style.width = `${ratingActiveWidth}%`;\r\n\t}\r\n\t// Возможность указать оценку \r\n\tfunction setRating(rating) {\r\n\t\tconst ratingItems = rating.querySelectorAll('.rating__item');\r\n\t\tfor (let index = 0; index < ratingItems.length; index++) {\r\n\t\t\tconst ratingItem = ratingItems[index];\r\n\t\t\tratingItem.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\t// Обновление переменных\r\n\t\t\t\tinitRatingVars(rating);\r\n\t\t\t\t// Обновление активных звезд\r\n\t\t\t\tsetRatingActiveWidth(ratingItem.value);\r\n\t\t\t});\r\n\t\t\tratingItem.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\t// Обновление активных звезд\r\n\t\t\t\tsetRatingActiveWidth();\r\n\t\t\t});\r\n\t\t\tratingItem.addEventListener(\"click\", function (e) {\r\n\t\t\t\t// Обновление переменных\r\n\t\t\t\tinitRatingVars(rating);\r\n\r\n\t\t\t\tif (rating.dataset.ajax) {\r\n\t\t\t\t\t// \"Отправить\" на сервер\r\n\t\t\t\t\tsetRatingValue(ratingItem.value, rating);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Отобразить указанную оцнку\r\n\t\t\t\t\tratingValue.innerHTML = index + 1;\r\n\t\t\t\t\tsetRatingActiveWidth();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync function setRatingValue(value, rating) {\r\n\t\tif (!rating.classList.contains('rating_sending')) {\r\n\t\t\trating.classList.add('rating_sending');\r\n\r\n\t\t\t// Отправика данных (value) на сервер\r\n\t\t\tlet response = await fetch('rating.json', {\r\n\t\t\t\tmethod: 'GET',\r\n\r\n\t\t\t\t//body: JSON.stringify({\r\n\t\t\t\t//\tuserRating: value\r\n\t\t\t\t//}),\r\n\t\t\t\t//headers: {\r\n\t\t\t\t//\t'content-type': 'application/json'\r\n\t\t\t\t//}\r\n\r\n\t\t\t});\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tconst result = await response.json();\r\n\r\n\t\t\t\t// Получаем новый рейтинг\r\n\t\t\t\tconst newRating = result.newRating;\r\n\r\n\t\t\t\t// Вывод нового среднего результата\r\n\t\t\t\tratingValue.innerHTML = newRating;\r\n\r\n\t\t\t\t// Обновление активных звезд\r\n\t\t\t\tsetRatingActiveWidth();\r\n\r\n\t\t\t\trating.classList.remove('rating_sending');\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Ошибка\");\r\n\r\n\t\t\t\trating.classList.remove('rating_sending');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n//=====================Определяем есть ли на странице \"бар\" товара и добавляем соответсвующий класс футеру ================================\r\nlet productBar = document.querySelector('.footer__product-bar');\r\nif (productBar) {\r\n\tdocument.querySelector('.footer').classList.add('_bar-true');\r\n}\r\n\r\n//=====================Add to favorites================================\r\nlet favourites = document.querySelectorAll('._favourites');\r\nif (favourites.length > 0) {\r\n\tfavourites.forEach(favouriteCurrent => {\r\n\t\tfavouriteCurrent.addEventListener(\"click\", function (e) {\r\n\t\t\tfavouriteCurrent.classList.toggle('_active');\r\n\t\t});\r\n\t});\r\n}\r\n//=====================Choose color scheme for product================================\r\nlet colorSchemes = document.querySelectorAll('.color-scheme-product');\r\n\r\nif (colorSchemes.length > 0) {\r\n\tcolorSchemes.forEach(colorScheme => {\r\n\t\tif (colorScheme.closest('.product__colors')) {\r\n\t\t\tcolorScheme.addEventListener(\"click\", function (e) {\r\n\t\t\t\tlet parentBlock = colorScheme.closest('.product__colors');\r\n\t\t\t\tlet colorSchemesActive = parentBlock.querySelectorAll('.color-scheme-product');\r\n\t\t\t\t_removeClasses(colorSchemesActive, '_active');\r\n\t\t\t\tcolorScheme.classList.add('_active');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//=====================Шапка. Показ\\скрытие сайдбара================================\r\n\r\nlet tabLinks = document.querySelectorAll('._tab-link');\r\nlet tabsContent = document.querySelectorAll('._tab-content');\r\nlet sidebar = document.querySelector('.sidebar');\r\n\r\nif (tabLinks.length > 0 && !isMobile.any()) {\r\n\ttabLinks.forEach(tabLink => {\r\n\t\ttabLink.addEventListener(\"click\", function (e) {\r\n\r\n\t\t\tlet tabId = tabLink.getAttribute('data-id');\r\n\t\t\tlet tabContent = document.querySelector('._tab-content[data-id=\"' + tabId + '\"]');\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (!tabLink.classList.contains('_active')) {\r\n\t\t\t\t_removeClasses(tabLinks, '_active');\r\n\t\t\t\t_removeClasses(tabsContent, '_active');\r\n\r\n\t\t\t\ttabLink.classList.add('_active');\r\n\r\n\t\t\t\tif (tabContent) {\r\n\t\t\t\t\ttabContent.classList.add('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tdocument.querySelector('.sidebar__item').classList.add('_active');\r\n\t\t\t\t\tdocument.querySelector('.sidebar__content').classList.add('_active');\r\n\t\t\t\t\tsidebar.classList.add('_lock');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('menu__link') && !tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tsidebar.classList.remove('_lock');\r\n\t\t\t\t}\r\n\t\t\t\t// body_lock();\r\n\r\n\t\t\t} else {\r\n\t\t\t\ttabLink.classList.remove('_active');\r\n\t\t\t\tif (tabContent) {\r\n\t\t\t\t\ttabContent.classList.remove('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (tabLink.classList.contains('_first')) {\r\n\t\t\t\t\tdocument.querySelector('.sidebar__item').classList.remove('_active');\r\n\t\t\t\t\tdocument.querySelector('.sidebar__content').classList.remove('_active');\r\n\t\t\t\t\tsidebar.classList.remove('_lock');\r\n\t\t\t\t}\r\n\t\t\t\t// body_lock_remove();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n//=====================Шапка. UserBar. Показ информации о мини корзине, сравнения товаров, строки поиска================================\r\n\r\nlet userbarItems = document.querySelectorAll('.user-bar__item');\r\n\r\nuserbarItems.forEach(userbarItem => {\r\n\tlet itemId = userbarItem.getAttribute('data-id');\r\n\tlet activePopup = document.querySelector('.user-bar__popup[data-id=\"' + itemId + '\"]');\r\n\r\n\tuserbarItem.addEventListener(\"mouseenter\", function (e) {\r\n\t\tif (activePopup) {\r\n\t\t\thideAllUserbarPopups();\r\n\t\t\tgetUserBarInfo(activePopup);\r\n\r\n\t\t\tactivePopup.classList.add('_active');\r\n\t\t\tactivePopup.classList.add('_show');\r\n\r\n\t\t\tactivePopup.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\tactivePopup.classList.remove('_show');\r\n\t\t\t})\r\n\r\n\t\t\tactivePopup.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\t\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\t\t\tactivePopup.classList.remove('_active');\r\n\t\t\t\titemsWrapper.classList.remove('_active');\r\n\t\t\t\temptyMessage.classList.remove('_active');\r\n\r\n\t\t\t});\r\n\r\n\t\t\tuserbarItem.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tif (!activePopup.classList.contains('_show')) {\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\t\t\t\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\t\t\t\t\tactivePopup.classList.remove('_active');\r\n\t\t\t\t\t\titemsWrapper.classList.remove('_active');\r\n\t\t\t\t\t\temptyMessage.classList.remove('_active');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, 500);\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n});\r\n\r\nfunction hideAllUserbarPopups(params) {\r\n\tlet userbarPopups = document.querySelectorAll('.user-bar__popup');\r\n\r\n\tuserbarPopups.forEach(userbarPopup => {\r\n\t\tlet itemsWrapper = userbarPopup.querySelector('.mini-cart__items');\r\n\t\tlet emptyMessage = userbarPopup.querySelector('.mini-cart__empty');\r\n\t\tuserbarPopup.classList.remove('_active');\r\n\t\titemsWrapper.classList.remove('_active');\r\n\t\temptyMessage.classList.remove('_active');\r\n\t});\r\n}\r\n\r\nfunction getUserBarInfo(activePopup) {\r\n\tlet itemsToShow = activePopup.querySelectorAll('.mini-cart__item');\r\n\tlet itemsLenght = itemsToShow.length;\r\n\r\n\tif (itemsLenght > 0) {\r\n\t\tlet itemsWrapper = activePopup.querySelector('.mini-cart__items');\r\n\t\titemsWrapper.classList.add('_active');\r\n\t} else {\r\n\t\tlet emptyMessage = activePopup.querySelector('.mini-cart__empty');\r\n\t\temptyMessage.classList.add('_active');\r\n\t}\r\n}\r\n\r\nlet searchInput = document.querySelector('.user-bar__input');\r\nlet headerMenu = document.querySelector('.main-header__menu');\r\nlet searchBlock = document.querySelector('.user-bar__item_search');\r\nlet searchIcon = document.querySelector('.user-bar__icon svg');\r\nlet clearInputIcon = document.querySelector('.user-bar__clear-input-btn');\r\nlet searchHideIcon = document.querySelector('.user-bar__hide-search');\r\nlet searchList = document.querySelector('.user-bar__search-list');\r\n\r\nsearchBlock.addEventListener(\"click\", function (e) {\r\n\tif (e.target.contains(searchIcon)) {\r\n\t\tsearchInput.classList.add('_active');\r\n\t\theaderMenu.classList.add('hidden');\r\n\t\tsearchBlock.classList.add('_active');\r\n\t}\r\n\tif (e.target.contains(clearInputIcon)) {\r\n\t\tsearchInput.value = \"\";\r\n\t}\r\n\r\n\tsearchInput.addEventListener('input', function (e) {\r\n\t\tsearchList.classList.add('_show');\r\n\t});\r\n\r\n\tif (e.target.contains(searchHideIcon)) {\r\n\t\tsearchInput.classList.remove('_active');\r\n\t\theaderMenu.classList.remove('hidden');\r\n\t\tsearchBlock.classList.remove('_active');\r\n\t\tsearchList.classList.remove('_show');\r\n\t}\r\n\t\r\n\r\n\tif (isMobile.any()) {\r\n\t\tsearchInput.addEventListener('blur', function (e) {\r\n\t\t\tsearchInput.classList.remove('_active');\r\n\t\t\theaderMenu.classList.remove('hidden');\r\n\t\t\tsearchBlock.classList.remove('_active');\r\n\t\t\tsearchList.classList.remove('_show');\r\n\t\t\tsearchInput.value = \"\";\r\n\t\t});\r\n\t\t}\r\n}); \r\n\r\n\r\n//=====================================================\r\n//Скрипт находит карточки категорий и вычесляет описание большого размера, которые могут поломать верстку и установливает для них высоту. \r\n\r\nlet hoverTexts =document.querySelectorAll('.category__text-hover p');\r\n\r\n\r\nhoverTexts.forEach(hoverTextActive => {\r\n\tlet currentHeight = hoverTextActive.offsetHeight;\r\n\r\n\tif (currentHeight > 90 && currentHeight < 130) {\r\n\t\thoverTextActive.parentNode.classList.add('_medium');\r\n\t}\r\n\r\n\tif (currentHeight > 145) {\r\n\t\thoverTextActive.parentNode.classList.add('_large');\r\n\t}\r\n});\r\n\r\n//=====================Выбираем размер рамы продукта================================\r\nlet sizeItems =document.querySelectorAll('.size-picking__item');\r\n\r\nif (sizeItems.length > 0) {\r\n\tsizeItems.forEach(sizeItem => {\r\n\t\tsizeItem.addEventListener(\"click\", function(e) {\r\n\t\t\t\t_removeClasses(sizeItems, '_active');\r\n\t\t\t\tsizeItem.classList.add('_active');\r\n\t\t});\r\n\t});\r\n}\r\n//=====================================================\r\nif (isMobile.any()) {\r\n\t\r\n\tlet mobSlider = document.querySelector('.mob-slider__content');\r\n\tlet mobSlides = document.querySelectorAll('.mob-slider__slide');\r\n\tlet sections = document.querySelectorAll('section[data-index]');\r\n\tlet mobSlidesLenght = mobSlides.length;\r\n\tif (mobSlider) {\r\n\t\tif (mobSlidesLenght > 0) {\r\n\t\t\tfor (let index = 0; index < mobSlides.length; index++) {\r\n\t\t\t\tconst mobSlide = mobSlides[index];\r\n\t\t\t\tmobSlide.addEventListener(\"click\", function(e) {\r\n\t\t\t\t\tlet i = mobSlide.getAttribute('data-index');\r\n\t\t\t\t\tlet data = 'section[data-index=\"' + i + '\"]';\r\n\t\t\t\t\tlet activeSections = document.querySelectorAll(data);\r\n\r\n\r\n\t\t\t\t\t_removeClasses(mobSlides, '_active');\r\n\t\t\t\t\t_removeClasses(sections, '_active');\r\n\t\t\t\t\tif (index == 2) {\r\n\t\t\t\t\t\tmobSlider.classList.add('_active');\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tif (mobSlider.classList.contains('_active')) {\r\n\t\t\t\t\t\t\tmobSlider.classList.remove('_active');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmobSlide.classList.add('_active');\r\n\t\t\t\t\tactiveSections.forEach(element => {\r\n\t\t\t\t\t\telement.classList.add('_active');\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//=====================Страница товара. Фиксированый инфобар. Смена кнопки добавить\\перейти в корзину по нажатию ================================\r\nlet buttonAddCart = document.querySelector('.product-bar__btn_add-cart');\r\nlet buttonGoCart = document.querySelector('.product-bar__btn_go-cart');\r\n\r\nif (buttonAddCart) {\r\n\tbuttonAddCart.addEventListener(\"click\", function(e) {\r\n\t\tbuttonAddCart.classList.add('_hide');\r\n\t\tbuttonGoCart.classList.add('_active');\r\n\t});\r\n}\r\n\r\n//=====================Очистка input при выборе города, по клику на иконку закрытия================================\r\nlet bankInput = document.querySelector('.town-search__input');\r\nlet bankIconClose = document.querySelector('.town-search__icon_close');\r\nlet bankSearchList = document.querySelector('.town-search__info');\r\n\r\nif (bankIconClose) {\r\n\tbankIconClose.addEventListener(\"click\", function(e) {\r\n\t\tif (bankInput) {\r\n\t\t\tbankInput.value = \"\";\r\n\t\t\tif (bankSearchList) {\r\n\t\t\t\tbankSearchList.classList.remove('_show');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\nif (bankInput) {\r\n\tbankInput.addEventListener('input', function (e) {\r\n\t\tif (bankSearchList) {\r\n\t\t\tbankSearchList.classList.add('_show');\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//=====================================================\r\n\r\nif (!isMobile.any()) {\r\n\tlet products =document.querySelectorAll('.catalogue__items .product');\r\n\r\n\tif (products) {\r\n\t\tproducts.forEach(e => {\r\n\t\t\tlet hoverText = e.querySelector('.text-hover-product')\r\n\t\t\tlet productImage = e.querySelector('.product__image-wrapper');\r\n\t\t\r\n\t\t\tif (hoverText && !isMobile.any()) {\r\n\t\t\t\tlet productMainHeight = e.offsetHeight;\r\n\t\t\t\tlet hoverHeight = hoverText.offsetHeight;\r\n\t\t\t\tlet currentHeieght = productMainHeight - hoverHeight;\r\n\t\t\t\tconsole.log(currentHeieght);\r\n\t\t\t\thoverText.classList.add('_hide');\r\n\t\t\t\te.style.height = currentHeieght + \"px\";\r\n\t\t\t\te.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\t\tproductImage.classList.add('_hide-image');\r\n\t\t\t\t\t_slideDown(hoverText);\r\n\t\t\t\t});\r\n\t\t\t\te.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\t\tconsole.log('test');\r\n\t\t\t\t\tproductImage.classList.remove('_hide-image');\r\n\t\t\t\t\t_slideUp(hoverText);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n//=====================Choose color scheme for product================================\r\nlet productSizes = document.querySelectorAll('.text-hover-product__size');\r\n\r\nif (productSizes.length > 0) {\r\n\tproductSizes.forEach(productSize => {\r\n\t\tif (productSize.closest('.text-hover-product__sizes')) {\r\n\t\t\tproductSize.addEventListener(\"click\", function (e) {\r\n\t\t\t\tlet parentBlock = productSize.closest('.text-hover-product__sizes');\r\n\t\t\t\tlet productSizesActive = parentBlock.querySelectorAll('.text-hover-product__size');\r\n\t\t\t\t_removeClasses(productSizesActive, '_active');\r\n\t\t\t\tproductSize.classList.add('_active');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n//===========Страница офрмления заказа. Показ\\скрытие допп информации/ ================================================================\r\nlet orderPage = document.querySelector('.order');\r\nif (orderPage) {\r\n\tlet orderBlock = document.querySelectorAll('.delivery-order__items');\r\n\tlet inputAddSelfCompany = document.querySelector('.delivery-order__self-company');\r\n\r\n\tlet inputIsShowed = false;\r\n\r\n\r\n\torderBlock.forEach(element => {\r\n\t\telement.addEventListener('click', event => {\r\n\t\t\tlet orderItem = event.target.closest('.item-delivery');\r\n\t\t\tlet addComapnyBtn = event.target.closest('.item-delivery__info_by-self');\r\n\t\t\tlet addBlock = event.target.closest('._add-label');\r\n\t\t\tlet addBlocks =document.querySelectorAll('._add-block');\r\n\t\t\t\r\n\t\t\tif (addBlock) {\r\n\t\t\t\t_removeClasses(addBlocks,'_show');\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (inputIsShowed) {\r\n\t\t\t\t_slideUp(inputAddSelfCompany);\r\n\t\t\t\tinputIsShowed = false;\r\n\t\t\t}\r\n\t\t\tif (addComapnyBtn) {\r\n\t\t\t\t_slideDown(inputAddSelfCompany);\r\n\t\t\t\tinputIsShowed = true;\r\n\t\t\t}\r\n\t\t\tif (!orderItem) return;\r\n\t\t\tif (!element.contains(orderItem)) return;\r\n\t\t\tif(orderItem.classList.contains('_inactive')) return;\r\n\t\t\t\r\n\t\t\tlet curentOrderBlock = orderItem.closest('.delivery-order__items');\r\n\t\t\tlet currentOrderItems = curentOrderBlock.querySelectorAll('.item-delivery');\r\n\t\t\t_removeClasses(currentOrderItems, '_active');\r\n\r\n\t\t\torderItem.classList.add('_active');\r\n\r\n\t\t\tif (orderItem.hasAttribute('data-id')) {\r\n\t\t\t\tlet curentIndex = orderItem.getAttribute('data-id');\r\n\t\t\t\tvar currentAddBlock = document.querySelector('._add-block[data-id=\"'+curentIndex+'\"]');\r\n\t\t\t\tcurrentAddBlock.classList.add('_show');\r\n\t\t\t}\r\n\t\t  });\r\n\t\t  \r\n\t});\r\n\r\n}\r\n\r\n//=====================Всплывающая плашка о выборе города================================\r\n\r\nlet townChoice = document.querySelector('.town-choise');\r\n\twindow.addEventListener(\"load\", function () {\r\n\t\tif (townChoice) {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\ttownChoice.classList.add('_active');\r\n\t\t\t}, 0);\r\n\r\n\t\t\ttownChoice.addEventListener(\"click\", e => {\r\n\t\t\t\tconsole.log(e.target);\r\n\t\t\t\t\r\n\t\t\t\tif (e.target.classList.contains('town-choise__btn_yes')) {\r\n\t\t\t\t\ttownChoice.classList.remove('_active');\r\n\t\t\t\t}\r\n\t\t\t\tif (e.target.classList.contains('town-choise__btn_no')) {\r\n\t\t\t\t\ttownChoice.classList.remove('_active');\r\n\t\t\t\t\tpopup_open('choice-town');\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tlet close = e.target.closest('.town-choise__close');\r\n\t\t\t\tif (!close) return;\r\n\t\t\t\ttownChoice.classList.remove('_active');\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n//let btn = document.querySelectorAll('button[type=\"submit\"],input[type=\"submit\"]');\r\nlet forms = document.querySelectorAll('form');\r\nif (forms.length > 0) {\r\n\tfor (let index = 0; index < forms.length; index++) {\r\n\t\tconst el = forms[index];\r\n\t\tel.addEventListener('submit', form_submit);\r\n\t}\r\n}\r\nasync function form_submit(e) {\r\n\tlet btn = e.target;\r\n\tlet form = btn.closest('form');\r\n\tlet error = form_validate(form);\r\n\tif (error == 0) {\r\n\t\tlet formAction = form.getAttribute('action') ? form.getAttribute('action').trim() : '#';\r\n\t\tlet formMethod = form.getAttribute('method') ? form.getAttribute('method').trim() : 'GET';\r\n\t\tconst message = form.getAttribute('data-message');\r\n\t\tconst ajax = form.getAttribute('data-ajax');\r\n\t\tconst test = form.getAttribute('data-test');\r\n\r\n\t\t//SendForm\r\n\t\tif (ajax) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet formData = new FormData(form);\r\n\t\t\tform.classList.add('_sending');\r\n\t\t\tlet response = await fetch(formAction, {\r\n\t\t\t\tmethod: formMethod,\r\n\t\t\t\tbody: formData\r\n\t\t\t});\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tlet result = await response.json();\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t\tif (message) {\r\n\t\t\t\t\tpopup_open(message + '-message');\r\n\t\t\t\t}\r\n\t\t\t\tform_clean(form);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Ошибка\");\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If test\r\n\t\tif (test) {\r\n\t\t\te.preventDefault();\r\n\t\t\tpopup_open(message + '-message');\r\n\t\t\tform_clean(form);\r\n\t\t}\r\n\t} else {\r\n\t\tlet form_error = form.querySelectorAll('._error');\r\n\t\tif (form_error && form.classList.contains('_goto-error')) {\r\n\t\t\t_goto(form_error[0], 1000, 50);\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t}\r\n}\r\n\r\nfunction form_validate(form) {\r\n\tlet error = 0;\r\n\tlet form_req = form.querySelectorAll('._req');\r\n\tif (form_req.length > 0) {\r\n\t\tfor (let index = 0; index < form_req.length; index++) {\r\n\t\t\tconst el = form_req[index];\r\n\t\t\tif (!_is_hidden(el)) {\r\n\t\t\t\terror += form_validate_input(el);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn error;\r\n}\r\n\r\nfunction form_validate_input(input) {\r\n\tlet error = 0;\r\n\tlet input_g_value = input.getAttribute('data-value');\r\n\r\n\r\n\tif (input.getAttribute(\"name\") == \"email\" || input.classList.contains(\"_email\")) {\r\n\t\tif (input.value != input_g_value) {\r\n\t\t\tlet em = input.value.replace(\" \", \"\");\r\n\t\t\tinput.value = em;\r\n\t\t}\r\n\t\tif (email_test(input) || input.value == input_g_value) {\r\n\t\t\tform_add_error(input);\r\n\t\t\terror++;\r\n\t\t} else {\r\n\t\t\tform_remove_error(input);\r\n\t\t}\r\n\t} else if (input.getAttribute(\"type\") == \"checkbox\" && input.checked == false) {\r\n\t\tform_add_error(input);\r\n\t\terror++;\r\n\t} else if (input.getAttribute(\"type\") == \"radio\") {\r\n\t\tlet a = input.getAttribute('name');\r\n\t\tlet parentRadio = input.parentElement;\r\n\t\tlet allRadioButtons = parentRadio.querySelectorAll('input[name=\"' + a + '\"]');\r\n\t\tvar radioGroupO = Array.from(allRadioButtons);\r\n\r\n\t\tfunction isCheked(i) {\r\n\t\t\treturn i.checked == true;\r\n\t\t}\r\n\r\n\t\tif (radioGroupO.some(isCheked) == false) {\r\n\t\t\tform_add_error(parentRadio);\r\n\t\t\tremoveRadioError(parentRadio, allRadioButtons);\r\n\t\t\terror++;\r\n\t\t}\r\n\t} else {\r\n\t\tif (input.value == '' || input.value == input_g_value) {\r\n\t\t\tform_add_error(input);\r\n\t\t\terror++;\r\n\t\t} else {\r\n\t\t\tform_remove_error(input);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn error;\r\n}\r\nfunction removeRadioError (parentRadio, allRadioButtons) {\r\n\tallRadioButtons.forEach(element => {\r\n\t\telement.addEventListener(\"change\", function(event) {\r\n\t\t\tif (parentRadio.classList.contains('_error')) {\r\n\t\t\t\tform_remove_error(parentRadio);\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n}\r\n\r\nfunction form_add_error(input) {\r\n\tinput.classList.add('_error');\r\n\tinput.parentElement.classList.add('_error');\r\n\r\n\tlet input_error = input.parentElement.querySelector('.form__error');\r\n\tif (input_error) {\r\n\t\tinput.parentElement.removeChild(input_error);\r\n\t}\r\n\tlet input_error_text = input.getAttribute('data-error');\r\n\tif (input_error_text && input_error_text != '') {\r\n\t\tinput.parentElement.insertAdjacentHTML('beforeend', '<div class=\"form__error\">' + input_error_text + '</div>');\r\n\t}\r\n}\r\n\r\nfunction form_remove_error(input) {\r\n\tconsole.log('remove');\r\n\tconsole.log(input);\r\n\tinput.classList.remove('_error');\r\n\tinput.parentElement.classList.remove('_error');\r\n\r\n\tlet input_error = input.parentElement.querySelector('.form__error');\r\n\tif (input_error) {\r\n\t\tinput.parentElement.removeChild(input_error);\r\n\t}\r\n}\r\n\r\nfunction form_clean(form) {\r\n\tlet inputs = form.querySelectorAll('input,textarea');\r\n\tfor (let index = 0; index < inputs.length; index++) {\r\n\t\tconst el = inputs[index];\r\n\t\tel.parentElement.classList.remove('_focus');\r\n\t\tel.classList.remove('_focus');\r\n\t\tel.value = el.getAttribute('data-value');\r\n\t}\r\n\tlet checkboxes = form.querySelectorAll('.checkbox__input');\r\n\tif (checkboxes.length > 0) {\r\n\t\tfor (let index = 0; index < checkboxes.length; index++) {\r\n\t\t\tconst checkbox = checkboxes[index];\r\n\t\t\tcheckbox.checked = false;\r\n\t\t}\r\n\t}\r\n\tlet selects = form.querySelectorAll('select');\r\n\tif (selects.length > 0) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tconst select_default_value = select.getAttribute('data-default');\r\n\t\t\tselect.value = select_default_value;\r\n\t\t\tselect_item(select);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet viewPass = document.querySelectorAll('.form__viewpass');\r\nfor (let index = 0; index < viewPass.length; index++) {\r\n\tconst element = viewPass[index];\r\n\telement.addEventListener(\"click\", function (e) {\r\n\t\tif (element.classList.contains('_active')) {\r\n\t\t\telement.parentElement.querySelector('input').setAttribute(\"type\", \"password\");\r\n\t\t} else {\r\n\t\t\telement.parentElement.querySelector('input').setAttribute(\"type\", \"text\");\r\n\t\t}\r\n\t\telement.classList.toggle('_active');\r\n\t});\r\n}\r\n\r\n//Select\r\nlet selects = document.getElementsByTagName('select');\r\nif (selects.length > 0) {\r\n\tselects_init();\r\n}\r\n\r\nfunction selects_init() {\r\n\tfor (let index = 0; index < selects.length; index++) {\r\n\t\tconst select = selects[index];\r\n\t\tselect_init(select);\r\n\t}\r\n\t//select_callback();\r\n\tdocument.addEventListener('click', function (e) {\r\n\t\tselects_close(e);\r\n\t});\r\n\tdocument.addEventListener('keydown', function (e) {\r\n\t\tif (e.code === 'Escape') {\r\n\t\t\tselects_close(e);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction selects_close(e) {\r\n\tconst selects = document.querySelectorAll('.select');\r\n\tif (!e.target.closest('.select') && !e.target.classList.contains('_option')) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tconst select_body_options = select.querySelector('.select__options');\r\n\t\t\tselect.classList.remove('_active');\r\n\t\t\t_slideUp(select_body_options, 100);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction select_init(select) {\r\n\tconst select_parent = select.parentElement;\r\n\tconst select_modifikator = select.getAttribute('class');\r\n\tconst select_selected_option = select.querySelector('option:checked');\r\n\tselect.setAttribute('data-default', select_selected_option.value);\r\n\tselect.style.display = 'none';\r\n\r\n\tselect_parent.insertAdjacentHTML('beforeend', '<div class=\"select select_' + select_modifikator + '\"></div>');\r\n\r\n\tlet new_select = select.parentElement.querySelector('.select');\r\n\tnew_select.appendChild(select);\r\n\tselect_item(select);\r\n}\r\n\r\nfunction select_item(select) {\r\n\tconst select_parent = select.parentElement;\r\n\tconst select_items = select_parent.querySelector('.select__item');\r\n\tconst select_options = select.querySelectorAll('option');\r\n\tconst select_selected_option = select.querySelector('option:checked');\r\n\tconst select_selected_text = select_selected_option.text;\r\n\tconst select_type = select.getAttribute('data-type');\r\n\r\n\tif (select_items) {\r\n\t\tselect_items.remove();\r\n\t}\r\n\r\n\tlet select_type_content = '';\r\n\tif (select_type == 'input') {\r\n\t\tselect_type_content = '<div class=\"select__value icon-select-arrow\"><input autocomplete=\"off\" type=\"text\" name=\"form[]\" value=\"' + select_selected_text + '\" data-error=\"Ошибка\" data-value=\"' + select_selected_text + '\" class=\"select__input\"></div>';\r\n\t} else {\r\n\t\tselect_type_content = '<div class=\"select__value icon-select-arrow\"><span>' + select_selected_text + '</span></div>';\r\n\t}\r\n\r\n\tselect_parent.insertAdjacentHTML('beforeend',\r\n\t\t'<div class=\"select__item\">' +\r\n\t\t'<div class=\"select__title\">' + select_type_content + '</div>' +\r\n\t\t'<div class=\"select__options\">' + select_get_options(select_options) + '</div>' +\r\n\t\t'</div></div>');\r\n\r\n\tselect_actions(select, select_parent);\r\n}\r\n\r\nfunction select_actions(original, select) {\r\n\tconst select_item = select.querySelector('.select__item');\r\n\tconst selectTitle = select.querySelector('.select__title');\r\n\tconst select_body_options = select.querySelector('.select__options');\r\n\tconst select_options = select.querySelectorAll('.select__option');\r\n\tconst select_type = original.getAttribute('data-type');\r\n\tconst select_input = select.querySelector('.select__input');\r\n\r\n\tselectTitle.addEventListener('click', function (e) {\r\n\t\tselectItemActions();\r\n\t});\r\n\r\n\tfunction selectMultiItems() {\r\n\t\tlet selectedOptions = select.querySelectorAll('.select__option');\r\n\t\tlet originalOptions = original.querySelectorAll('option');\r\n\t\tlet selectedOptionsText = [];\r\n\t\tfor (let index = 0; index < selectedOptions.length; index++) {\r\n\t\t\tconst selectedOption = selectedOptions[index];\r\n\t\t\toriginalOptions[index].removeAttribute('selected');\r\n\t\t\tif (selectedOption.classList.contains('_selected')) {\r\n\t\t\t\tconst selectOptionText = selectedOption.innerHTML;\r\n\t\t\t\tselectedOptionsText.push(selectOptionText);\r\n\t\t\t\toriginalOptions[index].setAttribute('selected', 'selected');\r\n\t\t\t}\r\n\t\t}\r\n\t\tselect.querySelector('.select__value').innerHTML = '<span>' + selectedOptionsText + '</span>';\r\n\t}\r\n\r\n\tfunction selectItemActions(type) {\r\n\t\tif (!type) {\r\n\t\t\tlet selects = document.querySelectorAll('.select');\r\n\t\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\t\tconst select = selects[index];\r\n\t\t\t\tconst select_body_options = select.querySelector('.select__options');\r\n\t\t\t\tif (select != select_item.closest('.select')) {\r\n\t\t\t\t\tselect.classList.remove('_active');\r\n\t\t\t\t\t_slideUp(select_body_options, 100);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_slideToggle(select_body_options, 100);\r\n\t\t\tselect.classList.toggle('_active');\r\n\t\t}\r\n\t}\r\n\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\tconst select_option = select_options[index];\r\n\t\tconst select_option_value = select_option.getAttribute('data-value');\r\n\t\tconst select_option_text = select_option.innerHTML;\r\n\r\n\t\tif (select_type == 'input') {\r\n\t\t\tselect_input.addEventListener('keyup', select_search);\r\n\t\t} else {\r\n\t\t\tif (select_option.getAttribute('data-value') == original.value && !original.hasAttribute('multiple')) {\r\n\t\t\t\tselect_option.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t\tselect_option.addEventListener('click', function () {\r\n\t\t\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\t\t\tconst el = select_options[index];\r\n\t\t\t\tel.style.display = 'block';\r\n\t\t\t}\r\n\t\t\tif (select_type == 'input') {\r\n\t\t\t\tselect_input.value = select_option_text;\r\n\t\t\t\toriginal.value = select_option_value;\r\n\t\t\t} else {\r\n\t\t\t\tif (original.hasAttribute('multiple')) {\r\n\t\t\t\t\tselect_option.classList.toggle('_selected');\r\n\t\t\t\t\tselectMultiItems();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselect.querySelector('.select__value').innerHTML = '<span>' + select_option_text + '</span>';\r\n\t\t\t\t\toriginal.value = select_option_value;\r\n\t\t\t\t\tselect_option.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet type;\r\n\t\t\tif (original.hasAttribute('multiple')) {\r\n\t\t\t\ttype = 'multiple';\r\n\t\t\t}\r\n\t\t\tselectItemActions(type);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction select_get_options(select_options) {\r\n\tif (select_options) {\r\n\t\tlet select_options_content = '';\r\n\t\tfor (let index = 0; index < select_options.length; index++) {\r\n\t\t\tconst select_option = select_options[index];\r\n\t\t\tconst select_option_value = select_option.value;\r\n\t\t\tif (select_option_value != '') {\r\n\t\t\t\tconst select_option_text = select_option.innerHTML;\r\n\t\t\t\tselect_options_content = select_options_content + '<div data-value=\"' + select_option_value + '\" class=\"select__option\">' + select_option_text + '</div>';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn select_options_content;\r\n\t}\r\n}\r\n\r\nfunction select_search(e) {\r\n\tlet select_block = e.target.closest('.select ').querySelector('.select__options');\r\n\tlet select_options = e.target.closest('.select ').querySelectorAll('.select__option');\r\n\tlet select_search_text = e.target.value.toUpperCase();\r\n\r\n\tfor (let i = 0; i < select_options.length; i++) {\r\n\t\tlet select_option = select_options[i];\r\n\t\tlet select_txt_value = select_option.textContent || select_option.innerText;\r\n\t\tif (select_txt_value.toUpperCase().indexOf(select_search_text) > -1) {\r\n\t\t\tselect_option.style.display = \"\";\r\n\t\t} else {\r\n\t\t\tselect_option.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction selects_update_all() {\r\n\tlet selects = document.querySelectorAll('select');\r\n\tif (selects) {\r\n\t\tfor (let index = 0; index < selects.length; index++) {\r\n\t\t\tconst select = selects[index];\r\n\t\t\tselect_item(select);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//Placeholers\r\nlet inputs = document.querySelectorAll('input[data-value],textarea[data-value]');\r\ninputs_init(inputs);\r\n\r\nfunction inputs_init(inputs) {\r\n\tif (inputs.length > 0) {\r\n\t\tfor (let index = 0; index < inputs.length; index++) {\r\n\t\t\tconst input = inputs[index];\r\n\t\t\tconst input_g_value = input.getAttribute('data-value');\r\n\t\t\tinput_placeholder_add(input);\r\n\t\t\tif (input.value != '' && input.value != input_g_value) {\r\n\t\t\t\tinput_focus_add(input);\r\n\t\t\t}\r\n\t\t\tinput.addEventListener('focus', function (e) {\r\n\t\t\t\tif (input.value == input_g_value) {\r\n\t\t\t\t\tinput_focus_add(input);\r\n\t\t\t\t\tinput.value = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (input.getAttribute('data-type') === \"pass\" && !input.parentElement.querySelector('.form__viewpass').classList.contains('_active')) {\r\n\t\t\t\t\tinput.setAttribute('type', 'password');\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_date')) {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"99.99.9999\", {\r\n\t\t\t\t\t\t//\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_phone')) {\r\n\t\t\t\t\t//'+7(999) 999 9999'\r\n\t\t\t\t\t//'+38(999) 999 9999'\r\n\t\t\t\t\t//'+375(99)999-99-99'\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"+375 (99) 9999999\", {\r\n\t\t\t\t\t\t//\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t}\r\n\t\t\t\tif (input.classList.contains('_digital')) {\r\n\t\t\t\t\tinput.classList.add('_mask');\r\n\t\t\t\t\tInputmask(\"9{1,}\", {\r\n\t\t\t\t\t\t\"placeholder\": '',\r\n\t\t\t\t\t\tclearIncomplete: true,\r\n\t\t\t\t\t\tclearMaskOnLostFocus: true,\r\n\t\t\t\t\t\tonincomplete: function () {\r\n\t\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).mask(input);\r\n\t\t\t\t}\r\n\t\t\t\tform_remove_error(input);\r\n\t\t\t});\r\n\t\t\tinput.addEventListener('blur', function (e) {\r\n\t\t\t\tif (input.value == '') {\r\n\t\t\t\t\tinput.value = input_g_value;\r\n\t\t\t\t\tinput_focus_remove(input);\r\n\t\t\t\t\tif (input.classList.contains('_mask')) {\r\n\t\t\t\t\t\tinput_clear_mask(input, input_g_value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (input.getAttribute('data-type') === \"pass\") {\r\n\t\t\t\t\t\tinput.setAttribute('type', 'text');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (input.classList.contains('_date')) {\r\n\t\t\t\tconst calendarItem = datepicker(input, {\r\n\t\t\t\t\tcustomDays: [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"],\r\n\t\t\t\t\tcustomMonths: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\r\n\t\t\t\t\toverlayButton: 'Применить',\r\n\t\t\t\t\toverlayPlaceholder: 'Год (4 цифры)',\r\n\t\t\t\t\tstartDay: 1,\r\n\t\t\t\t\tformatter: (input, date, instance) => {\r\n\t\t\t\t\t\tconst value = date.toLocaleDateString()\r\n\t\t\t\t\t\tinput.value = value\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonSelect: function (input, instance, date) {\r\n\t\t\t\t\t\tinput_focus_add(input.el);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst dataFrom = input.getAttribute('data-from');\r\n\t\t\t\tconst dataTo = input.getAttribute('data-to');\r\n\t\t\t\tif (dataFrom) {\r\n\t\t\t\t\tcalendarItem.setMin(new Date(dataFrom));\r\n\t\t\t\t}\r\n\t\t\t\tif (dataTo) {\r\n\t\t\t\t\tcalendarItem.setMax(new Date(dataTo));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction input_placeholder_add(input) {\r\n\tconst input_g_value = input.getAttribute('data-value');\r\n\tif (input.value == '' && input_g_value != '') {\r\n\t\tinput.value = input_g_value;\r\n\t}\r\n}\r\n\r\nfunction input_focus_add(input) {\r\n\tif (!input.classList.contains('user-bar__input') && !input.classList.contains('town-search__input')) {\r\n\t\tinput.classList.add('_focus');\r\n\t\tinput.parentElement.classList.add('_focus');\r\n\t}\r\n\r\n}\r\n\r\nfunction input_focus_remove(input) {\r\n\tif (!input.classList.contains('user-bar__input') && !input.classList.contains('town-search__input')) {\r\n\t\tinput.classList.remove('_focus');\r\n\t\tinput.parentElement.classList.remove('_focus');\r\n\t};\r\n}\r\n\r\nfunction input_clear_mask(input, input_g_value) {\r\n\tinput.inputmask.remove();\r\n\tinput.value = input_g_value;\r\n\tinput_focus_remove(input);\r\n}\r\n\r\n//QUANTITY\r\nlet quantityButtons = document.querySelectorAll('.quantity__button');\r\nif (quantityButtons.length > 0) {\r\n\tfor (let index = 0; index < quantityButtons.length; index++) {\r\n\t\tconst quantityButton = quantityButtons[index];\r\n\t\tquantityButton.addEventListener(\"click\", function (e) {\r\n\t\t\tlet value = parseInt(quantityButton.closest('.quantity').querySelector('input').value);\r\n\t\t\tif (quantityButton.classList.contains('quantity__button_plus')) {\r\n\t\t\t\tvalue++;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = value - 1;\r\n\t\t\t\tif (value < 1) {\r\n\t\t\t\t\tvalue = 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tquantityButton.closest('.quantity').querySelector('input').value = value;\r\n\t\t});\r\n\t}\r\n}\r\n\r\n//RANGE\r\nconst priceSlider = document.querySelector('.price-filter__slider');\r\nif (priceSlider) {\r\n\r\n\tlet textFrom = priceSlider.getAttribute('data-from');\r\n\tlet textTo = priceSlider.getAttribute('data-to');\r\n\r\n\tnoUiSlider.create(priceSlider, {\r\n\t\tstart: [0, 200000],\r\n\t\tconnect: true,\r\n\t\ttooltips: [wNumb({\r\n\t\t\tdecimals: 0,\r\n\t\t\tprefix: textFrom + ' '\r\n\t\t}), wNumb({\r\n\t\t\tdecimals: 0,\r\n\t\t\tprefix: textTo + ' '\r\n\t\t})],\r\n\t\trange: {\r\n\t\t\t'min': [0],\r\n\t\t\t'max': [200000]\r\n\t\t}\r\n\t});\r\n\r\n\t/*\r\n\tconst priceStart = document.getElementById('price-start');\r\n\tconst priceEnd = document.getElementById('price-end');\r\n\tpriceStart.addEventListener('change', setPriceValues);\r\n\tpriceEnd.addEventListener('change', setPriceValues);\r\n\t*/\r\n\r\n\tfunction setPriceValues() {\r\n\t\tlet priceStartValue;\r\n\t\tlet priceEndValue;\r\n\t\tif (priceStart.value != '') {\r\n\t\t\tpriceStartValue = priceStart.value;\r\n\t\t}\r\n\t\tif (priceEnd.value != '') {\r\n\t\t\tpriceEndValue = priceEnd.value;\r\n\t\t}\r\n\t\tpriceSlider.noUiSlider.set([priceStartValue, priceEndValue]);\r\n\t}\r\n}\r\nlet scr_body = document.querySelector('body');\r\nlet scr_blocks = document.querySelectorAll('._scr-sector');\r\nlet scr_items = document.querySelectorAll('._scr-item');\r\nlet scr_fix_block = document.querySelectorAll('._side-wrapper');\r\nlet scr_min_height = 750;\r\n\r\nlet scrolling = true;\r\nlet scrolling_full = true;\r\n\r\nlet scrollDirection = 0;\r\n\r\nlet currentScroll;\r\n\r\n//ScrollOnScroll\r\nwindow.addEventListener('scroll', scroll_scroll);\r\nfunction scroll_scroll() {\r\n\tlet src_value = currentScroll = pageYOffset;\r\n\tlet header = document.querySelector('header.header');\r\n\tif (header !== null) {\r\n\t\tif (src_value > 10) {\r\n\t\t\theader.classList.add('_scroll');\r\n\t\t} else {\r\n\t\t\theader.classList.remove('_scroll');\r\n\t\t}\r\n\t}\r\n\tif (scr_blocks.length > 0) {\r\n\t\tfor (let index = 0; index < scr_blocks.length; index++) {\r\n\t\t\tlet block = scr_blocks[index];\r\n\t\t\tlet block_offset = offset(block).top;\r\n\t\t\tlet block_height = block.offsetHeight;\r\n\r\n\t\t\t/*\r\n\t\t\tif ((src_value > block_offset - block_height) && src_value < (block_offset + block_height) && window.innerHeight > scr_min_height && window.innerWidth > 992) {\r\n\t\t\t\tlet scrProcent = (src_value - block_offset) / block_height * 100;\r\n\t\t\t\tscrParallax(block, scrProcent, block_height);\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 1.5) && pageYOffset < (block_offset + block_height) - window.innerHeight / 5) {\r\n\t\t\t\tblock.classList.add('_scr-sector_active');\r\n\t\t\t} else {\r\n\t\t\t\tif (block.classList.contains('_scr-sector_active')) {\r\n\t\t\t\t\tblock.classList.remove('_scr-sector_active');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 2) && pageYOffset < (block_offset + block_height) - window.innerHeight / 5) {\r\n\t\t\t\tif (!block.classList.contains('_scr-sector_current')) {\r\n\t\t\t\t\tblock.classList.add('_scr-sector_current');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (block.classList.contains('_scr-sector_current')) {\r\n\t\t\t\t\tblock.classList.remove('_scr-sector_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (scr_items.length > 0) {\r\n\t\tfor (let index = 0; index < scr_items.length; index++) {\r\n\t\t\tlet scr_item = scr_items[index];\r\n\t\t\tlet scr_item_offset = offset(scr_item).top;\r\n\t\t\tlet scr_item_height = scr_item.offsetHeight;\r\n\r\n\r\n\t\t\tlet scr_item_point = window.innerHeight - (window.innerHeight - scr_item_height / 3);\r\n\t\t\tif (window.innerHeight > scr_item_height) {\r\n\t\t\t\tscr_item_point = window.innerHeight - scr_item_height / 3;\r\n\t\t\t}\r\n\r\n\t\t\tif ((src_value > scr_item_offset - scr_item_point) && src_value < (scr_item_offset + scr_item_height)) {\r\n\t\t\t\tscr_item.classList.add('_active');\r\n\t\t\t\tscroll_load_item(scr_item);\r\n\t\t\t} else {\r\n\t\t\t\tscr_item.classList.remove('_active');\r\n\t\t\t}\r\n\t\t\tif (((src_value > scr_item_offset - window.innerHeight))) {\r\n\t\t\t\tif (scr_item.querySelectorAll('._lazy').length > 0) {\r\n\t\t\t\t\tscroll_lazy(scr_item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (scr_fix_block.length > 0) {\r\n\t\tfix_block(scr_fix_block, src_value);\r\n\t}\r\n\tlet custom_scroll_line = document.querySelector('._custom-scroll__line');\r\n\tif (custom_scroll_line) {\r\n\t\tlet window_height = window.innerHeight;\r\n\t\tlet content_height = document.querySelector('.wrapper').offsetHeight;\r\n\t\tlet scr_procent = (pageYOffset / (content_height - window_height)) * 100;\r\n\t\tlet custom_scroll_line_height = custom_scroll_line.offsetHeight;\r\n\t\tcustom_scroll_line.style.transform = \"translateY(\" + (window_height - custom_scroll_line_height) / 100 * scr_procent + \"px)\";\r\n\t}\r\n\tif (src_value > scrollDirection) {\r\n\t\t// downscroll code\r\n\t} else {\r\n\t\t// upscroll code\r\n\t}\r\n\tscrollDirection = src_value <= 0 ? 0 : src_value;\r\n}\r\nsetTimeout(function () {\r\n\t//document.addEventListener(\"DOMContentLoaded\", scroll_scroll);\r\n\tscroll_scroll();\r\n}, 100);\r\n\r\nfunction scroll_lazy(scr_item) {\r\n\tlet lazy_src = scr_item.querySelectorAll('*[data-src]');\r\n\tif (lazy_src.length > 0) {\r\n\t\tfor (let index = 0; index < lazy_src.length; index++) {\r\n\t\t\tconst el = lazy_src[index];\r\n\t\t\tif (!el.classList.contains('_loaded')) {\r\n\t\t\t\tel.setAttribute('src', el.getAttribute('data-src'));\r\n\t\t\t\tel.classList.add('_loaded');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tlet lazy_srcset = scr_item.querySelectorAll('*[data-srcset]');\r\n\tif (lazy_srcset.length > 0) {\r\n\t\tfor (let index = 0; index < lazy_srcset.length; index++) {\r\n\t\t\tconst el = lazy_srcset[index];\r\n\t\t\tif (!el.classList.contains('_loaded')) {\r\n\t\t\t\tel.setAttribute('srcset', el.getAttribute('data-srcset'));\r\n\t\t\t\tel.classList.add('_loaded');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nfunction scroll_load_item(scr_item) {\r\n\tif (scr_item.classList.contains('_load-map') && !scr_item.classList.contains('_loaded-map')) {\r\n\t\tlet map_item = document.getElementById('map');\r\n\t\tif (map_item) {\r\n\t\t\tscr_item.classList.add('_loaded-map');\r\n\t\t\tmap();\r\n\t\t}\r\n\t}\r\n}\r\nfunction scrParallax(block, scrProcent, blockHeight) {\r\n\tlet prlxItems = block.querySelectorAll('._prlx-item');\r\n\tif (prlxItems.length > 0) {\r\n\t\tfor (let index = 0; index < prlxItems.length; index++) {\r\n\t\t\tconst prlxItem = prlxItems[index];\r\n\t\t\tlet prlxItemAttr = (prlxItem.dataset.prlx) ? prlxItem.dataset.prlx : 3;\r\n\t\t\tconst prlxItemValue = -1 * (blockHeight / 100 * scrProcent / prlxItemAttr);\r\n\t\t\tprlxItem.style.cssText = `transform: translateY(${prlxItemValue}px);`;\r\n\t\t}\r\n\t}\r\n}\r\n//FullScreenScroll\r\nif (scr_blocks.length > 0 && !isMobile.any()) {\r\n\tdisableScroll();\r\n\twindow.addEventListener('wheel', full_scroll);\r\n\r\n\tlet swiperScrolls = document.querySelectorAll('._swiper_scroll');\r\n\r\n\tif (swiperScrolls.length > 0) {\r\n\t\tfor (let index = 0; index < swiperScrolls.length; index++) {\r\n\t\t\tconst swiperScroll = swiperScrolls[index];\r\n\t\t\tswiperScroll.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\twindow.removeEventListener('wheel', full_scroll);\r\n\t\t\t});\r\n\t\t\tswiperScroll.addEventListener(\"mouseleave\", function (e) {\r\n\t\t\t\twindow.addEventListener('wheel', full_scroll);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\nfunction getPrevBlockPos(current_block_prev) {\r\n\tlet viewport_height = window.innerHeight;\r\n\tlet current_block_prev_height = current_block_prev.offsetHeight;\r\n\tlet block_pos = offset(current_block_prev).top;\r\n\r\n\tif (current_block_prev_height >= viewport_height) {\r\n\t\tblock_pos = block_pos + (current_block_prev_height - viewport_height);\r\n\t}\r\n\treturn block_pos;\r\n}\r\nfunction full_scroll(e) {\r\n\tlet viewport_height = window.innerHeight;\r\n\tif (viewport_height >= scr_min_height) {\r\n\t\tif (scrolling_full) {\r\n\t\t\tlet current_block = document.querySelector('._scr-sector._scr-sector_current');\r\n\t\t\tlet current_block_pos = offset(current_block).top;\r\n\t\t\tlet current_block_height = current_block.offsetHeight;\r\n\t\t\tlet current_block_next = current_block.nextElementSibling;\r\n\t\t\tlet current_block_prev = current_block.previousElementSibling;\r\n\t\t\tif (e.keyCode == 40 || e.keyCode == 34 || e.deltaX > 0 || e.deltaY < 0) {\r\n\t\t\t\tif (current_block_height <= viewport_height) {\r\n\t\t\t\t\tif (current_block_prev) {\r\n\t\t\t\t\t\tfull_scroll_to_sector(getPrevBlockPos(current_block_prev));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t\tif (currentScroll <= current_block_pos) {\r\n\t\t\t\t\t\tif (current_block_prev) {\r\n\t\t\t\t\t\t\tfull_scroll_to_sector(getPrevBlockPos(current_block_prev));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (e.keyCode == 38 || e.keyCode == 33 || e.deltaX < 0 || e.deltaY > 0) {\r\n\t\t\t\tif (current_block_height <= viewport_height) {\r\n\t\t\t\t\tif (current_block_next) {\r\n\t\t\t\t\t\tlet block_pos = offset(current_block_next).top;\r\n\t\t\t\t\t\tfull_scroll_to_sector(block_pos);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t\tif (current_block_next) {\r\n\t\t\t\t\t\tlet block_pos = offset(current_block_next).top;\r\n\t\t\t\t\t\tif (currentScroll >= block_pos - viewport_height) {\r\n\t\t\t\t\t\t\tfull_scroll_to_sector(block_pos);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdisableScroll();\r\n\t\t}\r\n\t} else {\r\n\t\tenableScroll();\r\n\t}\r\n}\r\nfunction full_scroll_to_sector(pos) {\r\n\tdisableScroll();\r\n\tscrolling_full = false;\r\n\t_goto(pos, 800);\r\n\r\n\tlet scr_pause = 500;\r\n\tif (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n\t\tscr_pause = 1000;\r\n\t};\r\n\tsetTimeout(function () {\r\n\t\tscrolling_full = true;\r\n\t}, scr_pause);\r\n}\r\nfunction full_scroll_pagestart() { }\r\nfunction full_scroll_pageend() { }\r\n\r\n//ScrollOnClick (Navigation)\r\nlet link = document.querySelectorAll('._goto-block');\r\nif (link) {\r\n\tlet blocks = [];\r\n\tfor (let index = 0; index < link.length; index++) {\r\n\t\tlet el = link[index];\r\n\t\tlet block_name = el.getAttribute('href').replace('#', '');\r\n\t\tif (block_name != '' && !~blocks.indexOf(block_name)) {\r\n\t\t\tblocks.push(block_name);\r\n\t\t}\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tif (document.querySelector('.menu__body._active')) {\r\n\t\t\t\tmenu_close();\r\n\t\t\t\tbody_lock_remove(500);\r\n\t\t\t}\r\n\t\t\tlet target_block_class = el.getAttribute('href').replace('#', '');\r\n\t\t\tlet target_block = document.querySelector('.' + target_block_class);\r\n\t\t\t_goto(target_block, 300);\r\n\t\t\te.preventDefault();\r\n\t\t})\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', function (el) {\r\n\t\tlet old_current_link = document.querySelectorAll('._goto-block._active');\r\n\t\tif (old_current_link) {\r\n\t\t\tfor (let index = 0; index < old_current_link.length; index++) {\r\n\t\t\t\tlet el = old_current_link[index];\r\n\t\t\t\tel.classList.remove('_active');\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let index = 0; index < blocks.length; index++) {\r\n\t\t\tlet block = blocks[index];\r\n\t\t\tlet block_item = document.querySelector('.' + block);\r\n\t\t\tif (block_item) {\r\n\t\t\t\tlet block_offset = offset(block_item).top;\r\n\t\t\t\tlet block_height = block_item.offsetHeight;\r\n\t\t\t\tif ((pageYOffset > block_offset - window.innerHeight / 3) && pageYOffset < (block_offset + block_height) - window.innerHeight / 3) {\r\n\t\t\t\t\tlet current_links = document.querySelectorAll('._goto-block[href=\"#' + block + '\"]');\r\n\t\t\t\t\tfor (let index = 0; index < current_links.length; index++) {\r\n\t\t\t\t\t\tlet current_link = current_links[index];\r\n\t\t\t\t\t\tcurrent_link.classList.add('_active');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n//ScrollOnClick (Simple)\r\nlet goto_links = document.querySelectorAll('._goto');\r\nlet body = document.querySelector(\"body\");\r\nif (goto_links) {\r\n\tfor (let index = 0; index < goto_links.length; index++) {\r\n\t\tlet goto_link = goto_links[index];\r\n\t\tgoto_link.addEventListener('click', function (e) {\r\n\t\t\tif (body.classList.contains('_lock')) {\r\n\t\t\t\tpopup_close(e.target.closest('.popup'));\r\n\t\t\t\tbody_lock_remove(delay);\r\n\t\t\t}\r\n\t\t\tlet target_block_class = goto_link.getAttribute('href').replace('#', '');\r\n\t\t\tlet target_block = document.querySelector('.' + target_block_class);\r\n\t\t\t_goto(target_block, 600);\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nfunction _goto(target_block, speed, offset = 0) {\r\n\tlet header = '';\r\n\t//OffsetHeader\r\n\t//if (window.innerWidth < 992) {\r\n\t//\theader = 'header';\r\n\t//}\r\n\tlet options = {\r\n\t\tspeedAsDuration: true,\r\n\t\tspeed: speed,\r\n\t\theader: header,\r\n\t\toffset: offset,\r\n\t\teasing: 'easeOutQuad',\r\n\t};\r\n\tlet scr = new SmoothScroll();\r\n\tscr.animateScroll(target_block, '', options);\r\n}\r\n\r\n//SameFunctions\r\nfunction offset(el) {\r\n\tvar rect = el.getBoundingClientRect(),\r\n\t\tscrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n\t\tscrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n\treturn { top: rect.top + scrollTop, left: rect.left + scrollLeft }\r\n}\r\nfunction disableScroll() {\r\n\tif (window.addEventListener) // older FF\r\n\t\twindow.addEventListener('DOMMouseScroll', preventDefault, false);\r\n\tdocument.addEventListener('wheel', preventDefault, { passive: false }); // Disable scrolling in Chrome\r\n\twindow.onwheel = preventDefault; // modern standard\r\n\twindow.onmousewheel = document.onmousewheel = preventDefault; // older browsers, IE\r\n\twindow.ontouchmove = preventDefault; // mobile\r\n\tdocument.onkeydown = preventDefaultForScrollKeys;\r\n}\r\nfunction enableScroll() {\r\n\tif (window.removeEventListener)\r\n\t\twindow.removeEventListener('DOMMouseScroll', preventDefault, false);\r\n\tdocument.removeEventListener('wheel', preventDefault, { passive: false }); // Enable scrolling in Chrome\r\n\twindow.onmousewheel = document.onmousewheel = null;\r\n\twindow.onwheel = null;\r\n\twindow.ontouchmove = null;\r\n\tdocument.onkeydown = null;\r\n}\r\nfunction preventDefault(e) {\r\n\te = e || window.event;\r\n\tif (e.preventDefault)\r\n\t\te.preventDefault();\r\n\te.returnValue = false;\r\n}\r\nfunction preventDefaultForScrollKeys(e) {\r\n\t/*if (keys[e.keyCode]) {\r\n\t\tpreventDefault(e);\r\n\t\treturn false;\r\n\t}*/\r\n}\r\n\r\nfunction fix_block(scr_fix_block, scr_value) {\r\n\tlet window_width = parseInt(window.innerWidth);\r\n\tlet window_height = parseInt(window.innerHeight);\r\n\tlet header_height = parseInt(document.querySelector('header').offsetHeight) + 15;\r\n\tfor (let index = 0; index < scr_fix_block.length; index++) {\r\n\t\tconst block = scr_fix_block[index];\r\n\t\tlet block_width = block.getAttribute('data-width');\r\n\t\tconst item = block.querySelector('._side-block');\r\n\t\tif (!block_width) { block_width = 0; }\r\n\t\tif (window_width > block_width) {\r\n\t\t\tif (item.offsetHeight < window_height - (header_height + 30)) {\r\n\t\t\t\tif (scr_value > offset(block).top - (header_height + 15)) {\r\n\t\t\t\t\titem.style.cssText = \"position:fixed;bottom:auto;top:\" + header_height + \"px;width:\" + block.offsetWidth + \"px;left:\" + offset(block).left + \"px;\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgotoRelative(item);\r\n\t\t\t\t}\r\n\t\t\t\tif (scr_value > (block.offsetHeight + offset(block).top) - (item.offsetHeight + (header_height + 15))) {\r\n\t\t\t\t\tblock.style.cssText = \"position:relative;\";\r\n\t\t\t\t\titem.style.cssText = \"position:absolute;bottom:0;top:auto;left:0px;width:100%\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tgotoRelative(item);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction gotoRelative(item) {\r\n\t\titem.style.cssText = \"position:relative;bottom:auto;top:0px;left:0px;\";\r\n\t}\r\n}\r\n\r\nif (!isMobile.any()) {\r\n\t//custom_scroll();\r\n\t/*\r\n\twindow.addEventListener('wheel', scroll_animate, {\r\n\t\tcapture: true,\r\n\t\tpassive: true\r\n\t});\r\n\twindow.addEventListener('resize', custom_scroll, {\r\n\t\tcapture: true,\r\n\t\tpassive: true\r\n\t});\r\n\t*/\r\n}\r\nfunction custom_scroll(event) {\r\n\tscr_body.style.overflow = 'hidden';\r\n\tlet window_height = window.innerHeight;\r\n\tlet custom_scroll_line = document.querySelector('._custom-scroll__line');\r\n\tlet custom_scroll_content_height = document.querySelector('.wrapper').offsetHeight;\r\n\tlet custom_cursor_height = Math.min(window_height, Math.round(window_height * (window_height / custom_scroll_content_height)));\r\n\tif (custom_scroll_content_height > window_height) {\r\n\t\tif (!custom_scroll_line) {\r\n\t\t\tlet custom_scroll = document.createElement('div');\r\n\t\t\tcustom_scroll_line = document.createElement('div');\r\n\t\t\tcustom_scroll.setAttribute('class', '_custom-scroll');\r\n\t\t\tcustom_scroll_line.setAttribute('class', '_custom-scroll__line');\r\n\t\t\tcustom_scroll.appendChild(custom_scroll_line);\r\n\t\t\tscr_body.appendChild(custom_scroll);\r\n\t\t}\r\n\t\tcustom_scroll_line.style.height = custom_cursor_height + 'px';\r\n\t}\r\n}\r\n\r\nlet new_pos = pageYOffset;\r\nfunction scroll_animate(event) {\r\n\tlet window_height = window.innerHeight;\r\n\tlet content_height = document.querySelector('.wrapper').offsetHeight;\r\n\tlet start_position = pageYOffset;\r\n\tlet pos_add = 100;\r\n\r\n\tif (event.keyCode == 40 || event.keyCode == 34 || event.deltaX > 0 || event.deltaY < 0) {\r\n\t\tnew_pos = new_pos - pos_add;\r\n\t} else if (event.keyCode == 38 || event.keyCode == 33 || event.deltaX < 0 || event.deltaY > 0) {\r\n\t\tnew_pos = new_pos + pos_add;\r\n\t}\r\n\tif (new_pos > (content_height - window_height)) new_pos = content_height - window_height;\r\n\tif (new_pos < 0) new_pos = 0;\r\n\r\n\tif (scrolling) {\r\n\t\tscrolling = false;\r\n\t\t_goto(new_pos, 1000);\r\n\r\n\t\tlet scr_pause = 100;\r\n\t\tif (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n\t\t\tscr_pause = scr_pause * 2;\r\n\t\t};\r\n\t\tsetTimeout(function () {\r\n\t\t\tscrolling = true;\r\n\t\t\t_goto(new_pos, 1000);\r\n\t\t}, scr_pause);\r\n\t}\r\n\t//If native scroll\r\n\t//disableScroll();\r\n}\r\n\r\n// Dynamic Adapt v.1\r\n// HTML data-da=\"where(uniq class name),when(breakpoint),position(digi)\"\r\n// e.x. data-da=\".item,992,2\"\r\n// Andrikanych Yevhen 2020\r\n// https://www.youtube.com/c/freelancerlifestyle\r\n\r\n\"use strict\";\r\n\r\n\r\nfunction DynamicAdapt(type) {\r\n\tthis.type = type;\r\n}\r\n\r\nDynamicAdapt.prototype.init = function () {\r\n\tconst _this = this;\r\n\t// массив объектов\r\n\tthis.оbjects = [];\r\n\tthis.daClassname = \"_dynamic_adapt_\";\r\n\t// массив DOM-элементов\r\n\tthis.nodes = document.querySelectorAll(\"[data-da]\");\r\n\r\n\t// наполнение оbjects объктами\r\n\tfor (let i = 0; i < this.nodes.length; i++) {\r\n\t\tconst node = this.nodes[i];\r\n\t\tconst data = node.dataset.da.trim();\r\n\t\tconst dataArray = data.split(\",\");\r\n\t\tconst оbject = {};\r\n\t\tоbject.element = node;\r\n\t\tоbject.parent = node.parentNode;\r\n\t\tоbject.destination = document.querySelector(dataArray[0].trim());\r\n\t\tоbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\r\n\t\tоbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\r\n\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\tthis.оbjects.push(оbject);\r\n\t}\r\n\r\n\tthis.arraySort(this.оbjects);\r\n\r\n\t// массив уникальных медиа-запросов\r\n\tthis.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\r\n\t\treturn '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\r\n\t}, this);\r\n\tthis.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\r\n\t\treturn Array.prototype.indexOf.call(self, item) === index;\r\n\t});\r\n\r\n\t// навешивание слушателя на медиа-запрос\r\n\t// и вызов обработчика при первом запуске\r\n\tfor (let i = 0; i < this.mediaQueries.length; i++) {\r\n\t\tconst media = this.mediaQueries[i];\r\n\t\tconst mediaSplit = String.prototype.split.call(media, ',');\r\n\t\tconst matchMedia = window.matchMedia(mediaSplit[0]);\r\n\t\tconst mediaBreakpoint = mediaSplit[1];\r\n\r\n\t\t// массив объектов с подходящим брейкпоинтом\r\n\t\tconst оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\r\n\t\t\treturn item.breakpoint === mediaBreakpoint;\r\n\t\t});\r\n\t\tmatchMedia.addListener(function () {\r\n\t\t\t_this.mediaHandler(matchMedia, оbjectsFilter);\r\n\t\t});\r\n\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\r\n\t}\r\n};\r\n\r\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\r\n\tif (matchMedia.matches) {\r\n\t\tfor (let i = 0; i < оbjects.length; i++) {\r\n\t\t\tconst оbject = оbjects[i];\r\n\t\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\t\tthis.moveTo(оbject.place, оbject.element, оbject.destination);\r\n\t\t}\r\n\t} else {\r\n\t\tfor (let i = 0; i < оbjects.length; i++) {\r\n\t\t\tconst оbject = оbjects[i];\r\n\t\t\tif (оbject.element.classList.contains(this.daClassname)) {\r\n\t\t\t\tthis.moveBack(оbject.parent, оbject.element, оbject.index);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Функция перемещения\r\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\r\n\telement.classList.add(this.daClassname);\r\n\tif (place === 'last' || place >= destination.children.length) {\r\n\t\tdestination.insertAdjacentElement('beforeend', element);\r\n\t\treturn;\r\n\t}\r\n\tif (place === 'first') {\r\n\t\tdestination.insertAdjacentElement('afterbegin', element);\r\n\t\treturn;\r\n\t}\r\n\tdestination.children[place].insertAdjacentElement('beforebegin', element);\r\n}\r\n\r\n// Функция возврата\r\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\r\n\telement.classList.remove(this.daClassname);\r\n\tif (parent.children[index] !== undefined) {\r\n\t\tparent.children[index].insertAdjacentElement('beforebegin', element);\r\n\t} else {\r\n\t\tparent.insertAdjacentElement('beforeend', element);\r\n\t}\r\n}\r\n\r\n// Функция получения индекса внутри родителя\r\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\r\n\tconst array = Array.prototype.slice.call(parent.children);\r\n\treturn Array.prototype.indexOf.call(array, element);\r\n};\r\n\r\n// Функция сортировки массива по breakpoint и place \r\n// по возрастанию для this.type = min\r\n// по убыванию для this.type = max\r\nDynamicAdapt.prototype.arraySort = function (arr) {\r\n\tif (this.type === \"min\") {\r\n\t\tArray.prototype.sort.call(arr, function (a, b) {\r\n\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn a.place - b.place;\r\n\t\t\t}\r\n\r\n\t\t\treturn a.breakpoint - b.breakpoint;\r\n\t\t});\r\n\t} else {\r\n\t\tArray.prototype.sort.call(arr, function (a, b) {\r\n\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn b.place - a.place;\r\n\t\t\t}\r\n\r\n\t\t\treturn b.breakpoint - a.breakpoint;\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n};\r\n\r\nconst da = new DynamicAdapt(\"max\");\r\nda.init();"]}